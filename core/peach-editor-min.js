/*! For license information please see peach-editor-min.js.LICENSE.txt */
(()=>{var t={3939:t=>{"use strict";var e={single_source_shortest_paths:function(t,i,n){var a={},r={};r[i]=0;var o,s,l,c,h,u,f,d=e.PriorityQueue.make();for(d.push(i,0);!d.empty();)for(l in s=(o=d.pop()).value,c=o.cost,h=t[s]||{})h.hasOwnProperty(l)&&(u=c+h[l],f=r[l],(void 0===r[l]||f>u)&&(r[l]=u,d.push(l,u),a[l]=s));if(void 0!==n&&void 0===r[n]){var p=["Could not find a path from ",i," to ",n,"."].join("");throw new Error(p)}return a},extract_shortest_path_from_predecessor_list:function(t,e){for(var i=[],n=e;n;)i.push(n),t[n],n=t[n];return i.reverse(),i},find_path:function(t,i,n){var a=e.single_source_shortest_paths(t,i,n);return e.extract_shortest_path_from_predecessor_list(a,n)},PriorityQueue:{make:function(t){var i,n=e.PriorityQueue,a={};for(i in t=t||{},n)n.hasOwnProperty(i)&&(a[i]=n[i]);return a.queue=[],a.sorter=t.sorter||n.default_sorter,a},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var i={value:t,cost:e};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e},6129:(t,e,i)=>{"use strict";var n=f(i(9368)),a=f(i(1490)),r=f(i(8165)),o=f(i(3623)),s=f(i(8179)),l=f(i(9796)),c=f(i(4205)),h=i(8157),u=f(i(5099));function f(t){return t&&t.__esModule?t:{default:t}}var d=function(){},p=function(t,e,i){var n=new d;if(void 0===t)throw Error("No element to render on was provided.");return n._renderProperties=(0,s.default)(t),n._encodings=[],n._options=u.default,n._errorHandler=new c.default(n),void 0!==e&&((i=i||{}).format||(i.format=g()),n.options(i)[i.format](e,i).render()),n};for(var v in p.getModule=function(t){return n.default[t]},n.default)n.default.hasOwnProperty(v)&&_(n.default,v);function _(t,e){d.prototype[e]=d.prototype[e.toUpperCase()]=d.prototype[e.toLowerCase()]=function(i,n){var r=this;return r._errorHandler.wrapBarcodeCall((function(){n.text=void 0===n.text?void 0:""+n.text;var o=(0,a.default)(r._options,n);o=(0,l.default)(o);var s=t[e],c=E(i,s,o);return r._encodings.push(c),r}))}}function E(t,e,i){var n=new e(t=""+t,i);if(!n.valid())throw new h.InvalidInputException(n.constructor.name,t);var o=n.encode();o=(0,r.default)(o);for(var s=0;s<o.length;s++)o[s].options=(0,a.default)(i,o[s].options);return o}function g(){return n.default.CODE128?"CODE128":Object.keys(n.default)[0]}function C(t,e,i){e=(0,r.default)(e);for(var n=0;n<e.length;n++)e[n].options=(0,a.default)(i,e[n].options),(0,o.default)(e[n].options);(0,o.default)(i),new(0,t.renderer)(t.element,e,i).render(),t.afterRender&&t.afterRender()}d.prototype.options=function(t){return this._options=(0,a.default)(this._options,t),this},d.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this},d.prototype.init=function(){var t;if(this._renderProperties)for(var e in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){t=this._renderProperties[e];var i=(0,a.default)(this._options,t.options);"auto"==i.format&&(i.format=g()),this._errorHandler.wrapBarcodeCall((function(){var e=E(i.value,n.default[i.format.toUpperCase()],i);C(t,e,i)}))}},d.prototype.render=function(){if(!this._renderProperties)throw new h.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)C(this._renderProperties[t],this._encodings,this._options);else C(this._renderProperties,this._encodings,this._options);return this},d.prototype._defaults=u.default,"undefined"!=typeof window&&(window.JsBarcode=p),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(t,e){var i=[];return jQuery(this).each((function(){i.push(this)})),p(i,t,e)}),t.exports=p},2444:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.text=i.text||e,this.options=i}},3651:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=(n=i(2444))&&n.__esModule?n:{default:n},o=i(2700),s=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.substring(1),i));return n.bytes=t.split("").map((function(t){return t.charCodeAt(0)})),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var t=this.bytes,i=t.shift()-105,n=o.SET_BY_CODE[i];if(void 0===n)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&t.unshift(o.FNC1);var a=e.next(t,1,n);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+a.result+e.getBar((a.checksum+i)%o.MODULO)+e.getBar(o.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var t=this.options.ean128||!1;return"string"==typeof t&&(t="true"===t.toLowerCase()),t}}],[{key:"getBar",value:function(t){return o.BARS[t]?o.BARS[t].toString():""}},{key:"correctIndex",value:function(t,e){if(e===o.SET_A){var i=t.shift();return i<32?i+64:i-32}return e===o.SET_B?t.shift()-32:10*(t.shift()-48)+t.shift()-48}},{key:"next",value:function(t,i,n){if(!t.length)return{result:"",checksum:0};var a=void 0,r=void 0;if(t[0]>=200){r=t.shift()-105;var s=o.SWAP[r];void 0!==s?a=e.next(t,i+1,s):(n!==o.SET_A&&n!==o.SET_B||r!==o.SHIFT||(t[0]=n===o.SET_A?t[0]>95?t[0]-96:t[0]:t[0]<32?t[0]+96:t[0]),a=e.next(t,i+1,n))}else r=e.correctIndex(t,n),a=e.next(t,i+1,n);var l=r*i;return{result:e.getBar(r)+a.result,checksum:l+a.checksum}}}]),e}(r.default);e.default=s},3804:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=(n=i(3651))&&n.__esModule?n:{default:n},o=i(2700),s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o.A_START_CHAR+t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"valid",value:function(){return new RegExp("^"+o.A_CHARS+"+$").test(this.data)}}]),e}(r.default);e.default=s},3541:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=(n=i(3651))&&n.__esModule?n:{default:n},o=i(2700),s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o.B_START_CHAR+t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"valid",value:function(){return new RegExp("^"+o.B_CHARS+"+$").test(this.data)}}]),e}(r.default);e.default=s},5798:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=(n=i(3651))&&n.__esModule?n:{default:n},o=i(2700),s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o.C_START_CHAR+t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"valid",value:function(){return new RegExp("^"+o.C_CHARS+"+$").test(this.data)}}]),e}(r.default);e.default=s},4845:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(3651)),a=r(i(4802));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(t,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(t))var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,a.default)(t),i));else n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return o(n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n.default);e.default=s},4802:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2700),a=function(t){return t.match(new RegExp("^"+n.A_CHARS+"*"))[0].length},r=function(t){return t.match(new RegExp("^"+n.B_CHARS+"*"))[0].length},o=function(t){return t.match(new RegExp("^"+n.C_CHARS+"*"))[0]};function s(t,e){var i=e?n.A_CHARS:n.B_CHARS,a=t.match(new RegExp("^("+i+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(a)return a[1]+String.fromCharCode(204)+l(t.substring(a[1].length));var r=t.match(new RegExp("^"+i+"+"))[0];return r.length===t.length?t:r+String.fromCharCode(e?205:206)+s(t.substring(r.length),!e)}function l(t){var e=o(t),i=e.length;if(i===t.length)return t;t=t.substring(i);var n=a(t)>=r(t);return e+String.fromCharCode(n?206:205)+s(t,n)}e.default=function(t){var e=void 0;if(o(t).length>=2)e=n.C_START_CHAR+l(t);else{var i=a(t)>r(t);e=(i?n.A_START_CHAR:n.B_START_CHAR)+s(t,i)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,(function(t,e){return String.fromCharCode(203)+e}))}},2700:(t,e)=>{"use strict";var i;function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var a=e.SET_A=0,r=e.SET_B=1,o=e.SET_C=2,s=(e.SHIFT=98,e.START_A=103),l=e.START_B=104,c=e.START_C=105;e.MODULO=103,e.STOP=106,e.FNC1=207,e.SET_BY_CODE=(n(i={},s,a),n(i,l,r),n(i,c,o),i),e.SWAP={101:a,100:r,99:o},e.A_START_CHAR=String.fromCharCode(208),e.B_START_CHAR=String.fromCharCode(209),e.C_START_CHAR=String.fromCharCode(210),e.A_CHARS="[\0-_È-Ï]",e.B_CHARS="[ -È-Ï]",e.C_CHARS="(Ï*[0-9]{2}Ï*)",e.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},1509:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CODE128C=e.CODE128B=e.CODE128A=e.CODE128=void 0;var n=s(i(4845)),a=s(i(3804)),r=s(i(3541)),o=s(i(5798));function s(t){return t&&t.__esModule?t:{default:t}}e.CODE128=n.default,e.CODE128A=a.default,e.CODE128B=r.default,e.CODE128C=o.default},1428:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CODE39=void 0;var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=t.toUpperCase(),i.mod43&&(t+=function(t){return o[t]}(function(t){for(var e=0,i=0;i<t.length;i++)e+=c(t[i]);return e%43}(t))),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"encode",value:function(){for(var t=l("*"),e=0;e<this.data.length;e++)t+=l(this.data[e])+"0";return{data:t+=l("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),e}(((n=i(2444))&&n.__esModule?n:{default:n}).default),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],s=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function l(t){return function(t){return s[t].toString(2)}(c(t))}function c(t){return o.indexOf(t)}e.CODE39=r},4754:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(6575),r=o(i(6350));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.fontSize=!i.flat&&i.fontSize>10*i.width?10*i.width:i.fontSize,n.guardHeight=i.height+n.fontSize/2+i.textMargin,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(t,e){return this.text.substr(t,e)}},{key:"leftEncode",value:function(t,e){return(0,r.default)(t,e)}},{key:"rightText",value:function(t,e){return this.text.substr(t,e)}},{key:"rightEncode",value:function(t,e){return(0,r.default)(t,e)}},{key:"encodeGuarded",value:function(){var t={fontSize:this.fontSize},e={height:this.guardHeight};return[{data:a.SIDE_BIN,options:e},{data:this.leftEncode(),text:this.leftText(),options:t},{data:a.MIDDLE_BIN,options:e},{data:this.rightEncode(),text:this.rightText(),options:t},{data:a.SIDE_BIN,options:e}]}},{key:"encodeFlat",value:function(){return{data:[a.SIDE_BIN,this.leftEncode(),a.MIDDLE_BIN,this.rightEncode(),a.SIDE_BIN].join(""),text:this.text}}}]),e}(o(i(2444)).default);e.default=s},4250:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function t(e,i,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,i);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=i(6575),s=(n=i(4754))&&n.__esModule?n:{default:n},l=function(t){return(10-t.substr(0,12).split("").map((function(t){return+t})).reduce((function(t,e,i){return i%2?t+3*e:t+e}),0)%10)%10},c=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{12}$/)&&(t+=l(t));var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.lastChar=i.lastChar,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===l(this.data)}},{key:"leftText",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var t=this.data.substr(1,6),i=o.EAN13_STRUCTURE[this.data[0]];return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,t,i)}},{key:"rightText",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var t=this.data.substr(7,6);return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,t,"RRRRRR")}},{key:"encodeGuarded",value:function(){var t=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(t.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(t.push({data:"00"}),t.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),t}}]),e}(s.default);e.default=c},7570:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(6575),r=o(i(6350));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var t=a.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,r.default)(this.data,t,"01"),text:this.text}}}]),e}(o(i(2444)).default);e.default=s},8075:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(6575),r=o(i(6350));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var t=a.EAN5_STRUCTURE[function(t){return t.split("").map((function(t){return+t})).reduce((function(t,e,i){return i%2?t+9*e:t+3*e}),0)%10}(this.data)];return{data:"1011"+(0,r.default)(this.data,t,"01"),text:this.text}}}]),e}(o(i(2444)).default);e.default=s},8784:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function t(e,i,n){null===e&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,i);if(void 0===a){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(n):void 0},o=(n=i(4754))&&n.__esModule?n:{default:n},s=function(t){return(10-t.substr(0,7).split("").map((function(t){return+t})).reduce((function(t,e,i){return i%2?t+e:t+3*e}),0)%10)%10},l=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{7}$/)&&(t+=s(t)),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===s(this.data)}},{key:"leftText",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var t=this.data.substr(0,4);return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,t,"LLLL")}},{key:"rightText",value:function(){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var t=this.data.substr(4,4);return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,t,"RRRR")}}]),e}(o.default);e.default=l},7960:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.checksum=s;var a=r(i(6350));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{11}$/)&&(t+=s(t));var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.displayValue=i.displayValue,i.fontSize>10*i.width?n.fontSize=10*i.width:n.fontSize=i.fontSize,n.guardHeight=i.height+n.fontSize/2+i.textMargin,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==s(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var t="";return t+="101",t+=(0,a.default)(this.data.substr(0,6),"LLLLLL"),t+="01010",t+=(0,a.default)(this.data.substr(6,6),"RRRRRR"),{data:t+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var t=[];return this.displayValue&&t.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101"+(0,a.default)(this.data[0],"L"),options:{height:this.guardHeight}}),t.push({data:(0,a.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),t.push({data:"01010",options:{height:this.guardHeight}}),t.push({data:(0,a.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),t.push({data:(0,a.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&t.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),t}}]),e}(r(i(2444)).default);function s(t){var e,i=0;for(e=1;e<11;e+=2)i+=parseInt(t[e]);for(e=0;e<11;e+=2)i+=3*parseInt(t[e]);return(10-i%10)%10}e.default=o},3781:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=s(i(6350)),r=s(i(2444)),o=i(7960);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],h=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],u=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));if(n.isValid=!1,-1!==t.search(/^[0-9]{6}$/))n.middleDigits=t,n.upcA=f(t,"0"),n.text=i.text||""+n.upcA[0]+t+n.upcA[n.upcA.length-1],n.isValid=!0;else{if(-1===t.search(/^[01][0-9]{7}$/))return l(n);if(n.middleDigits=t.substring(1,t.length-1),n.upcA=f(n.middleDigits,t[0]),n.upcA[n.upcA.length-1]!==t[t.length-1])return l(n);n.isValid=!0}return n.displayValue=i.displayValue,i.fontSize>10*i.width?n.fontSize=10*i.width:n.fontSize=i.fontSize,n.guardHeight=i.height+n.fontSize/2+i.textMargin,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var t="";return t+="101",t+=this.encodeMiddleDigits(),{data:t+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var t=[];return this.displayValue&&t.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101",options:{height:this.guardHeight}}),t.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),t.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&t.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),t}},{key:"encodeMiddleDigits",value:function(){var t=this.upcA[0],e=this.upcA[this.upcA.length-1],i=h[parseInt(e)][parseInt(t)];return(0,a.default)(this.middleDigits,i)}}]),e}(r.default);function f(t,e){for(var i=parseInt(t[t.length-1]),n=c[i],a="",r=0,s=0;s<n.length;s++){var l=n[s];a+="X"===l?t[r++]:l}return(a=""+e+a)+(0,o.checksum)(a)}e.default=u},6575:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SIDE_BIN="101",e.MIDDLE_BIN="01010",e.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},e.EAN2_STRUCTURE=["LL","LG","GL","GG"],e.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],e.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},6350:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6575);e.default=function(t,e,i){var a=t.split("").map((function(t,i){return n.BINARIES[e[i]]})).map((function(e,i){return e?e[t[i]]:""}));if(i){var r=t.length-1;a=a.map((function(t,e){return e<r?t+i:t}))}return a.join("")}},5726:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UPCE=e.UPC=e.EAN2=e.EAN5=e.EAN8=e.EAN13=void 0;var n=c(i(4250)),a=c(i(8784)),r=c(i(8075)),o=c(i(7570)),s=c(i(7960)),l=c(i(3781));function c(t){return t&&t.__esModule?t:{default:t}}e.EAN13=n.default,e.EAN8=a.default,e.EAN5=r.default,e.EAN2=o.default,e.UPC=s.default,e.UPCE=l.default},1886:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericBarcode=void 0;var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(((n=i(2444))&&n.__esModule?n:{default:n}).default);e.GenericBarcode=r},739:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(1135),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var t=this,e=this.data.match(/.{2}/g).map((function(e){return t.encodePair(e)})).join("");return{data:r.START_BIN+e+r.END_BIN,text:this.text}}},{key:"encodePair",value:function(t){var e=r.BINARIES[t[1]];return r.BINARIES[t[0]].split("").map((function(t,i){return("1"===t?"111":"1")+("1"===e[i]?"000":"0")})).join("")}}]),e}(((n=i(2444))&&n.__esModule?n:{default:n}).default);e.default=o},8122:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=(n=i(739))&&n.__esModule?n:{default:n},o=function(t){var e=t.substr(0,13).split("").map((function(t){return parseInt(t,10)})).reduce((function(t,e,i){return t+e*(3-i%2*2)}),0);return 10*Math.ceil(e/10)-e},s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{13}$/)&&(t+=o(t)),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===o(this.data)}}]),e}(r.default);e.default=s},1135:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.START_BIN="1010",e.END_BIN="11101",e.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},5070:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITF14=e.ITF=void 0;var n=r(i(739)),a=r(i(8122));function r(t){return t&&t.__esModule?t:{default:t}}e.ITF=n.default,e.ITF14=a.default},3551:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"encode",value:function(){for(var t="110",e=0;e<this.data.length;e++){var i=parseInt(this.data[e]).toString(2);i=o(i,4-i.length);for(var n=0;n<i.length;n++)t+="0"==i[n]?"100":"110"}return{data:t+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),e}(((n=i(2444))&&n.__esModule?n:{default:n}).default);function o(t,e){for(var i=0;i<e;i++)t="0"+t;return t}e.default=r},6338:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=(n=i(3551))&&n.__esModule?n:{default:n},r=i(6320),o=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t+(0,r.mod10)(t),i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(a.default);e.default=o},23:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=(n=i(3551))&&n.__esModule?n:{default:n},r=i(6320),o=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t+=(0,r.mod10)(t),t+=(0,r.mod10)(t),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(a.default);e.default=o},6065:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=(n=i(3551))&&n.__esModule?n:{default:n},r=i(6320),o=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t+(0,r.mod11)(t),i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(a.default);e.default=o},7052:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=(n=i(3551))&&n.__esModule?n:{default:n},r=i(6320),o=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t+=(0,r.mod11)(t),t+=(0,r.mod10)(t),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(a.default);e.default=o},6320:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mod10=function(t){for(var e=0,i=0;i<t.length;i++){var n=parseInt(t[i]);(i+t.length)%2==0?e+=n:e+=2*n%10+Math.floor(2*n/10)}return(10-e%10)%10},e.mod11=function(t){for(var e=0,i=[2,3,4,5,6,7],n=0;n<t.length;n++){var a=parseInt(t[t.length-1-n]);e+=i[n%i.length]*a}return(11-e%11)%11}},8248:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MSI1110=e.MSI1010=e.MSI11=e.MSI10=e.MSI=void 0;var n=l(i(3551)),a=l(i(6338)),r=l(i(6065)),o=l(i(23)),s=l(i(7052));function l(t){return t&&t.__esModule?t:{default:t}}e.MSI=n.default,e.MSI10=a.default,e.MSI11=r.default,e.MSI1010=o.default,e.MSI1110=s.default},1133:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.codabar=void 0;var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),0===t.search(/^[0-9\-\$\:\.\+\/]+$/)&&(t="A"+t+"A");var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.toUpperCase(),i));return n.text=n.options.text||n.text.replace(/[A-D]/g,""),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var t=[],e=this.getEncodings(),i=0;i<this.data.length;i++)t.push(e[this.data.charAt(i)]),i!==this.data.length-1&&t.push("0");return{text:this.text,data:t.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(((n=i(2444))&&n.__esModule?n:{default:n}).default);e.codabar=r},9368:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1428),a=i(1509),r=i(5726),o=i(5070),s=i(8248),l=i(2889),c=i(1133),h=i(1886);e.default={CODE39:n.CODE39,CODE128:a.CODE128,CODE128A:a.CODE128A,CODE128B:a.CODE128B,CODE128C:a.CODE128C,EAN13:r.EAN13,EAN8:r.EAN8,EAN5:r.EAN5,EAN2:r.EAN2,UPC:r.UPC,UPCE:r.UPCE,ITF14:o.ITF14,ITF:o.ITF,MSI:s.MSI,MSI10:s.MSI10,MSI11:s.MSI11,MSI1010:s.MSI1010,MSI1110:s.MSI1110,pharmacode:l.pharmacode,codabar:c.codabar,GenericBarcode:h.GenericBarcode}},2889:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pharmacode=void 0;var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.number=parseInt(t,10),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"encode",value:function(){for(var t=this.number,e="";!isNaN(t)&&0!=t;)t%2==0?(e="11100"+e,t=(t-2)/2):(e="100"+e,t=(t-1)/2);return{data:e=e.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(((n=i(2444))&&n.__esModule?n:{default:n}).default);e.pharmacode=r},4205:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=e}return i(t,[{key:"handleCatch",value:function(t){if("InvalidInputException"!==t.name)throw t;if(this.api._options.valid===this.api._defaults.valid)throw t.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(t){try{var e=t.apply(void 0,arguments);return this.api._options.valid(!0),e}catch(t){return this.handleCatch(t),this.api}}}]),t}();e.default=n},8157:(t,e)=>{"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(t,a){i(this,e);var r=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.name="InvalidInputException",r.symbology=t,r.input=a,r.message='"'+r.input+'" is not a valid input for '+r.symbology,r}return a(e,Error),e}(),o=function(t){function e(){i(this,e);var t=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.name="InvalidElementException",t.message="Not supported type to render on",t}return a(e,Error),e}(),s=function(t){function e(){i(this,e);var t=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.name="NoElementException",t.message="No element to render on.",t}return a(e,Error),e}();e.InvalidInputException=r,e.InvalidElementException=o,e.NoElementException=s},3623:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}},892:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(i(9796)),a=r(i(5099));function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e={};for(var i in a.default)a.default.hasOwnProperty(i)&&(t.hasAttribute("jsbarcode-"+i.toLowerCase())&&(e[i]=t.getAttribute("jsbarcode-"+i.toLowerCase())),t.hasAttribute("data-"+i.toLowerCase())&&(e[i]=t.getAttribute("data-"+i.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),(0,n.default)(e)}},8179:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=s(i(892)),r=s(i(2727)),o=i(8157);function s(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){if("string"==typeof e)return function(e){var i=document.querySelectorAll(e);if(0!==i.length){for(var n=[],a=0;a<i.length;a++)n.push(t(i[a]));return n}}(e);if(Array.isArray(e)){for(var i=[],s=0;s<e.length;s++)i.push(t(e[s]));return i}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLImageElement)return l=e,{element:c=document.createElement("canvas"),options:(0,a.default)(l),renderer:r.default.CanvasRenderer,afterRender:function(){l.setAttribute("src",c.toDataURL())}};if(e&&e.nodeName&&"svg"===e.nodeName.toLowerCase()||"undefined"!=typeof SVGElement&&e instanceof SVGElement)return{element:e,options:(0,a.default)(e),renderer:r.default.SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement)return{element:e,options:(0,a.default)(e),renderer:r.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:r.default.CanvasRenderer};if(e&&"object"===(void 0===e?"undefined":n(e))&&!e.nodeName)return{element:e,renderer:r.default.ObjectRenderer};throw new o.InvalidElementException;var l,c}},8165:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=[];return function t(i){if(Array.isArray(i))for(var n=0;n<i.length;n++)t(i[n]);else i.text=i.text||"",i.data=i.data||"",e.push(i)}(t),e}},1490:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.default=function(t,e){return i({},t,e)}},9796:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var i in e)e.hasOwnProperty(i)&&"string"==typeof t[i=e[i]]&&(t[i]=parseInt(t[i],10));return"string"==typeof t.displayValue&&(t.displayValue="false"!=t.displayValue),t}},5099:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},1687:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=(n=i(1490))&&n.__esModule?n:{default:n},o=i(6258),s=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.encodings=i,this.options=n}return a(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var t=0;t<this.encodings.length;t++){var e=(0,r.default)(this.options,this.encodings[t].options);this.drawCanvasBarcode(e,this.encodings[t]),this.drawCanvasText(e,this.encodings[t]),this.moveCanvasDrawing(this.encodings[t])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var t=this.canvas.getContext("2d");t.save(),(0,o.calculateEncodingAttributes)(this.encodings,this.options,t);var e=(0,o.getTotalWidthOfEncodings)(this.encodings),i=(0,o.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=e+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(t.fillStyle=this.options.background,t.fillRect(0,0,this.canvas.width,this.canvas.height)),t.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(t,e){var i,n=this.canvas.getContext("2d"),a=e.data;i="top"==t.textPosition?t.marginTop+t.fontSize+t.textMargin:t.marginTop,n.fillStyle=t.lineColor;for(var r=0;r<a.length;r++){var o=r*t.width+e.barcodePadding;"1"===a[r]?n.fillRect(o,i,t.width,t.height):a[r]&&n.fillRect(o,i,t.width,t.height*a[r])}}},{key:"drawCanvasText",value:function(t,e){var i,n,a=this.canvas.getContext("2d"),r=t.fontOptions+" "+t.fontSize+"px "+t.font;t.displayValue&&(n="top"==t.textPosition?t.marginTop+t.fontSize-t.textMargin:t.height+t.textMargin+t.marginTop+t.fontSize,a.font=r,"left"==t.textAlign||e.barcodePadding>0?(i=0,a.textAlign="left"):"right"==t.textAlign?(i=e.width-1,a.textAlign="right"):(i=e.width/2,a.textAlign="center"),a.fillText(e.text,i,n))}},{key:"moveCanvasDrawing",value:function(t){this.canvas.getContext("2d").translate(t.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),t}();e.default=s},2727:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(1687)),a=o(i(5965)),r=o(i(3528));function o(t){return t&&t.__esModule?t:{default:t}}e.default={CanvasRenderer:n.default,SVGRenderer:a.default,ObjectRenderer:r.default}},3528:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.object=e,this.encodings=i,this.options=n}return i(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();e.default=n},6258:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTotalWidthOfEncodings=e.calculateEncodingAttributes=e.getBarcodePadding=e.getEncodingHeight=e.getMaximumHeightOfEncodings=void 0;var n,a=(n=i(1490))&&n.__esModule?n:{default:n};function r(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function o(t,e,i){if(i.displayValue&&e<t){if("center"==i.textAlign)return Math.floor((t-e)/2);if("left"==i.textAlign)return 0;if("right"==i.textAlign)return Math.floor(t-e)}return 0}function s(t,e,i){var n;if(i)n=i;else{if("undefined"==typeof document)return 0;n=document.createElement("canvas").getContext("2d")}n.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var a=n.measureText(t);return a?a.width:0}e.getMaximumHeightOfEncodings=function(t){for(var e=0,i=0;i<t.length;i++)t[i].height>e&&(e=t[i].height);return e},e.getEncodingHeight=r,e.getBarcodePadding=o,e.calculateEncodingAttributes=function(t,e,i){for(var n=0;n<t.length;n++){var l,c=t[n],h=(0,a.default)(e,c.options);l=h.displayValue?s(c.text,h,i):0;var u=c.data.length*h.width;c.width=Math.ceil(Math.max(l,u)),c.height=r(c,h),c.barcodePadding=o(l,u,h)}},e.getTotalWidthOfEncodings=function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i].width;return e}},5965:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=(n=i(1490))&&n.__esModule?n:{default:n},o=i(6258),s="http://www.w3.org/2000/svg",l=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.svg=e,this.encodings=i,this.options=n,this.document=n.xmlDocument||document}return a(t,[{key:"render",value:function(){var t=this.options.marginLeft;this.prepareSVG();for(var e=0;e<this.encodings.length;e++){var i=this.encodings[e],n=(0,r.default)(this.options,i.options),a=this.createGroup(t,n.marginTop,this.svg);this.setGroupOptions(a,n),this.drawSvgBarcode(a,n,i),this.drawSVGText(a,n,i),t+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,o.calculateEncodingAttributes)(this.encodings,this.options);var t=(0,o.getTotalWidthOfEncodings)(this.encodings),e=(0,o.getMaximumHeightOfEncodings)(this.encodings),i=t+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,e),this.options.background&&this.drawRect(0,0,i,e,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(t,e,i){var n,a=i.data;n="top"==e.textPosition?e.fontSize+e.textMargin:0;for(var r=0,o=0,s=0;s<a.length;s++)o=s*e.width+i.barcodePadding,"1"===a[s]?r++:r>0&&(this.drawRect(o-e.width*r,n,e.width*r,e.height,t),r=0);r>0&&this.drawRect(o-e.width*(r-1),n,e.width*r,e.height,t)}},{key:"drawSVGText",value:function(t,e,i){var n,a,r=this.document.createElementNS(s,"text");e.displayValue&&(r.setAttribute("style","font:"+e.fontOptions+" "+e.fontSize+"px "+e.font),a="top"==e.textPosition?e.fontSize-e.textMargin:e.height+e.textMargin+e.fontSize,"left"==e.textAlign||i.barcodePadding>0?(n=0,r.setAttribute("text-anchor","start")):"right"==e.textAlign?(n=i.width-1,r.setAttribute("text-anchor","end")):(n=i.width/2,r.setAttribute("text-anchor","middle")),r.setAttribute("x",n),r.setAttribute("y",a),r.appendChild(this.document.createTextNode(i.text)),t.appendChild(r))}},{key:"setSvgAttributes",value:function(t,e){var i=this.svg;i.setAttribute("width",t+"px"),i.setAttribute("height",e+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+t+" "+e),i.setAttribute("xmlns",s),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(t,e,i){var n=this.document.createElementNS(s,"g");return n.setAttribute("transform","translate("+t+", "+e+")"),i.appendChild(n),n}},{key:"setGroupOptions",value:function(t,e){t.setAttribute("style","fill:"+e.lineColor+";")}},{key:"drawRect",value:function(t,e,i,n,a){var r=this.document.createElementNS(s,"rect");return r.setAttribute("x",t),r.setAttribute("y",e),r.setAttribute("width",i),r.setAttribute("height",n),a.appendChild(r),r}}]),t}();e.default=l},7583:(t,e,i)=>{const n=i(1333),a=i(157),r=i(7899),o=i(6756);function s(t,e,i,r,o){const s=[].slice.call(arguments,1),l=s.length,c="function"==typeof s[l-1];if(!c&&!n())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(i=e,e=r=void 0):2!==l||e.getContext||(r=i,i=e,e=void 0),new Promise((function(n,o){try{const o=a.create(i,r);n(t(o,e,r))}catch(t){o(t)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(o=i,i=e,e=r=void 0):3===l&&(e.getContext&&void 0===o?(o=r,r=void 0):(o=r,r=i,i=e,e=void 0));try{const n=a.create(i,r);o(null,t(n,e,r))}catch(t){o(t)}}e.create=a.create,e.toCanvas=s.bind(null,r.render),e.toDataURL=s.bind(null,r.renderToDataURL),e.toString=s.bind(null,(function(t,e,i){return o.render(t,i)}))},1333:t=>{t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6421:(t,e,i)=>{const n=i(6886).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,i=n(t),a=145===i?26:2*Math.ceil((i-13)/(2*e-2)),r=[i-7];for(let t=1;t<e-1;t++)r[t]=r[t-1]-a;return r.push(6),r.reverse()},e.getPositions=function(t){const i=[],n=e.getRowColCoords(t),a=n.length;for(let t=0;t<a;t++)for(let e=0;e<a;e++)0===t&&0===e||0===t&&e===a-1||t===a-1&&0===e||i.push([n[t],n[e]]);return i}},1433:(t,e,i)=>{const n=i(208),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(t){this.mode=n.ALPHANUMERIC,this.data=t}r.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let i=45*a.indexOf(this.data[e]);i+=a.indexOf(this.data[e+1]),t.put(i,11)}this.data.length%2&&t.put(a.indexOf(this.data[e]),6)},t.exports=r},9899:t=>{function e(){this.buffer=[],this.length=0}e.prototype={get:function(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=e},8820:t=>{function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}e.prototype.set=function(t,e,i,n){const a=t*this.size+e;this.data[a]=i,n&&(this.reservedBit[a]=!0)},e.prototype.get=function(t,e){return this.data[t*this.size+e]},e.prototype.xor=function(t,e,i){this.data[t*this.size+e]^=i},e.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=e},5822:(t,e,i)=>{const n=i(208);function a(t){this.mode=n.BYTE,this.data="string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t)}a.getBitsLength=function(t){return 8*t},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(t){for(let e=0,i=this.data.length;e<i;e++)t.put(this.data[e],8)},t.exports=a},7518:(t,e,i)=>{const n=i(9953),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case n.L:return a[4*(t-1)+0];case n.M:return a[4*(t-1)+1];case n.Q:return a[4*(t-1)+2];case n.H:return a[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case n.L:return r[4*(t-1)+0];case n.M:return r[4*(t-1)+1];case n.Q:return r[4*(t-1)+2];case n.H:return r[4*(t-1)+3];default:return}}},9953:(t,e)=>{e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,i){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return i}}},7756:(t,e,i)=>{const n=i(6886).getSymbolSize;e.getPositions=function(t){const e=n(t);return[[0,0],[e-7,0],[0,e-7]]}},4565:(t,e,i)=>{const n=i(6886),a=n.getBCHDigit(1335);e.getEncodedBits=function(t,e){const i=t.bit<<3|e;let r=i<<10;for(;n.getBCHDigit(r)-a>=0;)r^=1335<<n.getBCHDigit(r)-a;return 21522^(i<<10|r)}},2731:(t,e)=>{const i=new Uint8Array(512),n=new Uint8Array(256);!function(){let t=1;for(let e=0;e<255;e++)i[e]=t,n[t]=e,t<<=1,256&t&&(t^=285);for(let t=255;t<512;t++)i[t]=i[t-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return n[t]},e.exp=function(t){return i[t]},e.mul=function(t,e){return 0===t||0===e?0:i[n[t]+n[e]]}},4861:(t,e,i)=>{const n=i(208),a=i(6886);function r(t){this.mode=n.KANJI,this.data=t}r.getBitsLength=function(t){return 13*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let i=a.toSJIS(this.data[e]);if(i>=33088&&i<=40956)i-=33088;else{if(!(i>=57408&&i<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");i-=49472}i=192*(i>>>8&255)+(255&i),t.put(i,13)}},t.exports=r},1332:(t,e)=>{e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function i(t,i,n){switch(t){case e.Patterns.PATTERN000:return(i+n)%2==0;case e.Patterns.PATTERN001:return i%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(i+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return i*n%2+i*n%3==0;case e.Patterns.PATTERN110:return(i*n%2+i*n%3)%2==0;case e.Patterns.PATTERN111:return(i*n%3+(i+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){const e=t.size;let i=0,n=0,a=0,r=null,o=null;for(let s=0;s<e;s++){n=a=0,r=o=null;for(let l=0;l<e;l++){let e=t.get(s,l);e===r?n++:(n>=5&&(i+=n-5+3),r=e,n=1),e=t.get(l,s),e===o?a++:(a>=5&&(i+=a-5+3),o=e,a=1)}n>=5&&(i+=n-5+3),a>=5&&(i+=a-5+3)}return i},e.getPenaltyN2=function(t){const e=t.size;let i=0;for(let n=0;n<e-1;n++)for(let a=0;a<e-1;a++){const e=t.get(n,a)+t.get(n,a+1)+t.get(n+1,a)+t.get(n+1,a+1);4!==e&&0!==e||i++}return 3*i},e.getPenaltyN3=function(t){const e=t.size;let i=0,n=0,a=0;for(let r=0;r<e;r++){n=a=0;for(let o=0;o<e;o++)n=n<<1&2047|t.get(r,o),o>=10&&(1488===n||93===n)&&i++,a=a<<1&2047|t.get(o,r),o>=10&&(1488===a||93===a)&&i++}return 40*i},e.getPenaltyN4=function(t){let e=0;const i=t.data.length;for(let n=0;n<i;n++)e+=t.data[n];return 10*Math.abs(Math.ceil(100*e/i/5)-10)},e.applyMask=function(t,e){const n=e.size;for(let a=0;a<n;a++)for(let r=0;r<n;r++)e.isReserved(r,a)||e.xor(r,a,i(t,r,a))},e.getBestMask=function(t,i){const n=Object.keys(e.Patterns).length;let a=0,r=1/0;for(let o=0;o<n;o++){i(o),e.applyMask(o,t);const n=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(o,t),n<r&&(r=n,a=o)}return a}},208:(t,e,i)=>{const n=i(1878),a=i(7044);e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!n.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return a.testNumeric(t)?e.NUMERIC:a.testAlphanumeric(t)?e.ALPHANUMERIC:a.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,i){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return i}}},4357:(t,e,i)=>{const n=i(208);function a(t){this.mode=n.NUMERIC,this.data=t.toString()}a.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(t){let e,i,n;for(e=0;e+3<=this.data.length;e+=3)i=this.data.substr(e,3),n=parseInt(i,10),t.put(n,10);const a=this.data.length-e;a>0&&(i=this.data.substr(e),n=parseInt(i,10),t.put(n,3*a+1))},t.exports=a},4713:(t,e,i)=>{const n=i(2731);e.mul=function(t,e){const i=new Uint8Array(t.length+e.length-1);for(let a=0;a<t.length;a++)for(let r=0;r<e.length;r++)i[a+r]^=n.mul(t[a],e[r]);return i},e.mod=function(t,e){let i=new Uint8Array(t);for(;i.length-e.length>=0;){const t=i[0];for(let a=0;a<e.length;a++)i[a]^=n.mul(e[a],t);let a=0;for(;a<i.length&&0===i[a];)a++;i=i.slice(a)}return i},e.generateECPolynomial=function(t){let i=new Uint8Array([1]);for(let a=0;a<t;a++)i=e.mul(i,new Uint8Array([1,n.exp(a)]));return i}},157:(t,e,i)=>{const n=i(6886),a=i(9953),r=i(9899),o=i(8820),s=i(6421),l=i(7756),c=i(1332),h=i(7518),u=i(4764),f=i(1427),d=i(4565),p=i(208),v=i(9801);function _(t,e,i){const n=t.size,a=d.getEncodedBits(e,i);let r,o;for(r=0;r<15;r++)o=1==(a>>r&1),r<6?t.set(r,8,o,!0):r<8?t.set(r+1,8,o,!0):t.set(n-15+r,8,o,!0),r<8?t.set(8,n-r-1,o,!0):r<9?t.set(8,15-r-1+1,o,!0):t.set(8,15-r-1,o,!0);t.set(n-8,8,1,!0)}function E(t,e,i,a){let d;if(Array.isArray(t))d=v.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let n=e;if(!n){const e=v.rawSplit(t);n=f.getBestVersionForData(e,i)}d=v.fromString(t,n||40)}}const E=f.getBestVersionForData(d,i);if(!E)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<E)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+E+".\n")}else e=E;const g=function(t,e,i){const a=new r;i.forEach((function(e){a.put(e.mode.bit,4),a.put(e.getLength(),p.getCharCountIndicator(e.mode,t)),e.write(a)}));const o=8*(n.getSymbolTotalCodewords(t)-h.getTotalCodewordsCount(t,e));for(a.getLengthInBits()+4<=o&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(0);const s=(o-a.getLengthInBits())/8;for(let t=0;t<s;t++)a.put(t%2?17:236,8);return function(t,e,i){const a=n.getSymbolTotalCodewords(e),r=a-h.getTotalCodewordsCount(e,i),o=h.getBlocksCount(e,i),s=o-a%o,l=Math.floor(a/o),c=Math.floor(r/o),f=c+1,d=l-c,p=new u(d);let v=0;const _=new Array(o),E=new Array(o);let g=0;const C=new Uint8Array(t.buffer);for(let t=0;t<o;t++){const e=t<s?c:f;_[t]=C.slice(v,v+e),E[t]=p.encode(_[t]),v+=e,g=Math.max(g,e)}const y=new Uint8Array(a);let S,L,w=0;for(S=0;S<g;S++)for(L=0;L<o;L++)S<_[L].length&&(y[w++]=_[L][S]);for(S=0;S<d;S++)for(L=0;L<o;L++)y[w++]=E[L][S];return y}(a,t,e)}(e,i,d),C=n.getSymbolSize(e),y=new o(C);return function(t,e){const i=t.size,n=l.getPositions(e);for(let e=0;e<n.length;e++){const a=n[e][0],r=n[e][1];for(let e=-1;e<=7;e++)if(!(a+e<=-1||i<=a+e))for(let n=-1;n<=7;n++)r+n<=-1||i<=r+n||(e>=0&&e<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===e||6===e)||e>=2&&e<=4&&n>=2&&n<=4?t.set(a+e,r+n,!0,!0):t.set(a+e,r+n,!1,!0))}}(y,e),function(t){const e=t.size;for(let i=8;i<e-8;i++){const e=i%2==0;t.set(i,6,e,!0),t.set(6,i,e,!0)}}(y),function(t,e){const i=s.getPositions(e);for(let e=0;e<i.length;e++){const n=i[e][0],a=i[e][1];for(let e=-2;e<=2;e++)for(let i=-2;i<=2;i++)-2===e||2===e||-2===i||2===i||0===e&&0===i?t.set(n+e,a+i,!0,!0):t.set(n+e,a+i,!1,!0)}}(y,e),_(y,i,0),e>=7&&function(t,e){const i=t.size,n=f.getEncodedBits(e);let a,r,o;for(let e=0;e<18;e++)a=Math.floor(e/3),r=e%3+i-8-3,o=1==(n>>e&1),t.set(a,r,o,!0),t.set(r,a,o,!0)}(y,e),function(t,e){const i=t.size;let n=-1,a=i-1,r=7,o=0;for(let s=i-1;s>0;s-=2)for(6===s&&s--;;){for(let i=0;i<2;i++)if(!t.isReserved(a,s-i)){let n=!1;o<e.length&&(n=1==(e[o]>>>r&1)),t.set(a,s-i,n),r--,-1===r&&(o++,r=7)}if(a+=n,a<0||i<=a){a-=n,n=-n;break}}}(y,g),isNaN(a)&&(a=c.getBestMask(y,_.bind(null,y,i))),c.applyMask(a,y),_(y,i,a),{modules:y,version:e,errorCorrectionLevel:i,maskPattern:a,segments:d}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let i,r,o=a.M;return void 0!==e&&(o=a.from(e.errorCorrectionLevel,a.M),i=f.from(e.version),r=c.from(e.maskPattern),e.toSJISFunc&&n.setToSJISFunction(e.toSJISFunc)),E(t,i,o,r)}},4764:(t,e,i)=>{const n=i(4713);function a(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(t){this.degree=t,this.genPoly=n.generateECPolynomial(this.degree)},a.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const i=n.mod(e,this.genPoly),a=this.degree-i.length;if(a>0){const t=new Uint8Array(this.degree);return t.set(i,a),t}return i},t.exports=a},7044:(t,e)=>{const i="[0-9]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(a,"g"),e.NUMERIC=new RegExp(i,"g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const r=new RegExp("^"+n+"$"),o=new RegExp("^"+i+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return r.test(t)},e.testNumeric=function(t){return o.test(t)},e.testAlphanumeric=function(t){return s.test(t)}},9801:(t,e,i)=>{const n=i(208),a=i(4357),r=i(1433),o=i(5822),s=i(4861),l=i(7044),c=i(6886),h=i(3939);function u(t){return unescape(encodeURIComponent(t)).length}function f(t,e,i){const n=[];let a;for(;null!==(a=t.exec(i));)n.push({data:a[0],index:a.index,mode:e,length:a[0].length});return n}function d(t){const e=f(l.NUMERIC,n.NUMERIC,t),i=f(l.ALPHANUMERIC,n.ALPHANUMERIC,t);let a,r;return c.isKanjiModeEnabled()?(a=f(l.BYTE,n.BYTE,t),r=f(l.KANJI,n.KANJI,t)):(a=f(l.BYTE_KANJI,n.BYTE,t),r=[]),e.concat(i,a,r).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function p(t,e){switch(e){case n.NUMERIC:return a.getBitsLength(t);case n.ALPHANUMERIC:return r.getBitsLength(t);case n.KANJI:return s.getBitsLength(t);case n.BYTE:return o.getBitsLength(t)}}function v(t,e){let i;const l=n.getBestModeForData(t);if(i=n.from(e,l),i!==n.BYTE&&i.bit<l.bit)throw new Error('"'+t+'" cannot be encoded with mode '+n.toString(i)+".\n Suggested mode is: "+n.toString(l));switch(i!==n.KANJI||c.isKanjiModeEnabled()||(i=n.BYTE),i){case n.NUMERIC:return new a(t);case n.ALPHANUMERIC:return new r(t);case n.KANJI:return new s(t);case n.BYTE:return new o(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(v(e,null)):e.data&&t.push(v(e.data,e.mode)),t}),[])},e.fromString=function(t,i){const a=function(t){const e=[];for(let i=0;i<t.length;i++){const a=t[i];switch(a.mode){case n.NUMERIC:e.push([a,{data:a.data,mode:n.ALPHANUMERIC,length:a.length},{data:a.data,mode:n.BYTE,length:a.length}]);break;case n.ALPHANUMERIC:e.push([a,{data:a.data,mode:n.BYTE,length:a.length}]);break;case n.KANJI:e.push([a,{data:a.data,mode:n.BYTE,length:u(a.data)}]);break;case n.BYTE:e.push([{data:a.data,mode:n.BYTE,length:u(a.data)}])}}return e}(d(t,c.isKanjiModeEnabled())),r=function(t,e){const i={},a={start:{}};let r=["start"];for(let o=0;o<t.length;o++){const s=t[o],l=[];for(let t=0;t<s.length;t++){const c=s[t],h=""+o+t;l.push(h),i[h]={node:c,lastCount:0},a[h]={};for(let t=0;t<r.length;t++){const o=r[t];i[o]&&i[o].node.mode===c.mode?(a[o][h]=p(i[o].lastCount+c.length,c.mode)-p(i[o].lastCount,c.mode),i[o].lastCount+=c.length):(i[o]&&(i[o].lastCount=c.length),a[o][h]=p(c.length,c.mode)+4+n.getCharCountIndicator(c.mode,e))}}r=l}for(let t=0;t<r.length;t++)a[r[t]].end=0;return{map:a,table:i}}(a,i),o=h.find_path(r.map,"start","end"),s=[];for(let t=1;t<o.length-1;t++)s.push(r.table[o[t]].node);return e.fromArray(s.reduce((function(t,e){const i=t.length-1>=0?t[t.length-1]:null;return i&&i.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[]))},e.rawSplit=function(t){return e.fromArray(d(t,c.isKanjiModeEnabled()))}},6886:(t,e)=>{let i;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return n[t]},e.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');i=t},e.isKanjiModeEnabled=function(){return void 0!==i},e.toSJIS=function(t){return i(t)}},1878:(t,e)=>{e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},1427:(t,e,i)=>{const n=i(6886),a=i(7518),r=i(9953),o=i(208),s=i(1878),l=n.getBCHDigit(7973);function c(t,e){return o.getCharCountIndicator(t,e)+4}function h(t,e){let i=0;return t.forEach((function(t){const n=c(t.mode,e);i+=n+t.getBitsLength()})),i}e.from=function(t,e){return s.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,i){if(!s.isValid(t))throw new Error("Invalid QR Code version");void 0===i&&(i=o.BYTE);const r=8*(n.getSymbolTotalCodewords(t)-a.getTotalCodewordsCount(t,e));if(i===o.MIXED)return r;const l=r-c(i,t);switch(i){case o.NUMERIC:return Math.floor(l/10*3);case o.ALPHANUMERIC:return Math.floor(l/11*2);case o.KANJI:return Math.floor(l/13);case o.BYTE:default:return Math.floor(l/8)}},e.getBestVersionForData=function(t,i){let n;const a=r.from(i,r.M);if(Array.isArray(t)){if(t.length>1)return function(t,i){for(let n=1;n<=40;n++)if(h(t,n)<=e.getCapacity(n,i,o.MIXED))return n}(t,a);if(0===t.length)return 1;n=t[0]}else n=t;return function(t,i,n){for(let a=1;a<=40;a++)if(i<=e.getCapacity(a,n,t))return a}(n.mode,n.getLength(),a)},e.getEncodedBits=function(t){if(!s.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;n.getBCHDigit(e)-l>=0;)e^=7973<<n.getBCHDigit(e)-l;return t<<12|e}},7899:(t,e,i)=>{const n=i(2726);e.render=function(t,e,i){let a=i,r=e;void 0!==a||e&&e.getContext||(a=e,e=void 0),e||(r=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),a=n.getOptions(a);const o=n.getImageWidth(t.modules.size,a),s=r.getContext("2d"),l=s.createImageData(o,o);return n.qrToImageData(l.data,t,a),function(t,e,i){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=i,e.width=i,e.style.height=i+"px",e.style.width=i+"px"}(s,r,o),s.putImageData(l,0,0),r},e.renderToDataURL=function(t,i,n){let a=n;void 0!==a||i&&i.getContext||(a=i,i=void 0),a||(a={});const r=e.render(t,i,a),o=a.type||"image/png",s=a.rendererOpts||{};return r.toDataURL(o,s.quality)}},6756:(t,e,i)=>{const n=i(2726);function a(t,e){const i=t.a/255,n=e+'="'+t.hex+'"';return i<1?n+" "+e+'-opacity="'+i.toFixed(2).slice(1)+'"':n}function r(t,e,i){let n=t+e;return void 0!==i&&(n+=" "+i),n}e.render=function(t,e,i){const o=n.getOptions(e),s=t.modules.size,l=t.modules.data,c=s+2*o.margin,h=o.color.light.a?"<path "+a(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",u="<path "+a(o.color.dark,"stroke")+' d="'+function(t,e,i){let n="",a=0,o=!1,s=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%e),h=Math.floor(l/e);c||o||(o=!0),t[l]?(s++,l>0&&c>0&&t[l-1]||(n+=o?r("M",c+i,.5+h+i):r("m",a,0),a=0,o=!1),c+1<e&&t[l+1]||(n+=r("h",s),s=0)):a++}return n}(l,s,o.margin)+'"/>',f='viewBox="0 0 '+c+" "+c+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+f+' shape-rendering="crispEdges">'+h+u+"</svg>\n";return"function"==typeof i&&i(null,d),d}},2726:(t,e)=>{function i(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");const i=parseInt(e.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:255&i,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,a=t.scale||4;return{width:n,scale:n?4:a,margin:e,color:{dark:i(t.color.dark||"#000000ff"),light:i(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,i){const n=e.getScale(t,i);return Math.floor((t+2*i.margin)*n)},e.qrToImageData=function(t,i,n){const a=i.modules.size,r=i.modules.data,o=e.getScale(a,n),s=Math.floor((a+2*n.margin)*o),l=n.margin*o,c=[n.color.light,n.color.dark];for(let e=0;e<s;e++)for(let i=0;i<s;i++){let h=4*(e*s+i),u=n.color.light;e>=l&&i>=l&&e<s-l&&i<s-l&&(u=c[r[Math.floor((e-l)/o)*a+Math.floor((i-l)/o)]?1:0]),t[h++]=u.r,t[h++]=u.g,t[h++]=u.b,t[h]=u.a}}},5172:t=>{t.exports=function(t,e){this.v=t,this.k=e},t.exports.__esModule=!0,t.exports.default=t.exports},6993:(t,e,i)=>{var n=i(5546);function a(){var e,i,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.toStringTag||"@@toStringTag";function l(t,a,r,o){var s=a&&a.prototype instanceof h?a:h,l=Object.create(s.prototype);return n(l,"_invoke",function(t,n,a){var r,o,s,l=0,h=a||[],u=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,i){return r=t,o=0,s=e,f.n=i,c}};function d(t,n){for(o=t,s=n,i=0;!u&&l&&!a&&i<h.length;i++){var a,r=h[i],d=f.p,p=r[2];t>3?(a=p===n)&&(s=r[(o=r[4])?5:(o=3,3)],r[4]=r[5]=e):r[0]<=d&&((a=t<2&&d<r[1])?(o=0,f.v=n,f.n=r[1]):d<p&&(a=t<3||r[0]>n||n>p)&&(r[4]=t,r[5]=n,f.n=p,o=0))}if(a||t>1)return c;throw u=!0,n}return function(a,h,p){if(l>1)throw TypeError("Generator is already running");for(u&&1===h&&d(h,p),o=h,s=p;(i=o<2?e:s)||!u;){r||(o?o<3?(o>1&&(f.n=-1),d(o,s)):f.n=s:f.v=s);try{if(l=2,r){if(o||(a="next"),i=r[a]){if(!(i=i.call(r,s)))throw TypeError("iterator result is not an object");if(!i.done)return i;s=i.value,o<2&&(o=0)}else 1===o&&(i=r.return)&&i.call(r),o<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),o=1);r=e}else if((i=(u=f.n<0)?s:t.call(n,f))!==c)break}catch(t){r=e,o=1,s=t}finally{l=1}}return{value:i,done:u}}}(t,r,o),!0),l}var c={};function h(){}function u(){}function f(){}i=Object.getPrototypeOf;var d=[][o]?i(i([][o]())):(n(i={},o,(function(){return this})),i),p=f.prototype=h.prototype=Object.create(d);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,n(t,s,"GeneratorFunction")),t.prototype=Object.create(p),t}return u.prototype=f,n(p,"constructor",f),n(f,"constructor",u),u.displayName="GeneratorFunction",n(f,s,"GeneratorFunction"),n(p),n(p,s,"Generator"),n(p,o,(function(){return this})),n(p,"toString",(function(){return"[object Generator]"})),(t.exports=a=function(){return{w:l,m:v}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},5869:(t,e,i)=>{var n=i(887);t.exports=function(t,e,i,a,r){var o=n(t,e,i,a,r);return o.next().then((function(t){return t.done?t.value:o.next()}))},t.exports.__esModule=!0,t.exports.default=t.exports},887:(t,e,i)=>{var n=i(6993),a=i(1791);t.exports=function(t,e,i,r,o){return new a(n().w(t,e,i,r),o||Promise)},t.exports.__esModule=!0,t.exports.default=t.exports},1791:(t,e,i)=>{var n=i(5172),a=i(5546);t.exports=function t(e,i){function r(t,a,o,s){try{var l=e[t](a),c=l.value;return c instanceof n?i.resolve(c.v).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):i.resolve(c).then((function(t){l.value=t,o(l)}),(function(t){return r("throw",t,o,s)}))}catch(t){s(t)}}var o;this.next||(a(t.prototype),a(t.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),a(this,"_invoke",(function(t,e,n){function a(){return new i((function(e,i){r(t,n,e,i)}))}return o=o?o.then(a,a):a()}),!0)},t.exports.__esModule=!0,t.exports.default=t.exports},5546:t=>{function e(i,n,a,r){var o=Object.defineProperty;try{o({},"",{})}catch(i){o=0}t.exports=e=function(t,i,n,a){if(i)o?o(t,i,{value:n,enumerable:!a,configurable:!a,writable:!a}):t[i]=n;else{var r=function(i,n){e(t,i,(function(t){return this._invoke(i,n,t)}))};r("next",0),r("throw",1),r("return",2)}},t.exports.__esModule=!0,t.exports.default=t.exports,e(i,n,a,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},4373:t=>{t.exports=function(t){var e=Object(t),i=[];for(var n in e)i.unshift(n);return function t(){for(;i.length;)if((n=i.pop())in e)return t.value=n,t.done=!1,t;return t.done=!0,t}},t.exports.__esModule=!0,t.exports.default=t.exports},4633:(t,e,i)=>{var n=i(5172),a=i(6993),r=i(5869),o=i(887),s=i(1791),l=i(4373),c=i(579);function h(){"use strict";var e=a(),i=e.m(h),u=(Object.getPrototypeOf?Object.getPrototypeOf(i):i.__proto__).constructor;function f(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===u||"GeneratorFunction"===(e.displayName||e.name))}var d={throw:1,return:2,break:3,continue:3};function p(t){var e,i;return function(n){e||(e={stop:function(){return i(n.a,2)},catch:function(){return n.v},abrupt:function(t,e){return i(n.a,d[t],e)},delegateYield:function(t,a,r){return e.resultName=a,i(n.d,c(t),r)},finish:function(t){return i(n.f,t)}},i=function(t,i,a){n.p=e.prev,n.n=e.next;try{return t(i,a)}finally{e.next=n.n}}),e.resultName&&(e[e.resultName]=n.v,e.resultName=void 0),e.sent=n.v,e.next=n.n;try{return t.call(this,e)}finally{n.p=e.prev,n.n=e.next}}}return(t.exports=h=function(){return{wrap:function(t,i,n,a){return e.w(p(t),i,n,a&&a.reverse())},isGeneratorFunction:f,mark:e.m,awrap:function(t,e){return new n(t,e)},AsyncIterator:s,async:function(t,e,i,n,a){return(f(e)?o:r)(p(t),e,i,n,a)},keys:l,values:c}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=h,t.exports.__esModule=!0,t.exports.default=t.exports},579:(t,e,i)=>{var n=i(3738).default;t.exports=function(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],i=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}}}throw new TypeError(n(t)+" is not iterable")},t.exports.__esModule=!0,t.exports.default=t.exports},3738:t=>{function e(i){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},4756:(t,e,i)=>{var n=i(4633)();t.exports=n;try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}},e={};function i(n){var a=e[n];if(void 0!==a)return a.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,i),r.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t){var i=function(t,i){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,"string");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(i)?i:i+""}function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,n(a.key),a)}}function r(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e,i){return(e=n(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var s=function(){function e(){t(this,e)}return r(e,null,[{key:"getDefaultFontFamily",value:function(){return this.FontFamilys[0]}},{key:"getDefaultFontSize",value:function(){return this.FontSizes[9]}},{key:"getDefaultFontColor",value:function(){return"#000000"}}]),e}();function l(t,e,i){return u(t,e),i}function c(t,e,i){return u(t,e),h(i,"get"),function(t,e){return e.get?e.get.call(t):e.value}(t,i)}function h(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}function u(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}o(s,"CONF_MODAL_DEF","9"),o(s,"CONF_MODAL_DES","8"),o(s,"CONF_MODAL_EDT","7"),o(s,"CONF_MODAL_REV","6"),o(s,"CONF_MODAL_RED","2"),o(s,"CONF_MODAL_PEV","1"),o(s,"CONF_MODAL_CUS","0"),o(s,"SYS_ZOOM",1),o(s,"SYS_ZOOM_CORRECT",1.1),o(s,"SYS_STANDARD_RATIO",.1),o(s,"SYS_SCROLL_RED",30),o(s,"SYS_STACK_LEN",10),o(s,"PRINT_TYPE_DEF","0"),o(s,"PRINT_TYPE_CON","1"),o(s,"SVGNS","http://www.w3.org/2000/svg"),o(s,"COLOR_LINEEEL","#696969"),o(s,"COLOR_FIELD","#ff0000"),o(s,"COLOR_PAGEBORDER","#c5c8cc"),o(s,"COLOR_HEADER_LINE","#000000"),o(s,"COLOR_PAGE_SEG","#4E4E4F"),o(s,"COLOR_BINDLINE","#696969"),o(s,"COLOR_CURSOR","#000000"),o(s,"COLOR_SELECT_BG","#A8CDF1"),o(s,"COLOR_COMP_BG","#e9e9e9"),o(s,"COLOR_COMP_BR","#000000"),o(s,"COLOR_DATA_BG","#b69c66e1"),o(s,"COLOR_BLOCK_DRAG","#000000"),o(s,"COLOR_BLOCK_BORDER","#838B83"),o(s,"COLOR_DIVDER","#000000"),o(s,"COLOR_DEFAULT_LINE","#000000"),o(s,"COLOR_COMMENTS_LINE","#FF0000"),o(s,"COLOR_REVISION_WORD","#FF0000"),o(s,"COLOR_REVISION_BG","#ffb5b5a6"),o(s,"COLOR_TEXTBOX_PHR","#7A8794"),o(s,"WIDTH_LINEEEL",10),o(s,"WIDTH_FIELD",10),o(s,"WIDTH_PAGEBORDER",10),o(s,"WIDTH_HEADER_LINE",10),o(s,"WIDTH_PAGE_SEG",20),o(s,"WIDTH_BINDLINE",10),o(s,"WIDTH_CURSOR",10),o(s,"WIDTH_UNDERLINE",10),o(s,"WIDTH_STRIKETHROUGH",10),o(s,"WIDTH_DIVDER_1",10),o(s,"WIDTH_LINE_DEFUALT",10),o(s,"WIDTH_COMP_BORDER",10),o(s,"WIDTH_EXP_LINE",10),o(s,"LEN_BINDLINE",400),o(s,"LEN_ANCHOR",90),o(s,"LEN_BLOCK_DRAG",60),o(s,"LEN_GAP_DRAG",30),o(s,"LINE_DASHED_1",[20,20]),o(s,"LINE_DASHED_2",[60,20]),o(s,"LINE_DASHED_3",[60,20,20,20]),o(s,"LINE_SOLID",[]),o(s,"PAPER_ROTATION_PORTRAIT","portrait"),o(s,"PAPER_ROTATION_LANDSCAPE","landscape"),o(s,"CONTENT_PART_HEADER","1"),o(s,"CONTENT_PART_BODY","2"),o(s,"CONTENT_PART_FOOTER","3"),o(s,"KEY_ARROWLEFT","ArrowLeft"),o(s,"KEY_ARROWRIGHT","ArrowRight"),o(s,"KEY_ARROWUP","ArrowUp"),o(s,"KEY_ARROWDOWN","ArrowDown"),o(s,"KEY_DELETE","Delete"),o(s,"KEY_BACKSPACE","Backspace"),o(s,"KEY_TAB","Tab"),o(s,"KEY_ENTER","Enter"),o(s,"KEY_A","a"),o(s,"KEY_B","b"),o(s,"KEY_C","c"),o(s,"KEY_E","e"),o(s,"KEY_F","f"),o(s,"KEY_J","j"),o(s,"KEY_L","l"),o(s,"KEY_R","r"),o(s,"KEY_I","i"),o(s,"KEY_P","p"),o(s,"KEY_U","u"),o(s,"KEY_S","s"),o(s,"KEY_Z","z"),o(s,"KEY_ESC","Escape"),o(s,"ALIGN_NONE","none"),o(s,"ALIGN_LEFT","left"),o(s,"ALIGN_CENTER","center"),o(s,"ALIGN_RIGHT","right"),o(s,"ALIGN_BOTH","both"),o(s,"ALIGN_DISPERSED","dispersed"),o(s,"INDENT_TYPE_NULL","0"),o(s,"INDENT_TYPE_TEXT","1"),o(s,"INDENT_TYPE_HANG","2"),o(s,"INDENT_VALUE_MAX",30),o(s,"INDENT_VALUE_MIN",0),o(s,"SCRIPT_NOR","nor"),o(s,"SCRIPT_SUB","sub"),o(s,"SCRIPT_SUP","sup"),o(s,"STYLE_LINE_HEIGHT",220),o(s,"STYLE_ANCHOR_WIDTH",10),o(s,"TABLE_FIELD_PADDING_H",40),o(s,"TABLE_FIELD_PADDING_V",20),o(s,"TABLE_FIELD_BORDER_COLOR","#000000"),o(s,"TABLE_FIELD_BORDER_WIDTH",10),o(s,"TABLE_FIELD_BORDER_SPAC",30),o(s,"TABLE_FIELD_MIN_WIDTH",60),o(s,"TABLE_FIELD_MIN_HEIGHT",220),o(s,"TABLE_BORER_DRAG_RED",20),o(s,"TABLE_BORDER_TOP","top"),o(s,"TABLE_BORDER_BOT","bot"),o(s,"TABLE_BORDER_LEFT","left"),o(s,"TABLE_BORDER_RIGHT","right"),o(s,"TABLE_BORDER_INSIDE","inside"),o(s,"TABLE_INSERT_ABOVE","above"),o(s,"TABLE_INSERT_BELOW","below"),o(s,"TABLE_INSERT_LEFT","left"),o(s,"TABLE_INSERT_RIGHT","right"),o(s,"CLICK_TYPE_ELEMENT","element"),o(s,"CLICK_TYPE_TABLE_BORDER","table-border"),o(s,"CLICK_TYPE_IMAGE_BLOCK","image"),o(s,"CLICK_TYPE_COMP_BUTTON","comp"),o(s,"CLICK_TYPE_COMP_POP","comppop"),o(s,"CLICK_TYPE_OBJECT","object"),o(s,"CLICK_TYPE_EXPRE","expre"),o(s,"SELECT_POINT_BEG","b"),o(s,"SELECT_POINT_END","e"),o(s,"SELECT_EXT_TYPE_U","u"),o(s,"SELECT_EXT_TYPE_D","d"),o(s,"SELECT_EXT_TYPE_L","l"),o(s,"SELECT_EXT_TYPE_R","r"),o(s,"DRAG_VIEW_LINE_H","lh"),o(s,"DRAG_VIEW_LINE_V","lv"),o(s,"DRAG_VIEW_IMAGE","img"),o(s,"DRAG_VIEW_OBJECT","obj"),o(s,"DRAG_VIEW_NONE","0"),o(s,"MIN_BLOCK_WIDTH",400),o(s,"MIN_BLOCK_HEIGHT",400),o(s,"RELATIVE_UP","up"),o(s,"RELATIVE_DOWN","down"),o(s,"COMMENTS_HIDE","0"),o(s,"COMMENTS_SHOW_UN","2"),o(s,"COMMENTS_SHOW_DO","3"),o(s,"COMMENTS_STATE_UN","0"),o(s,"COMMENTS_STATE_DO","1"),o(s,"COMMENTS_STATE_DE","9"),o(s,"SYMBOL_SPECIAL","9651,9661,9675,9671,9633,9734,9655,9665,9828,9825,9826,9831,9650,9660,9679,9670,9632,9733,9654,9664,9824,9829,9830,9827,9788,9789,9792,9786,9680,9745,8730,10004,9756,9757,9758,13250,9728,9790,9794,9785,9681,9746,10008,9754,9759,9755,13272,9642,8226,8229,8230,9601,9602,9603,9604,9605,9606,9607,9608,8759,8251,9617,9618,9619,9615,9614,9613,9612,9611,9610,9609;9833,9834,9835,9836,167,12348,9678,164,1758,8471,174,169,9837,9839,9838,8214,182,21325,21328,9644,12307,8481,8482,13255,9740,9741,9739,9738,12927,9710,9706,9684,9685,64,12849,8470,9800,9801,9802,9803,9804,9806,9807,9808,9809,9811,9810,9805;8598,8593,8599,9640,9636,9639,9700,12964,9701,9780,9778,9783,8592,12963,8594,9641,9638,9637,12967,12965,12968,9779,9775,9777,8601,8595,8600,9643,9672,9635,9699,12966,9698,9782,9781,9776,8597,8596,8881,8923,8908,8922,8880,172,65506,9620,8224,8225;42,65290,10034,10056,10057,10047,10048,10051,10049,9784,10006,10010,10026,10084,4326,10086,10087,3007,8362,9998,9997,9996,9985,9988,9729,9730,9731,9732,9832,9735,9736,9761,10167,8889,9993,9743,9762,9763,9760,9774,12292,10169,9769,2960,9742,9992,12320,1769,10009,10015,9764,9765,9766,9767,9768,9771,9772,9823,9817,9820,9814,9822,9816,9821,9815,9819,9813,9818,9812"),o(s,"SYMBOL_PUNCTUATION","65292,12290,65311,65281,65306,65307,183,8230,126,38,64,35,44,46,63,33,58,59,12289,8230-8230,65374,65286,65312,65283,8220,8221,8216,8217,12317,12318,32,34,39,65282,65287,180,65287,40,41,12304,12305,12298,12299,65308,65310,65117,65118,60,62,40,41,91,93,171,187,8249,8250,12308,12309,12296,12297,123,125,65339,65341,12300,12301,65371,65373,12310,12311,12302,12303,65077,65079,65081,65087,65085,65089,65091,65083,65047,47,124,65078,65080,65082,65088,65086,65090,65092,65084,65048,65295,65372,65340,95,65343,65103,65101,65102,96,166,161,94,173,168,714,175,65507,65099,65097,65098,715,65076,191,711"),o(s,"SYMBOL_PINYIN","257,225,462,224,333,243,466,242,275,233,283,232,299,237,236,464,363,250,468,249,470,472,474,476"),o(s,"SYMBOL_MATH_NUM","9312,9313,9314,9315,9316,9317,9318,9319,9320,9321,9322,9323,9324,9325,9326,9327,9328,9329,9330,9331;9332,9333,9334,9335,9336,9337,9338,9339,9340,9341,9342,9343,9344,9345,9346,9347,9348,9349,9350,9351;9352,9353,9354,9355,9356,9357,9358,9359,9360,9361,9362,9363,9364,9365,9366,9367,9368,9369,9370,9371;8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,8554,8555,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569;10102,10103,10104,10105,10106,10107,10108,10109,10110,10111;12832,12833,12834,12835,12836,12837,12838,12839,12840,12841"),o(s,"SYMBOL_MATH_UNIT","65122,65123,65124,65125,8806,8807,8814,8815,65291,65293,65309,65308,65310,8786,8800,65122,65123,8758,8757,8756,8759,13266,13265,8721,8719,8709;8733,8765,8712,8745,8743,8857,8978,8741,8735,8739,8706,8710,8734,8780,8713,8746,8744,8853,8895,8869,8736,8747,8748,8749,37,8240,65285,186,185,178,179,8319,8453,8750,8751,8752,8321,8322,8323,189,8531,8532,188,190,176,8451,8457,12306;13198,13199,956-109,13212,13213,13214,8242,165,36,8364,3647,65505,13217,109-179,13252,109-108,109-111-108,13269,8243,65509,163,65504,8352"),o(s,"SYMBOL_GR_LT","913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937;945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969;193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,216,217,218,219,220,221,222,352,376,338913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937;945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969;193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,216,217,218,219,220,221,222,352,376,338"),o(s,"VALUE_BOOL_TRUE",1),o(s,"VALUE_BOOL_FALSE",0),o(s,"REVISION_DEF","0"),o(s,"REVISION_INS","1"),o(s,"REVISION_DEL","2"),o(s,"EditorModels",[{name:"Word模式",value:s.CONF_MODAL_DEF},{name:"设计模式",value:s.CONF_MODAL_DES},{name:"编辑模式",value:s.CONF_MODAL_EDT},{name:"审阅模式",value:s.CONF_MODAL_REV},{name:"只读模式",value:s.CONF_MODAL_RED},{name:"查看模式",value:s.CONF_MODAL_PEV},{name:"自定义模式",value:s.CONF_MODAL_CUS}]),o(s,"PaperTypes",[{width:2100,height:2970,value:"A4",name:"A4"},{width:1480,height:2100,value:"A5",name:"A5"},{width:1760,height:2500,value:"B5",name:"B5"},{width:1250,height:1760,value:"B6",name:"B6"},{width:2160,height:2790,value:"Letter",name:"信纸"},{width:2160,height:3560,value:"Legal",name:"法律用纸"},{width:2790,height:4320,value:"Tabloid",name:"报纸"}]),o(s,"PaperMargins",[{topBottom:254,leftRight:318,headerFooter:150,name:"普通"},{topBottom:127,leftRight:127,headerFooter:47,name:"窄"},{topBottom:254,leftRight:191,headerFooter:150,name:"适中"},{topBottom:254,leftRight:508,headerFooter:150,name:"宽"}]),o(s,"FontFamilys",[{name:"宋体",value:"SimSun"},{name:"黑体",value:"SimHei"},{name:"仿宋",value:"FangSong"},{name:"楷体",value:"KaiTi"},{name:"微软雅黑",value:"Microsoft Yahei"},{name:"Arial",value:"Arial"},{name:"Tahoma",value:"Tahoma"},{name:"Times",value:"Times"},{name:"serif",value:"serif"}]),o(s,"FontSizes",[{name:"初号",value:"560",pt:"42"},{name:"小初",value:"480",pt:"36"},{name:"一号",value:"347",pt:"26"},{name:"小一",value:"320",pt:"24"},{name:"二号",value:"293",pt:"22"},{name:"小二",value:"240",pt:"18"},{name:"三号",value:"213",pt:"16"},{name:"小三",value:"200",pt:"15"},{name:"四号",value:"187",pt:"14"},{name:"小四",value:"160",pt:"12"},{name:"五号",value:"133",pt:"10.5"},{name:"小五",value:"120",pt:"9"}]),o(s,"DatePatterns",[{name:"中文日期",value:"yyyy年MM月dd日"},{name:"中文日期+周",value:"yyyy年MM月dd日WWW"},{name:"中文短日期",value:"MM月dd日"},{name:"中文日期时间",value:"yyyy年MM月dd日HH时mm分"},{name:"中文日期",value:"yyyy年MM月dd日"},{name:"标准日期",value:"yyyy-MM-dd"},{name:"标准日期时间",value:"yyyy-MM-dd HH:mm"},{name:"标准短日期",value:"MM-dd"},{name:"美式日期",value:"MM/dd/yyyy"},{name:"美式日期时间",value:"MM/dd/yyyy HH:mm"},{name:"美式短日期",value:"MM/dd"}]),o(s,"PaperDirections",[{value:s.PAPER_ROTATION_PORTRAIT,name:"纵向"},{value:s.PAPER_ROTATION_LANDSCAPE,name:"横向"}]),o(s,"PageNumPatterns",[{value:"{n}",name:"{n}"},{value:"{n}/{c}",name:"{n}/{c}"},{value:"第{n}页",name:"第{n}页"},{value:"第{n}页/共{c}页",name:"第{n}页/共{c}页"},{value:"page {n} of {c}",name:"page {n} of {c}"}]);var f=function(){function e(){t(this,e)}return r(e,null,[{key:"setParam",value:function(t,i){1==t&&function(t,e,i,n){u(t,e),h(i,"set"),function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,i,n)}(this,e,_,i)}},{key:"getSystem",value:function(){return{version:c(this,e,v),licensee:c(this,e,_)}}},{key:"compatible",value:function(){l(this,e,d).call(this),l(this,e,p).call(this)}}]),e}();function d(){Date.prototype.pattern=function(t){var e=this.getDay(),i=Math.floor((this.getMonth()+3)/3).toString(),n={"y+":this.getFullYear().toString(),"M+":(this.getMonth()+1).toString(),"d+":this.getDate().toString(),"H+":this.getHours().toString(),"h+":this.getHours()%12==0?"12":(this.getHours()%12).toString(),"m+":this.getMinutes().toString(),"s+":this.getSeconds().toString(),"q+":i},a={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"},r={1:"一",2:"二",3:"三",4:"四"};for(var o in/(W+)/.test(t)&&(t=t.replace(RegExp.$1,RegExp.$1.length>1?RegExp.$1.length>2?"星期"+a[e]:"周"+a[e]:a[e])),/(Q+)/.test(t)&&(t=t.replace(RegExp.$1,4==RegExp.$1.length?"第"+r[i]+"季度":r[i])),n){var s=new RegExp("("+o+")").exec(t);s&&(t=t.replace(s[1],1==s[1].length?n[o]:n[o].padStart(s[1].length,"0")))}return t},String.prototype.format=function(){if(0==arguments.length)return this;for(var t=this,e=0;e<arguments.length;e++)t=t.replace(new RegExp("\\{"+e+"\\}","g"),arguments[e]);return t}}function p(){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.at||(Array.prototype.at=function(t){if(t<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]})}var v={writable:!0,value:"1.0.4"},_={writable:!0,value:"0"};function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function g(t,e){if(t){if("string"==typeof t)return E(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?E(t,e):void 0}}function C(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,c=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(t){c=!0,a=t}finally{try{if(!l&&null!=i.return&&(o=i.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(t,e)||g(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t){let e=t.length;for(;--e>=0;)t[e]=0}const L=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),w=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),m=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),b=new Array(576);S(b);const O=new Array(60);S(O);const A=new Array(512);S(A);const R=new Array(256);S(R);const k=new Array(29);S(k);const I=new Array(30);function D(t,e,i,n,a){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=a,this.has_stree=t&&t.length}let x,M,P;function N(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}S(I);const B=t=>t<256?A[t]:A[256+(t>>>7)],F=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},W=(t,e,i)=>{t.bi_valid>16-i?(t.bi_buf|=e<<t.bi_valid&65535,F(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)},U=(t,e,i)=>{W(t,i[2*e],i[2*e+1])},X=(t,e)=>{let i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1},H=(t,e,i)=>{const n=new Array(16);let a,r,o=0;for(a=1;a<=15;a++)o=o+i[a-1]<<1,n[a]=o;for(r=0;r<=e;r++){let e=t[2*r+1];0!==e&&(t[2*r]=X(n[e]++,e))}},Y=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},j=t=>{t.bi_valid>8?F(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},V=(t,e,i,n)=>{const a=2*e,r=2*i;return t[a]<t[r]||t[a]===t[r]&&n[e]<=n[i]},z=(t,e,i)=>{const n=t.heap[i];let a=i<<1;for(;a<=t.heap_len&&(a<t.heap_len&&V(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!V(e,n,t.heap[a],t.depth));)t.heap[i]=t.heap[a],i=a,a<<=1;t.heap[i]=n},G=(t,e,i)=>{let n,a,r,o,s=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+s++],n+=(255&t.pending_buf[t.sym_buf+s++])<<8,a=t.pending_buf[t.sym_buf+s++],0===n?U(t,a,e):(r=R[a],U(t,r+256+1,e),o=L[r],0!==o&&(a-=k[r],W(t,a,o)),n--,r=B(n),U(t,r,i),o=w[r],0!==o&&(n-=I[r],W(t,n,o)))}while(s<t.sym_next);U(t,256,e)},K=(t,e)=>{const i=e.dyn_tree,n=e.stat_desc.static_tree,a=e.stat_desc.has_stree,r=e.stat_desc.elems;let o,s,l,c=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<r;o++)0!==i[2*o]?(t.heap[++t.heap_len]=c=o,t.depth[o]=0):i[2*o+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=c<2?++c:0,i[2*l]=1,t.depth[l]=0,t.opt_len--,a&&(t.static_len-=n[2*l+1]);for(e.max_code=c,o=t.heap_len>>1;o>=1;o--)z(t,i,o);l=r;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],z(t,i,1),s=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=s,i[2*l]=i[2*o]+i[2*s],t.depth[l]=(t.depth[o]>=t.depth[s]?t.depth[o]:t.depth[s])+1,i[2*o+1]=i[2*s+1]=l,t.heap[1]=l++,z(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const i=e.dyn_tree,n=e.max_code,a=e.stat_desc.static_tree,r=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,l=e.stat_desc.max_length;let c,h,u,f,d,p,v=0;for(f=0;f<=15;f++)t.bl_count[f]=0;for(i[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<573;c++)h=t.heap[c],f=i[2*i[2*h+1]+1]+1,f>l&&(f=l,v++),i[2*h+1]=f,h>n||(t.bl_count[f]++,d=0,h>=s&&(d=o[h-s]),p=i[2*h],t.opt_len+=p*(f+d),r&&(t.static_len+=p*(a[2*h+1]+d)));if(0!==v){do{for(f=l-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,v-=2}while(v>0);for(f=l;0!==f;f--)for(h=t.bl_count[f];0!==h;)u=t.heap[--c],u>n||(i[2*u+1]!==f&&(t.opt_len+=(f-i[2*u+1])*i[2*u],i[2*u+1]=f),h--)}})(t,e),H(i,c,t.bl_count)},Z=(t,e,i)=>{let n,a,r=-1,o=e[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)a=o,o=e[2*(n+1)+1],++s<l&&a===o||(s<c?t.bl_tree[2*a]+=s:0!==a?(a!==r&&t.bl_tree[2*a]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,r=a,0===o?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4))},J=(t,e,i)=>{let n,a,r=-1,o=e[1],s=0,l=7,c=4;for(0===o&&(l=138,c=3),n=0;n<=i;n++)if(a=o,o=e[2*(n+1)+1],!(++s<l&&a===o)){if(s<c)do{U(t,a,t.bl_tree)}while(0!=--s);else 0!==a?(a!==r&&(U(t,a,t.bl_tree),s--),U(t,16,t.bl_tree),W(t,s-3,2)):s<=10?(U(t,17,t.bl_tree),W(t,s-3,3)):(U(t,18,t.bl_tree),W(t,s-11,7));s=0,r=a,0===o?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4)}};let q=!1;const $=(t,e,i,n)=>{W(t,0+(n?1:0),3),j(t),F(t,i),F(t,~i),i&&t.pending_buf.set(t.window.subarray(e,e+i),t.pending),t.pending+=i};var Q={_tr_init:t=>{q||((()=>{let t,e,i,n,a;const r=new Array(16);for(i=0,n=0;n<28;n++)for(k[n]=i,t=0;t<1<<L[n];t++)R[i++]=n;for(R[i-1]=n,a=0,n=0;n<16;n++)for(I[n]=a,t=0;t<1<<w[n];t++)A[a++]=n;for(a>>=7;n<30;n++)for(I[n]=a<<7,t=0;t<1<<w[n]-7;t++)A[256+a++]=n;for(e=0;e<=15;e++)r[e]=0;for(t=0;t<=143;)b[2*t+1]=8,t++,r[8]++;for(;t<=255;)b[2*t+1]=9,t++,r[9]++;for(;t<=279;)b[2*t+1]=7,t++,r[7]++;for(;t<=287;)b[2*t+1]=8,t++,r[8]++;for(H(b,287,r),t=0;t<30;t++)O[2*t+1]=5,O[2*t]=X(t,5);x=new D(b,L,257,286,15),M=new D(O,w,0,30,15),P=new D(new Array(0),m,0,19,7)})(),q=!0),t.l_desc=new N(t.dyn_ltree,x),t.d_desc=new N(t.dyn_dtree,M),t.bl_desc=new N(t.bl_tree,P),t.bi_buf=0,t.bi_valid=0,Y(t)},_tr_stored_block:$,_tr_flush_block:(t,e,i,n)=>{let a,r,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),K(t,t.l_desc),K(t,t.d_desc),o=(t=>{let e;for(Z(t,t.dyn_ltree,t.l_desc.max_code),Z(t,t.dyn_dtree,t.d_desc.max_code),K(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*T[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),a=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=a&&(a=r)):a=r=i+5,i+4<=a&&-1!==e?$(t,e,i,n):4===t.strategy||r===a?(W(t,2+(n?1:0),3),G(t,b,O)):(W(t,4+(n?1:0),3),((t,e,i,n)=>{let a;for(W(t,e-257,5),W(t,i-1,5),W(t,n-4,4),a=0;a<n;a++)W(t,t.bl_tree[2*T[a]+1],3);J(t,t.dyn_ltree,e-1),J(t,t.dyn_dtree,i-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),G(t,t.dyn_ltree,t.dyn_dtree)),Y(t),n&&j(t)},_tr_tally:(t,e,i)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=i,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(R[i]+256+1)]++,t.dyn_dtree[2*B(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{W(t,2,3),U(t,256,b),(t=>{16===t.bi_valid?(F(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},tt=(t,e,i,n)=>{let a=65535&t,r=t>>>16&65535,o=0;for(;0!==i;){o=i>2e3?2e3:i,i-=o;do{a=a+e[n++]|0,r=r+a|0}while(--o);a%=65521,r%=65521}return a|r<<16};const et=new Uint32Array((()=>{let t,e=[];for(var i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e})());var it=(t,e,i,n)=>{const a=et,r=n+i;t^=-1;for(let i=n;i<r;i++)t=t>>>8^a[255&(t^e[i])];return~t},nt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},at={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:rt,_tr_stored_block:ot,_tr_flush_block:st,_tr_tally:lt,_tr_align:ct}=Q,{Z_NO_FLUSH:ht,Z_PARTIAL_FLUSH:ut,Z_FULL_FLUSH:ft,Z_FINISH:dt,Z_BLOCK:pt,Z_OK:vt,Z_STREAM_END:_t,Z_STREAM_ERROR:Et,Z_DATA_ERROR:gt,Z_BUF_ERROR:Ct,Z_DEFAULT_COMPRESSION:yt,Z_FILTERED:St,Z_HUFFMAN_ONLY:Lt,Z_RLE:wt,Z_FIXED:mt,Z_DEFAULT_STRATEGY:Tt,Z_UNKNOWN:bt,Z_DEFLATED:Ot}=at,At=258,Rt=262,kt=42,It=113,Dt=666,xt=(t,e)=>(t.msg=nt[e],e),Mt=t=>2*t-(t>4?9:0),Pt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Nt=t=>{let e,i,n,a=t.w_size;e=t.hash_size,n=e;do{i=t.head[--n],t.head[n]=i>=a?i-a:0}while(--e);e=a,n=e;do{i=t.prev[--n],t.prev[n]=i>=a?i-a:0}while(--e)};let Bt=(t,e,i)=>(e<<t.hash_shift^i)&t.hash_mask;const Ft=t=>{const e=t.state;let i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+i),t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))},Wt=(t,e)=>{st(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Ft(t.strm)},Ut=(t,e)=>{t.pending_buf[t.pending++]=e},Xt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Ht=(t,e,i,n)=>{let a=t.avail_in;return a>n&&(a=n),0===a?0:(t.avail_in-=a,e.set(t.input.subarray(t.next_in,t.next_in+a),i),1===t.state.wrap?t.adler=tt(t.adler,e,a,i):2===t.state.wrap&&(t.adler=it(t.adler,e,a,i)),t.next_in+=a,t.total_in+=a,a)},Yt=(t,e)=>{let i,n,a=t.max_chain_length,r=t.strstart,o=t.prev_length,s=t.nice_match;const l=t.strstart>t.w_size-Rt?t.strstart-(t.w_size-Rt):0,c=t.window,h=t.w_mask,u=t.prev,f=t.strstart+At;let d=c[r+o-1],p=c[r+o];t.prev_length>=t.good_match&&(a>>=2),s>t.lookahead&&(s=t.lookahead);do{if(i=e,c[i+o]===p&&c[i+o-1]===d&&c[i]===c[r]&&c[++i]===c[r+1]){r+=2,i++;do{}while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<f);if(n=At-(f-r),r=f-At,n>o){if(t.match_start=e,o=n,n>=s)break;d=c[r+o-1],p=c[r+o]}}}while((e=u[e&h])>l&&0!=--a);return o<=t.lookahead?o:t.lookahead},jt=t=>{const e=t.w_size;let i,n,a;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Rt)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Nt(t),n+=e),0===t.strm.avail_in)break;if(i=Ht(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=i,t.lookahead+t.insert>=3)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=Bt(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=Bt(t,t.ins_h,t.window[a+3-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Rt&&0!==t.strm.avail_in)},Vt=(t,e)=>{let i,n,a,r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,o=0,s=t.strm.avail_in;do{if(i=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a)break;if(a=t.strm.avail_out-a,n=t.strstart-t.block_start,i>n+t.strm.avail_in&&(i=n+t.strm.avail_in),i>a&&(i=a),i<r&&(0===i&&e!==dt||e===ht||i!==n+t.strm.avail_in))break;o=e===dt&&i===n+t.strm.avail_in?1:0,ot(t,0,0,o),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,Ft(t.strm),n&&(n>i&&(n=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,i-=n),i&&(Ht(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(0===o);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?4:e!==ht&&e!==dt&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(Ht(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,r=a>t.w_size?t.w_size:a,n=t.strstart-t.block_start,(n>=r||(n||e===dt)&&e!==ht&&0===t.strm.avail_in&&n<=a)&&(i=n>a?a:n,o=e===dt&&0===t.strm.avail_in&&i===n?1:0,ot(t,t.block_start,i,o),t.block_start+=i,Ft(t.strm)),o?3:1)},zt=(t,e)=>{let i,n;for(;;){if(t.lookahead<Rt){if(jt(t),t.lookahead<Rt&&e===ht)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=Bt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-Rt&&(t.match_length=Yt(t,i)),t.match_length>=3)if(n=lt(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Bt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Bt(t,t.ins_h,t.window[t.strstart+1]);else n=lt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Wt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===dt?(Wt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Wt(t,!1),0===t.strm.avail_out)?1:2},Gt=(t,e)=>{let i,n,a;for(;;){if(t.lookahead<Rt){if(jt(t),t.lookahead<Rt&&e===ht)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=Bt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-Rt&&(t.match_length=Yt(t,i),t.match_length<=5&&(t.strategy===St||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-3,n=lt(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=a&&(t.ins_h=Bt(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Wt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=lt(t,0,t.window[t.strstart-1]),n&&Wt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=lt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===dt?(Wt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Wt(t,!1),0===t.strm.avail_out)?1:2};function Kt(t,e,i,n,a){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=a}const Zt=[new Kt(0,0,0,0,Vt),new Kt(4,4,8,4,zt),new Kt(4,5,16,8,zt),new Kt(4,6,32,32,zt),new Kt(4,4,16,16,Gt),new Kt(8,16,32,32,Gt),new Kt(8,16,128,128,Gt),new Kt(8,32,128,256,Gt),new Kt(32,128,258,1024,Gt),new Kt(32,258,258,4096,Gt)];function Jt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ot,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Pt(this.dyn_ltree),Pt(this.dyn_dtree),Pt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Pt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Pt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const qt=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==kt&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==It&&e.status!==Dt?1:0},$t=t=>{if(qt(t))return xt(t,Et);t.total_in=t.total_out=0,t.data_type=bt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?kt:It,t.adler=2===e.wrap?0:1,e.last_flush=-2,rt(e),vt},Qt=t=>{const e=$t(t);var i;return e===vt&&((i=t.state).window_size=2*i.w_size,Pt(i.head),i.max_lazy_match=Zt[i.level].max_lazy,i.good_match=Zt[i.level].good_length,i.nice_match=Zt[i.level].nice_length,i.max_chain_length=Zt[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),e},te=(t,e,i,n,a,r)=>{if(!t)return Et;let o=1;if(e===yt&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),a<1||a>9||i!==Ot||n<8||n>15||e<0||e>9||r<0||r>mt||8===n&&1!==o)return xt(t,Et);8===n&&(n=9);const s=new Jt;return t.state=s,s.strm=t,s.status=kt,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=e,s.strategy=r,s.method=i,Qt(t)};var ee={deflateInit:(t,e)=>te(t,e,Ot,15,8,Tt),deflateInit2:te,deflateReset:Qt,deflateResetKeep:$t,deflateSetHeader:(t,e)=>qt(t)||2!==t.state.wrap?Et:(t.state.gzhead=e,vt),deflate:(t,e)=>{if(qt(t)||e>pt||e<0)return t?xt(t,Et):Et;const i=t.state;if(!t.output||0!==t.avail_in&&!t.input||i.status===Dt&&e!==dt)return xt(t,0===t.avail_out?Ct:Et);const n=i.last_flush;if(i.last_flush=e,0!==i.pending){if(Ft(t),0===t.avail_out)return i.last_flush=-1,vt}else if(0===t.avail_in&&Mt(e)<=Mt(n)&&e!==dt)return xt(t,Ct);if(i.status===Dt&&0!==t.avail_in)return xt(t,Ct);if(i.status===kt&&0===i.wrap&&(i.status=It),i.status===kt){let e=Ot+(i.w_bits-8<<4)<<8,n=-1;if(n=i.strategy>=Lt||i.level<2?0:i.level<6?1:6===i.level?2:3,e|=n<<6,0!==i.strstart&&(e|=32),e+=31-e%31,Xt(i,e),0!==i.strstart&&(Xt(i,t.adler>>>16),Xt(i,65535&t.adler)),t.adler=1,i.status=It,Ft(t),0!==i.pending)return i.last_flush=-1,vt}if(57===i.status)if(t.adler=0,Ut(i,31),Ut(i,139),Ut(i,8),i.gzhead)Ut(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Ut(i,255&i.gzhead.time),Ut(i,i.gzhead.time>>8&255),Ut(i,i.gzhead.time>>16&255),Ut(i,i.gzhead.time>>24&255),Ut(i,9===i.level?2:i.strategy>=Lt||i.level<2?4:0),Ut(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Ut(i,255&i.gzhead.extra.length),Ut(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=it(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(Ut(i,0),Ut(i,0),Ut(i,0),Ut(i,0),Ut(i,0),Ut(i,9===i.level?2:i.strategy>=Lt||i.level<2?4:0),Ut(i,3),i.status=It,Ft(t),0!==i.pending)return i.last_flush=-1,vt;if(69===i.status){if(i.gzhead.extra){let e=i.pending,n=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let a=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+a),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>e&&(t.adler=it(t.adler,i.pending_buf,i.pending-e,e)),i.gzindex+=a,Ft(t),0!==i.pending)return i.last_flush=-1,vt;e=0,n-=a}let a=new Uint8Array(i.gzhead.extra);i.pending_buf.set(a.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>e&&(t.adler=it(t.adler,i.pending_buf,i.pending-e,e)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let e,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(t.adler=it(t.adler,i.pending_buf,i.pending-n,n)),Ft(t),0!==i.pending)return i.last_flush=-1,vt;n=0}e=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Ut(i,e)}while(0!==e);i.gzhead.hcrc&&i.pending>n&&(t.adler=it(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let e,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(t.adler=it(t.adler,i.pending_buf,i.pending-n,n)),Ft(t),0!==i.pending)return i.last_flush=-1,vt;n=0}e=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Ut(i,e)}while(0!==e);i.gzhead.hcrc&&i.pending>n&&(t.adler=it(t.adler,i.pending_buf,i.pending-n,n))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(Ft(t),0!==i.pending))return i.last_flush=-1,vt;Ut(i,255&t.adler),Ut(i,t.adler>>8&255),t.adler=0}if(i.status=It,Ft(t),0!==i.pending)return i.last_flush=-1,vt}if(0!==t.avail_in||0!==i.lookahead||e!==ht&&i.status!==Dt){let n=0===i.level?Vt(i,e):i.strategy===Lt?((t,e)=>{let i;for(;;){if(0===t.lookahead&&(jt(t),0===t.lookahead)){if(e===ht)return 1;break}if(t.match_length=0,i=lt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(Wt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===dt?(Wt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Wt(t,!1),0===t.strm.avail_out)?1:2})(i,e):i.strategy===wt?((t,e)=>{let i,n,a,r;const o=t.window;for(;;){if(t.lookahead<=At){if(jt(t),t.lookahead<=At&&e===ht)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(a=t.strstart-1,n=o[a],n===o[++a]&&n===o[++a]&&n===o[++a])){r=t.strstart+At;do{}while(n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&n===o[++a]&&a<r);t.match_length=At-(r-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=lt(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=lt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(Wt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===dt?(Wt(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Wt(t,!1),0===t.strm.avail_out)?1:2})(i,e):Zt[i.level].func(i,e);if(3!==n&&4!==n||(i.status=Dt),1===n||3===n)return 0===t.avail_out&&(i.last_flush=-1),vt;if(2===n&&(e===ut?ct(i):e!==pt&&(ot(i,0,0,!1),e===ft&&(Pt(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Ft(t),0===t.avail_out))return i.last_flush=-1,vt}return e!==dt?vt:i.wrap<=0?_t:(2===i.wrap?(Ut(i,255&t.adler),Ut(i,t.adler>>8&255),Ut(i,t.adler>>16&255),Ut(i,t.adler>>24&255),Ut(i,255&t.total_in),Ut(i,t.total_in>>8&255),Ut(i,t.total_in>>16&255),Ut(i,t.total_in>>24&255)):(Xt(i,t.adler>>>16),Xt(i,65535&t.adler)),Ft(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?vt:_t)},deflateEnd:t=>{if(qt(t))return Et;const e=t.state.status;return t.state=null,e===It?xt(t,gt):vt},deflateSetDictionary:(t,e)=>{let i=e.length;if(qt(t))return Et;const n=t.state,a=n.wrap;if(2===a||1===a&&n.status!==kt||n.lookahead)return Et;if(1===a&&(t.adler=tt(t.adler,e,i,0)),n.wrap=0,i>=n.w_size){0===a&&(Pt(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(i-n.w_size,i),0),e=t,i=n.w_size}const r=t.avail_in,o=t.next_in,s=t.input;for(t.avail_in=i,t.next_in=0,t.input=e,jt(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=Bt(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,jt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=o,t.input=s,t.avail_in=r,n.wrap=a,vt},deflateInfo:"pako deflate (from Nodeca project)"};const ie=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ne={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const e in i)ie(i,e)&&(t[e]=i[e])}}return t},flattenChunks:t=>{let e=0;for(let i=0,n=t.length;i<n;i++)e+=t[i].length;const i=new Uint8Array(e);for(let e=0,n=0,a=t.length;e<a;e++){let a=t[e];i.set(a,n),n+=a.length}return i}};let ae=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){ae=!1}const re=new Uint8Array(256);for(let t=0;t<256;t++)re[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;re[254]=re[254]=1;var oe={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,i,n,a,r,o=t.length,s=0;for(a=0;a<o;a++)i=t.charCodeAt(a),55296==(64512&i)&&a+1<o&&(n=t.charCodeAt(a+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),a++)),s+=i<128?1:i<2048?2:i<65536?3:4;for(e=new Uint8Array(s),r=0,a=0;r<s;a++)i=t.charCodeAt(a),55296==(64512&i)&&a+1<o&&(n=t.charCodeAt(a+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),a++)),i<128?e[r++]=i:i<2048?(e[r++]=192|i>>>6,e[r++]=128|63&i):i<65536?(e[r++]=224|i>>>12,e[r++]=128|i>>>6&63,e[r++]=128|63&i):(e[r++]=240|i>>>18,e[r++]=128|i>>>12&63,e[r++]=128|i>>>6&63,e[r++]=128|63&i);return e},buf2string:(t,e)=>{const i=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,a;const r=new Array(2*i);for(a=0,n=0;n<i;){let e=t[n++];if(e<128){r[a++]=e;continue}let o=re[e];if(o>4)r[a++]=65533,n+=o-1;else{for(e&=2===o?31:3===o?15:7;o>1&&n<i;)e=e<<6|63&t[n++],o--;o>1?r[a++]=65533:e<65536?r[a++]=e:(e-=65536,r[a++]=55296|e>>10&1023,r[a++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&ae)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let i="";for(let n=0;n<e;n++)i+=String.fromCharCode(t[n]);return i})(r,a)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let i=e-1;for(;i>=0&&128==(192&t[i]);)i--;return i<0||0===i?e:i+re[t[i]]>e?i:e}},se=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const le=Object.prototype.toString,{Z_NO_FLUSH:ce,Z_SYNC_FLUSH:he,Z_FULL_FLUSH:ue,Z_FINISH:fe,Z_OK:de,Z_STREAM_END:pe,Z_DEFAULT_COMPRESSION:ve,Z_DEFAULT_STRATEGY:_e,Z_DEFLATED:Ee}=at;function ge(t){this.options=ne.assign({level:ve,method:Ee,chunkSize:16384,windowBits:15,memLevel:8,strategy:_e},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new se,this.strm.avail_out=0;let i=ee.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==de)throw new Error(nt[i]);if(e.header&&ee.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?oe.string2buf(e.dictionary):"[object ArrayBuffer]"===le.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,i=ee.deflateSetDictionary(this.strm,t),i!==de)throw new Error(nt[i]);this._dict_set=!0}}function Ce(t,e){const i=new ge(e);if(i.push(t,!0),i.err)throw i.msg||nt[i.err];return i.result}ge.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize;let a,r;if(this.ended)return!1;for(r=e===~~e?e:!0===e?fe:ce,"string"==typeof t?i.input=oe.string2buf(t):"[object ArrayBuffer]"===le.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(r===he||r===ue)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(a=ee.deflate(i,r),a===pe)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),a=ee.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===de;if(0!==i.avail_out){if(r>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},ge.prototype.onData=function(t){this.chunks.push(t)},ge.prototype.onEnd=function(t){t===de&&(this.result=ne.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ye={Deflate:ge,deflate:Ce,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Ce(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Ce(t,e)},constants:at};const Se=16209;var Le=function(t,e){let i,n,a,r,o,s,l,c,h,u,f,d,p,v,_,E,g,C,y,S,L,w,m,T;const b=t.state;i=t.next_in,m=t.input,n=i+(t.avail_in-5),a=t.next_out,T=t.output,r=a-(e-t.avail_out),o=a+(t.avail_out-257),s=b.dmax,l=b.wsize,c=b.whave,h=b.wnext,u=b.window,f=b.hold,d=b.bits,p=b.lencode,v=b.distcode,_=(1<<b.lenbits)-1,E=(1<<b.distbits)-1;t:do{d<15&&(f+=m[i++]<<d,d+=8,f+=m[i++]<<d,d+=8),g=p[f&_];e:for(;;){if(C=g>>>24,f>>>=C,d-=C,C=g>>>16&255,0===C)T[a++]=65535&g;else{if(!(16&C)){if(64&C){if(32&C){b.mode=16191;break t}t.msg="invalid literal/length code",b.mode=Se;break t}g=p[(65535&g)+(f&(1<<C)-1)];continue e}for(y=65535&g,C&=15,C&&(d<C&&(f+=m[i++]<<d,d+=8),y+=f&(1<<C)-1,f>>>=C,d-=C),d<15&&(f+=m[i++]<<d,d+=8,f+=m[i++]<<d,d+=8),g=v[f&E];;){if(C=g>>>24,f>>>=C,d-=C,C=g>>>16&255,16&C){if(S=65535&g,C&=15,d<C&&(f+=m[i++]<<d,d+=8,d<C&&(f+=m[i++]<<d,d+=8)),S+=f&(1<<C)-1,S>s){t.msg="invalid distance too far back",b.mode=Se;break t}if(f>>>=C,d-=C,C=a-r,S>C){if(C=S-C,C>c&&b.sane){t.msg="invalid distance too far back",b.mode=Se;break t}if(L=0,w=u,0===h){if(L+=l-C,C<y){y-=C;do{T[a++]=u[L++]}while(--C);L=a-S,w=T}}else if(h<C){if(L+=l+h-C,C-=h,C<y){y-=C;do{T[a++]=u[L++]}while(--C);if(L=0,h<y){C=h,y-=C;do{T[a++]=u[L++]}while(--C);L=a-S,w=T}}}else if(L+=h-C,C<y){y-=C;do{T[a++]=u[L++]}while(--C);L=a-S,w=T}for(;y>2;)T[a++]=w[L++],T[a++]=w[L++],T[a++]=w[L++],y-=3;y&&(T[a++]=w[L++],y>1&&(T[a++]=w[L++]))}else{L=a-S;do{T[a++]=T[L++],T[a++]=T[L++],T[a++]=T[L++],y-=3}while(y>2);y&&(T[a++]=T[L++],y>1&&(T[a++]=T[L++]))}break}if(64&C){t.msg="invalid distance code",b.mode=Se;break t}g=v[(65535&g)+(f&(1<<C)-1)]}}break}}while(i<n&&a<o);y=d>>3,i-=y,d-=y<<3,f&=(1<<d)-1,t.next_in=i,t.next_out=a,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=a<o?o-a+257:257-(a-o),b.hold=f,b.bits=d};const we=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),me=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Te=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),be=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Oe=(t,e,i,n,a,r,o,s)=>{const l=s.bits;let c,h,u,f,d,p,v=0,_=0,E=0,g=0,C=0,y=0,S=0,L=0,w=0,m=0,T=null;const b=new Uint16Array(16),O=new Uint16Array(16);let A,R,k,I=null;for(v=0;v<=15;v++)b[v]=0;for(_=0;_<n;_++)b[e[i+_]]++;for(C=l,g=15;g>=1&&0===b[g];g--);if(C>g&&(C=g),0===g)return a[r++]=20971520,a[r++]=20971520,s.bits=1,0;for(E=1;E<g&&0===b[E];E++);for(C<E&&(C=E),L=1,v=1;v<=15;v++)if(L<<=1,L-=b[v],L<0)return-1;if(L>0&&(0===t||1!==g))return-1;for(O[1]=0,v=1;v<15;v++)O[v+1]=O[v]+b[v];for(_=0;_<n;_++)0!==e[i+_]&&(o[O[e[i+_]]++]=_);if(0===t?(T=I=o,p=20):1===t?(T=we,I=me,p=257):(T=Te,I=be,p=0),m=0,_=0,v=E,d=r,y=C,S=0,u=-1,w=1<<C,f=w-1,1===t&&w>852||2===t&&w>592)return 1;for(;;){A=v-S,o[_]+1<p?(R=0,k=o[_]):o[_]>=p?(R=I[o[_]-p],k=T[o[_]-p]):(R=96,k=0),c=1<<v-S,h=1<<y,E=h;do{h-=c,a[d+(m>>S)+h]=A<<24|R<<16|k}while(0!==h);for(c=1<<v-1;m&c;)c>>=1;if(0!==c?(m&=c-1,m+=c):m=0,_++,0==--b[v]){if(v===g)break;v=e[i+o[_]]}if(v>C&&(m&f)!==u){for(0===S&&(S=C),d+=E,y=v-S,L=1<<y;y+S<g&&(L-=b[y+S],!(L<=0));)y++,L<<=1;if(w+=1<<y,1===t&&w>852||2===t&&w>592)return 1;u=m&f,a[u]=C<<24|y<<16|d-r}}return 0!==m&&(a[d+m]=v-S<<24|64<<16),s.bits=C,0};const{Z_FINISH:Ae,Z_BLOCK:Re,Z_TREES:ke,Z_OK:Ie,Z_STREAM_END:De,Z_NEED_DICT:xe,Z_STREAM_ERROR:Me,Z_DATA_ERROR:Pe,Z_MEM_ERROR:Ne,Z_BUF_ERROR:Be,Z_DEFLATED:Fe}=at,We=16180,Ue=16190,Xe=16191,He=16192,Ye=16194,je=16199,Ve=16200,ze=16206,Ge=16209,Ke=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Ze(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Je=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<We||e.mode>16211?1:0},qe=t=>{if(Je(t))return Me;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=We,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Ie},$e=t=>{if(Je(t))return Me;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,qe(t)},Qe=(t,e)=>{let i;if(Je(t))return Me;const n=t.state;return e<0?(i=0,e=-e):(i=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Me:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,$e(t))},ti=(t,e)=>{if(!t)return Me;const i=new Ze;t.state=i,i.strm=t,i.window=null,i.mode=We;const n=Qe(t,e);return n!==Ie&&(t.state=null),n};let ei,ii,ni=!0;const ai=t=>{if(ni){ei=new Int32Array(512),ii=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Oe(1,t.lens,0,288,ei,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Oe(2,t.lens,0,32,ii,0,t.work,{bits:5}),ni=!1}t.lencode=ei,t.lenbits=9,t.distcode=ii,t.distbits=5},ri=(t,e,i,n)=>{let a;const r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(e.subarray(i-r.wsize,i),0),r.wnext=0,r.whave=r.wsize):(a=r.wsize-r.wnext,a>n&&(a=n),r.window.set(e.subarray(i-n,i-n+a),r.wnext),(n-=a)?(r.window.set(e.subarray(i-n,i),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=a,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=a))),0};var oi={inflateReset:$e,inflateReset2:Qe,inflateResetKeep:qe,inflateInit:t=>ti(t,15),inflateInit2:ti,inflate:(t,e)=>{let i,n,a,r,o,s,l,c,h,u,f,d,p,v,_,E,g,C,y,S,L,w,m=0;const T=new Uint8Array(4);let b,O;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Je(t)||!t.output||!t.input&&0!==t.avail_in)return Me;i=t.state,i.mode===Xe&&(i.mode=He),o=t.next_out,a=t.output,l=t.avail_out,r=t.next_in,n=t.input,s=t.avail_in,c=i.hold,h=i.bits,u=s,f=l,w=Ie;t:for(;;)switch(i.mode){case We:if(0===i.wrap){i.mode=He;break}for(;h<16;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}if(2&i.wrap&&35615===c){0===i.wbits&&(i.wbits=15),i.check=0,T[0]=255&c,T[1]=c>>>8&255,i.check=it(i.check,T,2,0),c=0,h=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",i.mode=Ge;break}if((15&c)!==Fe){t.msg="unknown compression method",i.mode=Ge;break}if(c>>>=4,h-=4,L=8+(15&c),0===i.wbits&&(i.wbits=L),L>15||L>i.wbits){t.msg="invalid window size",i.mode=Ge;break}i.dmax=1<<i.wbits,i.flags=0,t.adler=i.check=1,i.mode=512&c?16189:Xe,c=0,h=0;break;case 16181:for(;h<16;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}if(i.flags=c,(255&i.flags)!==Fe){t.msg="unknown compression method",i.mode=Ge;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=Ge;break}i.head&&(i.head.text=c>>8&1),512&i.flags&&4&i.wrap&&(T[0]=255&c,T[1]=c>>>8&255,i.check=it(i.check,T,2,0)),c=0,h=0,i.mode=16182;case 16182:for(;h<32;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}i.head&&(i.head.time=c),512&i.flags&&4&i.wrap&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,i.check=it(i.check,T,4,0)),c=0,h=0,i.mode=16183;case 16183:for(;h<16;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}i.head&&(i.head.xflags=255&c,i.head.os=c>>8),512&i.flags&&4&i.wrap&&(T[0]=255&c,T[1]=c>>>8&255,i.check=it(i.check,T,2,0)),c=0,h=0,i.mode=16184;case 16184:if(1024&i.flags){for(;h<16;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}i.length=c,i.head&&(i.head.extra_len=c),512&i.flags&&4&i.wrap&&(T[0]=255&c,T[1]=c>>>8&255,i.check=it(i.check,T,2,0)),c=0,h=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(d=i.length,d>s&&(d=s),d&&(i.head&&(L=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(r,r+d),L)),512&i.flags&&4&i.wrap&&(i.check=it(i.check,n,d,r)),s-=d,r+=d,i.length-=d),i.length))break t;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===s)break t;d=0;do{L=n[r+d++],i.head&&L&&i.length<65536&&(i.head.name+=String.fromCharCode(L))}while(L&&d<s);if(512&i.flags&&4&i.wrap&&(i.check=it(i.check,n,d,r)),s-=d,r+=d,L)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===s)break t;d=0;do{L=n[r+d++],i.head&&L&&i.length<65536&&(i.head.comment+=String.fromCharCode(L))}while(L&&d<s);if(512&i.flags&&4&i.wrap&&(i.check=it(i.check,n,d,r)),s-=d,r+=d,L)break t}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;h<16;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}if(4&i.wrap&&c!==(65535&i.check)){t.msg="header crc mismatch",i.mode=Ge;break}c=0,h=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=Xe;break;case 16189:for(;h<32;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}t.adler=i.check=Ke(c),c=0,h=0,i.mode=Ue;case Ue:if(0===i.havedict)return t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=s,i.hold=c,i.bits=h,xe;t.adler=i.check=1,i.mode=Xe;case Xe:if(e===Re||e===ke)break t;case He:if(i.last){c>>>=7&h,h-=7&h,i.mode=ze;break}for(;h<3;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}switch(i.last=1&c,c>>>=1,h-=1,3&c){case 0:i.mode=16193;break;case 1:if(ai(i),i.mode=je,e===ke){c>>>=2,h-=2;break t}break;case 2:i.mode=16196;break;case 3:t.msg="invalid block type",i.mode=Ge}c>>>=2,h-=2;break;case 16193:for(c>>>=7&h,h-=7&h;h<32;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",i.mode=Ge;break}if(i.length=65535&c,c=0,h=0,i.mode=Ye,e===ke)break t;case Ye:i.mode=16195;case 16195:if(d=i.length,d){if(d>s&&(d=s),d>l&&(d=l),0===d)break t;a.set(n.subarray(r,r+d),o),s-=d,r+=d,l-=d,o+=d,i.length-=d;break}i.mode=Xe;break;case 16196:for(;h<14;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}if(i.nlen=257+(31&c),c>>>=5,h-=5,i.ndist=1+(31&c),c>>>=5,h-=5,i.ncode=4+(15&c),c>>>=4,h-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=Ge;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;h<3;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}i.lens[A[i.have++]]=7&c,c>>>=3,h-=3}for(;i.have<19;)i.lens[A[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,b={bits:i.lenbits},w=Oe(0,i.lens,0,19,i.lencode,0,i.work,b),i.lenbits=b.bits,w){t.msg="invalid code lengths set",i.mode=Ge;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;m=i.lencode[c&(1<<i.lenbits)-1],_=m>>>24,E=m>>>16&255,g=65535&m,!(_<=h);){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}if(g<16)c>>>=_,h-=_,i.lens[i.have++]=g;else{if(16===g){for(O=_+2;h<O;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}if(c>>>=_,h-=_,0===i.have){t.msg="invalid bit length repeat",i.mode=Ge;break}L=i.lens[i.have-1],d=3+(3&c),c>>>=2,h-=2}else if(17===g){for(O=_+3;h<O;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}c>>>=_,h-=_,L=0,d=3+(7&c),c>>>=3,h-=3}else{for(O=_+7;h<O;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}c>>>=_,h-=_,L=0,d=11+(127&c),c>>>=7,h-=7}if(i.have+d>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=Ge;break}for(;d--;)i.lens[i.have++]=L}}if(i.mode===Ge)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=Ge;break}if(i.lenbits=9,b={bits:i.lenbits},w=Oe(1,i.lens,0,i.nlen,i.lencode,0,i.work,b),i.lenbits=b.bits,w){t.msg="invalid literal/lengths set",i.mode=Ge;break}if(i.distbits=6,i.distcode=i.distdyn,b={bits:i.distbits},w=Oe(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,b),i.distbits=b.bits,w){t.msg="invalid distances set",i.mode=Ge;break}if(i.mode=je,e===ke)break t;case je:i.mode=Ve;case Ve:if(s>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=s,i.hold=c,i.bits=h,Le(t,f),o=t.next_out,a=t.output,l=t.avail_out,r=t.next_in,n=t.input,s=t.avail_in,c=i.hold,h=i.bits,i.mode===Xe&&(i.back=-1);break}for(i.back=0;m=i.lencode[c&(1<<i.lenbits)-1],_=m>>>24,E=m>>>16&255,g=65535&m,!(_<=h);){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}if(E&&!(240&E)){for(C=_,y=E,S=g;m=i.lencode[S+((c&(1<<C+y)-1)>>C)],_=m>>>24,E=m>>>16&255,g=65535&m,!(C+_<=h);){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}c>>>=C,h-=C,i.back+=C}if(c>>>=_,h-=_,i.back+=_,i.length=g,0===E){i.mode=16205;break}if(32&E){i.back=-1,i.mode=Xe;break}if(64&E){t.msg="invalid literal/length code",i.mode=Ge;break}i.extra=15&E,i.mode=16201;case 16201:if(i.extra){for(O=i.extra;h<O;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}i.length+=c&(1<<i.extra)-1,c>>>=i.extra,h-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;m=i.distcode[c&(1<<i.distbits)-1],_=m>>>24,E=m>>>16&255,g=65535&m,!(_<=h);){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}if(!(240&E)){for(C=_,y=E,S=g;m=i.distcode[S+((c&(1<<C+y)-1)>>C)],_=m>>>24,E=m>>>16&255,g=65535&m,!(C+_<=h);){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}c>>>=C,h-=C,i.back+=C}if(c>>>=_,h-=_,i.back+=_,64&E){t.msg="invalid distance code",i.mode=Ge;break}i.offset=g,i.extra=15&E,i.mode=16203;case 16203:if(i.extra){for(O=i.extra;h<O;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}i.offset+=c&(1<<i.extra)-1,c>>>=i.extra,h-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=Ge;break}i.mode=16204;case 16204:if(0===l)break t;if(d=f-l,i.offset>d){if(d=i.offset-d,d>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=Ge;break}d>i.wnext?(d-=i.wnext,p=i.wsize-d):p=i.wnext-d,d>i.length&&(d=i.length),v=i.window}else v=a,p=o-i.offset,d=i.length;d>l&&(d=l),l-=d,i.length-=d;do{a[o++]=v[p++]}while(--d);0===i.length&&(i.mode=Ve);break;case 16205:if(0===l)break t;a[o++]=i.length,l--,i.mode=Ve;break;case ze:if(i.wrap){for(;h<32;){if(0===s)break t;s--,c|=n[r++]<<h,h+=8}if(f-=l,t.total_out+=f,i.total+=f,4&i.wrap&&f&&(t.adler=i.check=i.flags?it(i.check,a,f,o-f):tt(i.check,a,f,o-f)),f=l,4&i.wrap&&(i.flags?c:Ke(c))!==i.check){t.msg="incorrect data check",i.mode=Ge;break}c=0,h=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;h<32;){if(0===s)break t;s--,c+=n[r++]<<h,h+=8}if(4&i.wrap&&c!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=Ge;break}c=0,h=0}i.mode=16208;case 16208:w=De;break t;case Ge:w=Pe;break t;case 16210:return Ne;default:return Me}return t.next_out=o,t.avail_out=l,t.next_in=r,t.avail_in=s,i.hold=c,i.bits=h,(i.wsize||f!==t.avail_out&&i.mode<Ge&&(i.mode<ze||e!==Ae))&&ri(t,t.output,t.next_out,f-t.avail_out),u-=t.avail_in,f-=t.avail_out,t.total_in+=u,t.total_out+=f,i.total+=f,4&i.wrap&&f&&(t.adler=i.check=i.flags?it(i.check,a,f,t.next_out-f):tt(i.check,a,f,t.next_out-f)),t.data_type=i.bits+(i.last?64:0)+(i.mode===Xe?128:0)+(i.mode===je||i.mode===Ye?256:0),(0===u&&0===f||e===Ae)&&w===Ie&&(w=Be),w},inflateEnd:t=>{if(Je(t))return Me;let e=t.state;return e.window&&(e.window=null),t.state=null,Ie},inflateGetHeader:(t,e)=>{if(Je(t))return Me;const i=t.state;return 2&i.wrap?(i.head=e,e.done=!1,Ie):Me},inflateSetDictionary:(t,e)=>{const i=e.length;let n,a,r;return Je(t)?Me:(n=t.state,0!==n.wrap&&n.mode!==Ue?Me:n.mode===Ue&&(a=1,a=tt(a,e,i,0),a!==n.check)?Pe:(r=ri(t,e,i,i),r?(n.mode=16210,Ne):(n.havedict=1,Ie)))},inflateInfo:"pako inflate (from Nodeca project)"},si=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const li=Object.prototype.toString,{Z_NO_FLUSH:ci,Z_FINISH:hi,Z_OK:ui,Z_STREAM_END:fi,Z_NEED_DICT:di,Z_STREAM_ERROR:pi,Z_DATA_ERROR:vi,Z_MEM_ERROR:_i}=at;function Ei(t){this.options=ne.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new se,this.strm.avail_out=0;let i=oi.inflateInit2(this.strm,e.windowBits);if(i!==ui)throw new Error(nt[i]);if(this.header=new si,oi.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=oe.string2buf(e.dictionary):"[object ArrayBuffer]"===li.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=oi.inflateSetDictionary(this.strm,e.dictionary),i!==ui)))throw new Error(nt[i])}function gi(t,e){const i=new Ei(e);if(i.push(t),i.err)throw i.msg||nt[i.err];return i.result}Ei.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let r,o,s;if(this.ended)return!1;for(o=e===~~e?e:!0===e?hi:ci,"[object ArrayBuffer]"===li.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),r=oi.inflate(i,o),r===di&&a&&(r=oi.inflateSetDictionary(i,a),r===ui?r=oi.inflate(i,o):r===vi&&(r=di));i.avail_in>0&&r===fi&&i.state.wrap>0&&0!==t[i.next_in];)oi.inflateReset(i),r=oi.inflate(i,o);switch(r){case pi:case vi:case di:case _i:return this.onEnd(r),this.ended=!0,!1}if(s=i.avail_out,i.next_out&&(0===i.avail_out||r===fi))if("string"===this.options.to){let t=oe.utf8border(i.output,i.next_out),e=i.next_out-t,a=oe.buf2string(i.output,t);i.next_out=e,i.avail_out=n-e,e&&i.output.set(i.output.subarray(t,t+e),0),this.onData(a)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(r!==ui||0!==s){if(r===fi)return r=oi.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},Ei.prototype.onData=function(t){this.chunks.push(t)},Ei.prototype.onEnd=function(t){t===ui&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ne.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Ci={Inflate:Ei,inflate:gi,inflateRaw:function(t,e){return(e=e||{}).raw=!0,gi(t,e)},ungzip:gi,constants:at};const{Deflate:yi,deflate:Si,deflateRaw:Li,gzip:wi}=ye,{Inflate:mi,inflate:Ti,inflateRaw:bi,ungzip:Oi}=Ci;var Ai={Deflate:yi,deflate:Si,deflateRaw:Li,gzip:wi,Inflate:mi,inflate:Ti,inflateRaw:bi,ungzip:Oi,constants:at},Ri=function(){function e(){t(this,e)}return r(e,null,[{key:"getHtmlDpi",value:function(){var t=new Array;if(window.screen.deviceXDPI)t[0]=window.screen.deviceXDPI,t[1]=window.screen.deviceYDPI;else{var e=document.createElement("DIV");e.style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body.appendChild(e),t[0]=parseInt(e.offsetWidth),t[1]=parseInt(e.offsetHeight),e.parentNode.removeChild(e)}return t}},{key:"pxConversionMm",value:function(t){return t/this.getHtmlDpi()[0]*25.4}},{key:"mmConversionPx",value:function(t){var e=t/25.4*this.getHtmlDpi()[0];return parseInt(e)}},{key:"fullscreen",value:function(){if(document.fullscreenElement)document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen();else{var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}}},{key:"detectBrowser",value:function(){if("undefined"!=typeof InstallTrigger)return"Firefox";if(window.chrome&&(window.chrome.webstore||window.chrome.runtime))return-1!==navigator.userAgent.indexOf("Edg")?"Edge Chromium":"Chrome";if(this.isSafari())return"Safari";if(this.isIE())return"IE";var t=navigator.userAgent.toLowerCase();return t.includes("firefox")?"Firefox":t.includes("chrome")?"Chrome":t.includes("safari")?"Safari":t.includes("edge")?"Edge":t.includes("msie")||t.includes("trident")?"IE":"Unknown"}},{key:"isSafari",value:function(){return/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString()}},{key:"isIE",value:function(){return!!document.documentMode}}]),e}(),ki=function(){function e(){t(this,e)}return r(e,null,[{key:"pointInRect",value:function(t,e){var i=e.x,n=e.y,a=e.x+e.w,r=e.y+e.h;return Math.abs(t.x-i)+Math.abs(t.x-a)<=Math.abs(i-a)&&Math.abs(t.y-n)+Math.abs(t.y-r)<=Math.abs(n-r)}},{key:"pointToRectDistance",value:function(t,e,i,n,a,r){var o=this.pointToLineDistance(t,e,i,n,a,n),s=this.pointToLineDistance(t,e,a,n,a,r),l=this.pointToLineDistance(t,e,i,r,a,r),c=this.pointToLineDistance(t,e,i,n,i,r);return Math.min(o,s,l,c)}},{key:"pointToEllipseDistance",value:function(t,e,i,n,a,r){var o=i+(a-i)/2,s=n+(r-n)/2,l=Math.pow((a-i)/2,2),c=Math.pow((r-n)/2,2);if(l>c){var h=Math.sqrt(l-c),u=Math.sqrt(Math.pow(t-(o+h),2)+Math.pow(e-s,2)),f=Math.sqrt(Math.pow(t-(o-h),2)+Math.pow(e-s,2));return Math.abs(u+f-Math.abs(a-i))}if(l<c){var d=Math.sqrt(c-l),p=Math.sqrt(Math.pow(e-(s+d),2)+Math.pow(t-o,2)),v=Math.sqrt(Math.pow(e-(s-d),2)+Math.pow(t-o,2));return Math.abs(p+v-Math.abs(r-n))}var _=Math.sqrt(Math.pow(e-s,2)+Math.pow(t-o,2));return Math.abs(_+_-Math.abs(r-n))}},{key:"pointToTriangleDistance",value:function(t,e,i,n,a,r){var o=i+(a-i)/2,s=this.pointToLineDistance(t,e,o,n,a,r),l=this.pointToLineDistance(t,e,i,r,a,r),c=this.pointToLineDistance(t,e,o,n,i,r);return Math.min(s,c,l)}},{key:"pointToLineDistance",value:function(t,e,i,n,a,r){if(i==a)return e>Math.max(n,r)?Math.sqrt(Math.pow(t-i,2)+Math.pow(e-Math.max(n,r),2)):e<Math.min(n,r)?Math.sqrt(Math.pow(t-i,2)+Math.pow(e-Math.min(n,r),2)):Math.abs(t-i);if(n==r)return t>Math.max(i,a)?Math.sqrt(Math.pow(e-n,2)+Math.pow(t-Math.max(i,a),2)):t<Math.min(i,a)?Math.sqrt(Math.pow(e-n,2)+Math.pow(t-Math.min(i,a),2)):Math.abs(e-n);var o=(r-n)/(a-i),s=-1/o,l=e-s*t,c=(l-n+o*i)/(o-s),h=s*c+l,u=y(i<a?[[i,n],[a,r]]:[[a,r],[i,n]],2),f=y(u[0],2),d=f[0],p=f[1],v=y(u[1],2),_=v[0],E=v[1];return c>_?Math.sqrt(Math.pow(t-_,2)+Math.pow(e-E,2)):c<d?Math.sqrt(Math.pow(t-d,2)+Math.pow(e-p,2)):Math.sqrt(Math.pow(t-c,2)+Math.pow(e-h,2))}},{key:"getBlockDragRect",value:function(t,e,i){var n=function(t,e,i,n,a,r){return{x:t,y:e,w:i,h:n,c:a,i:r}},a=e.width*e.height>=0;return[n(t.offsetX-i/2,t.offsetY-i/2,i,i,a?"nwse-resize":"nesw-resize",0),n(t.offsetX+e.width/2-i/2,t.offsetY-i/2,i,i,"ns-resize",1),n(t.offsetX+e.width-i/2,t.offsetY-i/2,i,i,a?"nesw-resize":"nwse-resize",2),n(t.offsetX-i/2,t.offsetY+e.height/2-i/2,i,i,"ew-resize",3),n(t.offsetX+e.width-i/2,t.offsetY+e.height/2-i/2,i,i,"ew-resize",4),n(t.offsetX-i/2,t.offsetY+e.height-i/2,i,i,i,a?"nesw-resize":"nwse-resize"),n(t.offsetX+e.width/2-i/2,t.offsetY+e.height-i/2,i,i,"ns-resize",6),n(t.offsetX+e.width-i/2,t.offsetY+e.height-i/2,i,i,a?"nwse-resize":"nesw-resize",7)]}},{key:"getLineObjectDrag",value:function(t,e,i,n,a){var r=function(t,e,i,n,a,r){return{x:t,y:e,w:i,h:n,c:a,i:r}};return[r(t-a/2,e-a/2,a,a,"crosshair",0),r(i-a/2,n-a/2,a,a,"crosshair",0)]}},{key:"getRectObjectDrag",value:function(t,e,i,n,a){return this.getBlockDragRect({offsetX:t,offsetY:e},{width:i-t,height:n-e},a)}}]),e}(),Ii=function(){function e(){t(this,e)}return r(e,null,[{key:"isChineseWord",value:function(t){return new RegExp("[\\u4E00-\\u9FFF]+","g").test(t)}},{key:"isChineseSymbol",value:function(t){return new RegExp("[。；，：“”（）、？《》！【】￥]+","g").test(t)}},{key:"isSpecialSymbol",value:function(t){var e=[];return s.SYMBOL_SPECIAL.split(";").forEach((function(t){e=[].concat(C(e),C(t.split(",")))})),s.SYMBOL_MATH_UNIT.split(";").forEach((function(t){e=[].concat(C(e),C(t.split(",")))})),s.SYMBOL_MATH_NUM.split(";").forEach((function(t){e=[].concat(C(e),C(t.split(",")))})),s.SYMBOL_GR_LT.split(";").forEach((function(t){e=[].concat(C(e),C(t.split(",")))})),e.findIndex((function(e){return e==t.charCodeAt(0)+""}))>=0}},{key:"isNumberString",value:function(t){return/^[0-9]+$/.test(t)}},{key:"isEnglish",value:function(t){return/^[A-Za-z]+$/.test(t)}},{key:"isEmptyString",value:function(t){return!("string"==typeof t&&t.length>0)}},{key:"isFullWidthChar",value:function(t){return this.isChineseSymbol(t)||this.isChineseWord(t)||this.isSpecialSymbol(t)}}]),e}(),Di=function(){function e(){t(this,e)}return r(e,null,[{key:"getFieldInsertWidth",value:function(t,e,i){var n=[],a=0;t.forEach((function(t){var e=t.at(-1);0==e.property.row&&(n.push(e.property.preWidth),a+=e.property.preWidth)}));for(var r=a/(a+n[e]),o=a,s=0;s<n.length;s++)n[s]=parseInt(n[s]*r),o-=n[s];return n.splice(i,0,o),n}},{key:"getAdjoinCellBorder",value:function(t,e,i){return t.find((function(t){var n=t.getFieldIndex();return n.visible&&n.row-n.rowspan+1<=e&&n.row>=e&&n.col-n.colspan+1<=i&&n.col>=i}))}},{key:"getListLenValue",value:function(t,e,i){for(var n=0,a=e;a<=i;a++)n+=t[a];return n}},{key:"isFieldIndex",value:function(t,e,i){return t.row>=e&&t.row-t.rowspan<e&&t.col>=i&&t.col-t.colspan<i}},{key:"isFieldInsideIndex",value:function(t,e,i,n,a){return t.row-t.rowspan+1>=e&&t.row-t.rowspan+1<=n&&t.col-t.colspan+1>=i&&t.col-t.colspan+1<=a}},{key:"isFieldInside",value:function(t,e,i,n){return Math.abs(e)<=s.TABLE_FIELD_BORDER_SPAC?s.TABLE_BORDER_TOP:Math.abs(n-e)<=s.TABLE_FIELD_BORDER_SPAC?s.TABLE_BORDER_BOT:Math.abs(t)<=s.TABLE_FIELD_BORDER_SPAC?s.TABLE_BORDER_LEFT:Math.abs(i-t)<=s.TABLE_FIELD_BORDER_SPAC?s.TABLE_BORDER_RIGHT:s.TABLE_BORDER_INSIDE}}]),e}(),xi=function(){function e(){t(this,e)}return r(e,null,[{key:"capture",value:function(t,e,i,n){var a=!1,r=[];if(!(t instanceof Array))return r;if(e===i)return n&&r.push(e),r;for(var o=0;o<t.length;o++){var s=t[o];if(s===e&&(a=!0,r.push(s)),a){if(s===i){n&&r.push(s);break}r.push(s)}}return r}},{key:"splice",value:function(t,e,i){var n=[].concat(C(i));n.unshift(e,0),Array.prototype.splice.apply(t,n)}},{key:"remove",value:function(t,e){e.forEach((function(e){var i=t.findIndex((function(t){return t===e}));i>=0&&t.splice(i,1)}))}},{key:"findLastIndex",value:function(t,e,i){var n=t.length-1;Mi.isNotUndefined(i)&&(n=i);for(var a=n;a>=0;a--){var r=t[a];if(e(r))return r}}}]),e}(),Mi=function(){function e(){t(this,e)}return r(e,null,[{key:"isUndefined",value:function(t){return void 0===t}},{key:"isNotUndefined",value:function(t){return!this.isUndefined(t)}}]),e}(),Pi=function(){function e(){t(this,e)}return r(e,null,[{key:"h16ToInt",value:function(t){var e=[0,0,0];return t&&7==t.length&&(e[0]=parseInt(t.slice(1,3),16),e[1]=parseInt(t.slice(3,5),16),e[2]=parseInt(t.slice(5,7),16)),e}},{key:"intToH16",value:function(t){var e="#000000";if(t&&3==t.length){var i=t[0].toString(16).padStart(2,"0"),n=t[1].toString(16).padStart(2,"0"),a=t[2].toString(16).padStart(2,"0");e="#".concat(i).concat(n).concat(a)}return e}}]),e}(),Ni=function(){function i(){t(this,i)}return r(i,null,[{key:"isEmpty",value:function(t){return!this.isNotEmpty(t)}},{key:"isNotEmpty",value:function(t){return"string"==typeof t&&t.length>0}},{key:"isBlank",value:function(t){return!this.isNotBlank(t)}},{key:"isNotBlank",value:function(t){return!!(this.isNotEmpty(t)&&t.trim().length>0)}},{key:"template",value:function(t,e){return this.isBlank(t)?"":(Mi.isUndefined(e)&&(e={}),t.replace(/{(.*?)}/g,(function(t,i){return void 0!==e[i]?e[i]:""})))}},{key:"getUUID",value:function(){if("object"===("undefined"==typeof crypto?"undefined":e(crypto))){if("function"==typeof crypto.randomUUID)return crypto.randomUUID();if("function"==typeof crypto.getRandomValues&&"function"==typeof Uint8Array)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){var e=Number(t);return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}var t=(new Date).getTime(),i="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=16*Math.random();return t>0?(n=(t+n)%16|0,t=Math.floor(t/16)):(n=(i+n)%16|0,i=Math.floor(i/16)),("x"===e?n:3&n|8).toString(16)}))}},{key:"replaceVariables",value:function(t,e){return t.replace(/\{(\w+)\}/g,(function(t,i){return void 0!==e[i]?e[i]:t}))}}]),i}(),Bi=function(){function e(){t(this,e)}return r(e,null,[{key:"zip",value:function(t){for(var e=(new TextEncoder).encode(t),i=Ai.gzip(e),n="",a=0;a<i.length;a++)n+=String.fromCharCode(i[a]);return btoa(n)}},{key:"unzip",value:function(t){for(var e=atob(t),i=e.length,n=new Uint8Array(i),a=0;a<i;a++)n[a]=e.charCodeAt(a);var r=Ai.inflate(n);return(new TextDecoder).decode(r)}}]),e}(),Fi=i(6129),Wi=i.n(Fi),Ui=i(7583);function Xi(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),function(t,e){if(void 0===t)throw new TypeError("attempted to get private static field before its declaration")}(i),function(t,e){return e.get?e.get.call(t):e.value}(t,i)}var Hi=function(){function e(){t(this,e)}return r(e,null,[{key:"storeImage",value:function(t){Xi(this,e,Yi).set(t.uuid,t.view)}},{key:"getImage",value:function(t){return Xi(this,e,Yi).get(t)}}]),e}(),Yi={writable:!0,value:new Map};function ji(t,e,i,n){return Ki(t,e),zi(i,"set"),function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,i,n),n}function Vi(t,e,i){return Ki(t,e),zi(i,"get"),function(t,e){return e.get?e.get.call(t):e.value}(t,i)}function zi(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}function Gi(t,e,i){return Ki(t,e),i}function Ki(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}var Zi=function(){function e(){t(this,e)}return r(e,null,[{key:"setConfig",value:function(t){Gi(this,e,Ji).call(this,t),Gi(this,e,$i).call(this)}},{key:"setControl",value:function(t){Gi(this,e,qi).call(this,t)}},{key:"synchroData",value:function(t){Vi(this,e,ln).synchroData(t)}},{key:"synchroPageInfo",value:function(t,i,n){Vi(this,e,ln).synchroPageInfo(t,i,n)}},{key:"synchroStack",value:function(t,i){Vi(this,e,ln).synchroStack(t,i)}},{key:"synchroStyle",value:function(t,i){Vi(this,e,ln).synchroStyle(t,i)}},{key:"showContextMenu",value:function(t){Vi(this,e,ln).showContextMenu(t)}},{key:"showMessage",value:function(t,i,n){Vi(this,e,ln).showMessage(t,i,n)}},{key:"showPopMenu",value:function(t){Vi(this,e,ln).showPopMenu(t)}},{key:"showMask",value:function(t,i){return Vi(this,e,ln).showMask(t,i)}},{key:"getAppDom",value:function(){return Vi(this,e,ln).domid}},{key:"getComments",value:function(){return Vi(this,e,ln).commentsid}},{key:"getAppScroll",value:function(){return Vi(this,e,ln).scrollid}},{key:"getCommentsModel",value:function(){return Vi(this,e,sn)}},{key:"isShowComments",value:function(){return!0}},{key:"isPrint",value:function(){return Vi(this,e,on)}},{key:"isDesign",value:function(){return Vi(this,e,Qi)}},{key:"isEdit",value:function(){return Vi(this,e,tn)}},{key:"isModify",value:function(){return Vi(this,e,nn)}},{key:"isNote",value:function(){return Vi(this,e,an)}},{key:"isCopy",value:function(){return Vi(this,e,rn)}},{key:"isCommit",value:function(){return Vi(this,e,en)}},{key:"isFocussable",value:function(){return Vi(this,e,Qi)||Vi(this,e,tn)||Vi(this,e,nn)||Vi(this,e,an)||Vi(this,e,rn)}},{key:"setCommentsModal",value:function(t){ji(this,e,sn,t)}},{key:"getConfig",value:function(){return Vi(this,e,cn)}},{key:"saveAction",value:function(t){Vi(this,e,cn).saveAction(t)}},{key:"deleteCommentsAction",value:function(t,i){return Vi(this,e,cn).deleteCommentsAction(t,i)}},{key:"commitRevisionAction",value:function(t,i){Vi(this,e,cn).commitRevisionAction(t,Vi(this,e,cn).useraccount,i)}},{key:"commitVersionAction",value:function(t,i){Vi(this,e,cn).commitVersionAction(t,Vi(this,e,cn).useraccount,i)}},{key:"saveSignatureAction",value:function(t){Vi(this,e,cn).saveSignatureAction(t,Vi(this,e,cn).useraccount)}}]),e}();function Ji(t){Object.assign(Vi(this,Zi,cn),t)}function qi(t){Object.assign(Vi(this,Zi,ln),t)}function $i(){switch(Vi(this,Zi,cn).modal){case s.CONF_MODAL_DES:ji(this,Zi,Qi,!0),ji(this,Zi,tn,!0),ji(this,Zi,nn,!1),ji(this,Zi,an,!1),ji(this,Zi,rn,!0),ji(this,Zi,on,!0),ji(this,Zi,en,!1),ji(this,Zi,sn,s.COMMENTS_SHOW_UN);break;case s.CONF_MODAL_EDT:ji(this,Zi,Qi,!1),ji(this,Zi,tn,!0),ji(this,Zi,nn,!1),ji(this,Zi,an,!1),ji(this,Zi,rn,!0),ji(this,Zi,on,!0),ji(this,Zi,en,!0),ji(this,Zi,sn,s.COMMENTS_SHOW_UN);break;case s.CONF_MODAL_REV:ji(this,Zi,Qi,!1),ji(this,Zi,tn,!1),ji(this,Zi,nn,!0),ji(this,Zi,an,!0),ji(this,Zi,rn,!0),ji(this,Zi,on,!0),ji(this,Zi,en,!1),ji(this,Zi,sn,s.COMMENTS_SHOW_UN);break;case s.CONF_MODAL_RED:ji(this,Zi,Qi,!1),ji(this,Zi,tn,!1),ji(this,Zi,nn,!1),ji(this,Zi,an,!1),ji(this,Zi,rn,!0),ji(this,Zi,on,!0),ji(this,Zi,en,!1),ji(this,Zi,sn,s.COMMENTS_HIDE);break;case s.CONF_MODAL_PEV:ji(this,Zi,Qi,!1),ji(this,Zi,tn,!1),ji(this,Zi,nn,!1),ji(this,Zi,an,!1),ji(this,Zi,rn,!1),ji(this,Zi,on,!1),ji(this,Zi,en,!1),ji(this,Zi,sn,s.COMMENTS_HIDE);break;default:ji(this,Zi,Qi,!0),ji(this,Zi,tn,!0),ji(this,Zi,nn,!1),ji(this,Zi,an,!0),ji(this,Zi,rn,!0),ji(this,Zi,on,!0),ji(this,Zi,en,!0),ji(this,Zi,sn,s.COMMENTS_SHOW_UN)}}var Qi={writable:!0,value:!0},tn={writable:!0,value:!0},en={writable:!0,value:!0},nn={writable:!0,value:!0},an={writable:!0,value:!0},rn={writable:!0,value:!0},on={writable:!0,value:!0},sn={writable:!0,value:0},ln={writable:!0,value:{domid:void 0,commentsid:void 0,scrollid:void 0,synchroData:function(){},synchroStyle:function(){},synchroStack:function(){},synchroPageInfo:function(){},showMask:function(){},showMessage:function(){},showContextMenu:function(){},showPopMenu:function(){}}},cn={writable:!0,value:{license:"",licensee:"",loglevel:1,username:void 0,useraccount:void 0,modal:s.CONF_MODAL_DEF,headerDivider:!0,footerDivider:!0,exportQuality:.5,multTextBDColor:"#ff0000",multTextBDWidth:"5",multTextBDHeight:"1.2",compTextBGColor:"#e9e9e9",signaturePath:"",saveAction:function(){},commitVersionAction:function(){},commitRevisionAction:function(){},saveSignatureAction:function(){},deleteCommentsAction:function(){return!0}}},hn=function(){function e(){t(this,e)}return r(e,null,[{key:"debug",value:function(t){this.DEBUG>=Zi.getConfig().loglevel&&console.debug(t)}},{key:"info",value:function(t){this.INFO>=Zi.getConfig().loglevel&&console.info(t)}},{key:"warn",value:function(t){this.WARN>=Zi.getConfig().loglevel&&console.warn(t)}},{key:"error",value:function(t,e){this.ERROR>=Zi.getConfig().loglevel&&console.error(t,e)}}]),e}();function un(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),i}o(hn,"DEBUG",1),o(hn,"INFO",2),o(hn,"WARN",3),o(hn,"ERROR",4);var fn=function(){function e(){t(this,e)}return r(e,null,[{key:"defaultTextStyle",value:function(){return{font:s.getDefaultFontFamily().value,size:s.getDefaultFontSize().value,color:s.getDefaultFontColor(),bold:!1,italic:!1,underline:!1,strikethrough:!1,script:s.SCRIPT_NOR}}},{key:"defaultParagStyle",value:function(){return{align:s.ALIGN_BOTH,indentLeft:0,indentRight:0,indentSpecialType:s.INDENT_TYPE_NULL,indentSpecialvalue:0,rowspac:1,segmentSpacPre:0,segmentSpacAft:0}}},{key:"defaultProperty",value:function(){return{code:"",type:"",classify:"",imageBlock:!1,visible:!0,placeholder:!1}}},{key:"defaultDimension",value:function(){return{depth:0}}},{key:"defaultModular",value:function(){return{type:this.MODULAR_TYPE_NORM,dataID:"",dataClass:"",dataValue:"",comments:[],revision:s.REVISION_DEF}}},{key:"defaultDatePickerPro",value:function(){return Object.assign(un(this,e,dn).call(this),{cls:e.COMP_CLASS_DATEPICKER,format:"yyyy年MM月dd日",value:(new Date).getTime()})}},{key:"defaultTextBoxPro",value:function(){return Object.assign(un(this,e,dn).call(this),{cls:e.COMP_CLASS_TEXTBOX,placeholder:"文本框",border:!0,value:""})}},{key:"defaultCheckboxPro",value:function(){return Object.assign(un(this,e,dn).call(this),{cls:e.COMP_CLASS_CHECKBOX,label:"多选框",value:0})}},{key:"defaultRadioGroupPro",value:function(){return Object.assign(un(this,e,dn).call(this),{cls:e.COMP_CLASS_RADIOGROUP,options:[{code:"0",text:"选项一"},{code:"1",text:"选项二"},{code:"2",text:"选项三"}],value:"0"})}},{key:"defaultTextFieldPro",value:function(){return Object.assign(un(this,e,dn).call(this),{cls:e.COMP_CLASS_TEXTFIELD,placeholder:"文本域",editable:!1,value:void 0,underline:!1})}},{key:"defaultMultTextFieldPro",value:function(){return Object.assign(un(this,e,dn).call(this),{cls:e.COMP_CLASS_MULTIPLETEXTFIELD,placeholder:"多行文本域",value:void 0,underline:!1})}},{key:"defaultSingleFieldPro",value:function(){return Object.assign(un(this,e,dn).call(this),{cls:e.COMP_CLASS_SINGLEFIELD,filter:!1,placeholder:"单选选择域",datasource:"",rows:4,value:void 0,options:[]})}},{key:"defaultMultipleFieldPro",value:function(){return Object.assign(un(this,e,dn).call(this),{cls:e.COMP_CLASS_MULTIPLEFIELD,filter:!1,placeholder:"多选选择域",separator:"、",datasource:"",rows:4,value:[],options:[]})}},{key:"createTextChar",value:function(t,i,n,a,r){var o={code:t,type:this.TYPE_TEXT,classify:this.CLS_TEXT_CHAR},s=this.findDimension(n,a._count);return un(this,e,En).call(this,o,i,s,r)}},{key:"createTextTab",value:function(t,i,n,a){var r={type:this.TYPE_TEXT,classify:this.CLS_TEXT_TAB},o=this.findDimension(i,n._count);return un(this,e,En).call(this,r,t,o,a)}},{key:"createImage",value:function(t,i,n,a,r,o,s){var l=this.findDimension(r,o._count);return un(this,e,vn).call(this,t,i,n,a,l,s)}},{key:"createLineFeel",value:function(t,i,n,a,r){var o=this.findDimension(n,a._count),s={type:this.TYPE_STRUCT,classify:this.CLS_LINE};return un(this,e,gn).call(this,s,t,i,o,r)}},{key:"createDivder",value:function(t,i,n,a,r,o){var s=this.findDimension(a,r._count),l={type:this.TYPE_STRUCT,classify:this.CLS_DIVDER,divderType:t};return un(this,e,gn).call(this,l,i,n,s,o)}},{key:"createDocumentEnd",value:function(t,i,n){var a={type:this.TYPE_STRUCT,classify:this.CLS_END};return un(this,e,gn).call(this,a,t,i)}},{key:"createTableCell",value:function(t,i,n,a,r,o){var l=s.TABLE_FIELD_PADDING_H,c=s.TABLE_FIELD_PADDING_V,h=s.TABLE_FIELD_BORDER_WIDTH,u=s.TABLE_FIELD_BORDER_COLOR,f={type:this.TYPE_STRUCT,classify:this.CLS_CELL,visible:!0,row:t.row,col:t.col,colspan:1,rowspan:1,width:t.width,height:0,preWidth:t.width,preHeight:0,indentLeft:0,indentRight:0,padding:[c,l,c,l],border:[{width:h,style:0,color:u,visible:!0},{width:h,style:0,color:u,visible:!0},{width:h,style:0,color:u,visible:!0},{width:h,style:0,color:u,visible:!0}],borderHide:!1},d=this.findDimension(a,r._count);return un(this,e,gn).call(this,f,i,n,d,o)}},{key:"createShape",value:function(t){var i={type:this.TYPE_OBJECT,classify:t,relativeText:s.RELATIVE_UP,lineColor:s.COLOR_DEFAULT_LINE,lineType:s.LINE_SOLID,lineWidth:s.WIDTH_LINE_DEFUALT,lineOpacity:1};return un(this,e,pn).call(this,i,{x1:void 0,y1:void 0,x2:void 0,y2:void 0})}},{key:"createImageCache",value:function(t,e){var i=new Image;i.src=t,i.onload=function(){e(i)}}},{key:"createGraphicCache",value:function(t,e,i){var n=this;if(t==this.IAMGE_TYPE_BARCODE){var a=new Image;Wi()(a,e),a.onload=function(){i(a)}}else t==this.IAMGE_TYPE_QRCODE&&Ui.toDataURL(e).then((function(t){n.createImageCache(t,i)})).catch((function(t){hn.error(t)}))}},{key:"createComponent",value:function(t,i,n,a,r){switch(this.getResourceCompInfo(t,i).property.cls){case this.COMP_CLASS_DATEPICKER:return un(this,e,Cn).call(this,t,i,n,a,r);case this.COMP_CLASS_CHECKBOX:return un(this,e,yn).call(this,t,i,n,a,r);case this.COMP_CLASS_RADIOGROUP:return un(this,e,Sn).call(this,t,i,n,a,r);case this.COMP_CLASS_TEXTBOX:return un(this,e,Ln).call(this,t,i,n,a,r);case this.COMP_CLASS_SINGLEFIELD:return un(this,e,Tn).call(this,t,i,n,a,r);case this.COMP_CLASS_MULTIPLEFIELD:return un(this,e,bn).call(this,t,i,n,a,r);case this.COMP_CLASS_TEXTFIELD:return un(this,e,wn).call(this,t,i,n,a,r);case this.COMP_CLASS_MULTIPLETEXTFIELD:return un(this,e,mn).call(this,t,i,n,a,r)}}},{key:"createExpression",value:function(t,i,n,a){var r={code:"",type:this.TYPE_TEXT,classify:this.CLS_EXPRE},o=this.findDimension(n,a._count);return un(this,e,En).call(this,r,i,o,{},t)}},{key:"findElementIndex",value:function(t,e){return t.findIndex((function(t){return t===e}))}},{key:"findPreElement",value:function(t,e){var i=this.findElementIndex(t,e);return i>0?t[i-1]:void 0}},{key:"findNextElement",value:function(t,e){var i=this.findElementIndex(t,e);return i>=0?t[i+1]:void 0}},{key:"findElementText",value:function(t,i,n){if(n<t.length)for(var a=i.split(""),r=n;r<t.length;r++){var o=un(this,e,In).call(this,t,r,a);if(o.find)return o}}},{key:"findElementStyle",value:function(t,e){var i=this,n={},a=t.findIndex((function(t){return t===e}));n.textStyle=Object.assign({},e.textStyle);var r=t.find((function(t,e){return e>=a&&t.property.type==i.TYPE_STRUCT}));return n.paragStyle=Object.assign({},r.paragStyle),n}},{key:"findDimension",value:function(t,e){for(;e<t.length;e++){var i=t[e];if(i.property.type===this.TYPE_STRUCT){var n=Object.assign({},i.dimension);return i.property.classify!=this.CLS_CELL&&i.property.classify!=this.CLS_END||(n.depth+=1),n}}}},{key:"insertElement",value:function(t,e,i){var n=t.findIndex((function(t){return t===e}));t.splice(n,0,i)}},{key:"insertCompInfo",value:function(t,e,i,n){t.resources.component.push({id:i,part:e,property:n})}},{key:"insertElements",value:function(t,e,i){var n=t.findIndex((function(t){return t===e}));xi.splice(t,n,i)}},{key:"insertComments",value:function(t,e,i){var n=Ni.getUUID(),a={id:n,username:Zi.getConfig().username,useraccount:Zi.getConfig().useraccount,date:(new Date).getTime(),state:0,text:i};t.resources.comments.push(a),e.forEach((function(t){t.modular.comments.push(n)}))}},{key:"insertPlaceholder",value:function(t,i){var n=this,a=un(this,e,Bn).call(this,t,i),r=[this.COMP_CLASS_TEXTBOX,this.COMP_CLASS_MULTIPLETEXTFIELD];t.resources.component.forEach((function(t){if(r.includes(t.property.cls)){var i=n.getElementCompsById(a,t.id);if(i.length>0&&2==i.length){var o=un(n,e,On).call(n,void 0,t.property.placeholder,i[0].textStyle,i[0].dimension,i[0].modular);n.insertElements(a,i[1],o)}}}))}},{key:"pasteElements",value:function(t,i,n,a){var r=this,o=un(this,e,Bn).call(this,t,i),s=t.resources.component;a.component.forEach((function(t){var e=t.id;t.id=Ni.getUUID(),t.part=i;var n=!1,o=0;a.elements.forEach((function(i){i.modular.type==r.MODULAR_TYPE_COMP&&i.modular.dataID==e&&(n=!0,i.modular.dataID=t.id,t.cls==r.COMP_CLASS_TEXTBOX&&i.property.classify==r.CLS_TEXTBOX_BORDER&&o++)})),n&&(t.property.cls==r.COMP_CLASS_TEXTBOX&&o<2?a.elements.forEach((function(e){e.modular.type==r.MODULAR_TYPE_COMP&&e.modular.dataID==t.id&&(e.modular.type=r.MODULAR_TYPE_NORM,e.modular.dataClass=void 0,e.modular.dataID=void 0)})):s.push(t))}));var l=this.findDimension(o,n._count),c=void 0;if(a.elements.forEach((function(t){t.property.type==r.TYPE_STRUCT&&(c=Math.min(c,t.dimension.depth))})),c){var h=l.depth-c;a.elements.forEach((function(t){t.property.type==r.TYPE_STRUCT&&(t.dimension.depth+=h)}))}a.elements.forEach((function(t){t.modular.comments=[],t.property.type==r.TYPE_STRUCT?(t.property.classify==r.CLS_LINE||t.property.classify==r.CLS_CELL)&&r.insertElement(o,n,t):r.insertElement(o,n,t)}))}},{key:"deleteElement",value:function(t,i){var n=this,a=t[i];if(a.modular.type==this.MODULAR_TYPE_COMP){var r=[this.COMP_CLASS_DATEPICKER,this.COMP_CLASS_RADIOGROUP,this.COMP_CLASS_CHECKBOX,this.COMP_CLASS_TEXTFIELD,this.COMP_CLASS_SINGLEFIELD,this.COMP_CLASS_MULTIPLEFIELD],o=[this.CLS_TEXTBOX_BORDER,this.CLS_TEXTBOX_BORDER_M];if(r.includes(a.modular.dataClass)){var s=un(this,e,xn).call(this,t,a);return s.forEach((function(i){return un(n,e,An).call(n,t,i)})),s}if(o.includes(a.property.classify)){var l=un(this,e,xn).call(this,t,a);return l.forEach((function(i){return un(n,e,An).call(n,t,i)})),l}return un(this,e,An).call(this,t,a),[a]}return[this.CLS_END,this.CLS_CELL].includes(a.property.classify)?[]:(un(this,e,An).call(this,t,a),[a])}},{key:"deleteElements",value:function(t,i){var n=this;i.forEach((function(i){[n.CLS_END,n.CLS_CELL].includes(i.property.classify)||un(n,e,An).call(n,t,i)}))}},{key:"deleteObject",value:function(t,e){var i=t.resources.objects.above.findIndex((function(t){return e===t}));return i>=0?(t.resources.objects.above.splice(i,1),e):(i=t.resources.objects.below.findIndex((function(t){return e===t})))>=0?(t.resources.objects.below.splice(i,1),e):void 0}},{key:"changeCompInfo",value:function(t,i,n){var a=t.resources.component.find((function(t){return t.id==n.id}));if(a.part=i,a.property.cls==this.COMP_CLASS_TEXTBOX){var r=un(this,e,Bn).call(this,t,i),o=un(this,e,Mn).call(this,r,n.id);Object.assign(a.property,n.property,{value:o})}else Object.assign(a.property,n.property)}},{key:"compatibility",value:function(t){var e=this;t.forEach((function(t){t.modular=Object.assign(e.defaultModular(),t.modular)}))}},{key:"changeExpressionInfo",value:function(t,e){var i=this,n=t.find((function(t){return t.property.classify==i.CLS_EXPRE&&t.extend.id==e.id}));n&&Object.assign(n.extend,e)}},{key:"compVerify",value:function(t){for(var i=t.resources.component,n=i.length-1;n>=0;n--){var a=un(this,e,Bn).call(this,t,i[n].part);0!=this.getElementCompsById(a,i[n].id).length||i.splice(n,1)}return this.getResourceCompValues(t).filter((function(t){return t.required&&Mi.isUndefined(t.value)}))}},{key:"commentsVerify",value:function(t){for(var i=t.resources.comments,n=un(this,e,Bn).call(this,t,s.CONTENT_PART_BODY),a=0;a<i.length;a++){var r=i[a];0!=this.getElementCommentById(n,r.id).length||comps.splice(a,1)}return i.filter((function(t){return t.state==s.COMMENTS_STATE_UN}))}},{key:"revisionVerify",value:function(t){return un(this,e,Pn).call(this,t).length}},{key:"revisionLocation",value:function(t,i){for(var n=un(this,e,Pn).call(this,t),a=0;a<n.length;a++)if(n[a].findIndex((function(t){return i===t}))>=0)return n[a]}},{key:"prevRevision",value:function(t,e){for(var i=this.findElementIndex(t,e),n=e.modular.revision==s.REVISION_DEF,a=i-1;a>=0;a--){var r=t[a];if(n){if(r.modular.revision!=s.REVISION_DEF)return r}else r.modular.revision==s.REVISION_DEF&&(n=!0)}}},{key:"nextRevision",value:function(t,e){for(var i=this.findElementIndex(t,e),n=e.modular.revision==s.REVISION_DEF,a=i+1;a<t.length;a++){var r=t[a];if(n){if(r.modular.revision!=s.REVISION_DEF)return r}else r.modular.revision==s.REVISION_DEF&&(n=!0)}}},{key:"processRevision",value:function(t,i,n){if(this.isRevision(i)){var a=this.revisionLocation(t,i);if(i.modular.revision==s.REVISION_INS&&n||i.modular.revision==s.REVISION_DEL&&!n)a.forEach((function(t){t.modular.revision=s.REVISION_DEF}));else if(i.modular.revision==s.REVISION_INS&&!n||i.modular.revision==s.REVISION_DEL&&n){var r=un(this,e,Bn).call(this,t,s.CONTENT_PART_BODY);un(this,e,Rn).call(this,r,a)}return!0}return!1}},{key:"cleanComments",value:function(t){t.resources.comments=[],un(this,e,Bn).call(this,t,s.CONTENT_PART_HEADER).forEach((function(t){t.modular.comments=[]})),un(this,e,Bn).call(this,t,s.CONTENT_PART_BODY).forEach((function(t){t.modular.comments=[]})),un(this,e,Bn).call(this,t,s.CONTENT_PART_FOOTER).forEach((function(t){t.modular.comments=[]}))}},{key:"tableMerge",value:function(t,i){var n=this,a=[],r=[];i.fields.forEach((function(o){var s=o.at(-1);s.property.row<=i.maxrow&&s.property.row>=i.minrow&&s.property.col<=i.maxcol&&s.property.col>=i.mincol&&(un(n,e,kn).call(n,t,o,a),r.push(s))})),r.at(-1).property.visible=!0,r.at(-1).property.rowspan=i.maxrow-i.minrow+1,r.at(-1).property.colspan=i.maxcol-i.mincol+1,this.insertElements(t,r.at(-1),a)}},{key:"tableDeleteRow",value:function(t,e,i,n){this.tableDeleteCell(t,e,i,n,"row")}},{key:"tableDeleteCol",value:function(t,e,i,n){this.tableDeleteCell(t,e,i,n,"col")}},{key:"tableDeleteCell",value:function(t,i,n,a,r){var o=this,s=[],l=[],c="col"==r?"colspan":"rowspan";i.forEach((function(t){var e=t.at(-1).property[r],i=t.at(-1).property[c];1==i?e>=n&&e<=a?s.push(t):e>=a&&(t.at(-1).property[r]-=a-n+1):e-i+1<n&&e>=n?(t.at(-1).property[r]-=e-n+1,t.at(-1).property[c]-=e-n+1,l.push(t)):e-i+1<n&&e>a?(t.at(-1).property[r]-=a-n+1,t.at(-1).property[c]-=a-n+1):e-i+1>=n&&e<=a?s.push(t):e-i+1<=a&&e>a?(t.at(-1).property[r]-=a-(e-i+1)+1,t.at(-1).property[c]-=a-(e-i+1)+1):e>a&&(t.at(-1).property[r]-=a-n+1)}));var h=this.findNextElement(t,s.at(-1).at(-1));return l.forEach((function(t){var e=i.find((function(e){return e.at(-1).property.row==t.at(-1).property.row&&e.at(-1).property.col==t.at(-1).property.col}));e&&s.push(e)})),s.forEach((function(i){un(o,e,Rn).call(o,t,i)})),h}},{key:"tableDelete",value:function(t,i,n){var a=this;i.forEach((function(i){un(a,e,An).call(a,t,i)}))}},{key:"tableInsertRowAbove",value:function(t,i,n){var a=this,r=[],o=void 0;n.forEach((function(t){var n=t.at(-1);if(n.property.row==i){o||(o=t.at(0));var s=JSON.parse(JSON.stringify(n.property));s.rowspan=1,s.colspan=1,s.visible=!0;var l=un(a,e,gn).call(a,s,n.textStyle,n.paragStyle,n.dimension);r.push(l)}})),r.forEach((function(t){var e=n.find((function(e){var i=e.at(-1);return i.property.visible&&i.property.row-i.property.rowspan+1==t.property.row&&i.property.col==t.property.col}));if(e){var i=e.at(-1);t.property.colspan=i.property.colspan}else t.property.visible=!1})),n.forEach((function(t){var e=t.at(-1);e.property.row-e.property.rowspan+1>=i?e.property.row+=1:e.property.row-e.property.rowspan+1<i&&e.property.row>=i&&(e.property.row+=1,e.property.rowspan+=1)})),this.insertElements(t,o,r)}},{key:"tableInsertRowBelow",value:function(t,i,n){var a=this,r=[],o=void 0;n.forEach((function(t){var n=t.at(-1);if(n.property.row==i){o=t.at(-1);var s=JSON.parse(JSON.stringify(n.property));s.row+=1,s.rowspan=1;var l=un(a,e,gn).call(a,s,n.textStyle,n.paragStyle,n.dimension);r.push(l)}else n.property.row>i&&(n.property.row-n.property.rowspan+1<=i&&(n.property.rowspan+=1),n.property.row+=1)}));var s=this.findNextElement(t,o);this.insertElements(t,s,r)}},{key:"tableInsertColLeft",value:function(t,i,n){var a=this,r=Di.getFieldInsertWidth(n,i,i),o=[];n.forEach((function(t){var n=t.at(-1);if(n.property.col==i){var r=JSON.parse(JSON.stringify(n.property));r.rowspan=1,r.colspan=1,r.visible=!0;var s=un(a,e,gn).call(a,r,n.textStyle,n.paragStyle,n.dimension);o.push(s)}})),o.forEach((function(t){var e=n.find((function(e){var i=e.at(-1);return i.property.visible&&i.property.col-i.property.colspan+1==t.property.col&&i.property.row==t.property.row}));if(e){var i=e.at(-1);t.property.rowspan=i.property.rowspan}else t.property.visible=!1})),n.forEach((function(t){var e=t.at(-1);e.property.col-e.property.colspan+1>=i?e.property.col+=1:e.property.row-e.property.colspan+1<i&&e.property.col>=i&&(e.property.col+=1,e.property.colspan+=1),e.property.preWidth=r[e.property.col]})),o.forEach((function(e){e.property.preWidth=r[e.property.col];var i=n.find((function(t){return t.at(-1).property.row==e.property.row&&t.at(-1).property.col==e.property.col+1}));a.insertElement(t,i[0],e)}))}},{key:"tableInsertColRight",value:function(t,i,n){var a=this,r=Di.getFieldInsertWidth(n,i,i+1);n.forEach((function(n){var o=n.at(-1);if(o.property.col==i){var s=n.at(-1),l=JSON.parse(JSON.stringify(o.property));l.colspan=1,l.col+=1,l.preWidth=r[i+1],l.width=r[i+1];var c=un(a,e,gn).call(a,l,o.textStyle,o.paragStyle,o.dimension),h=a.findNextElement(t,s);a.insertElement(t,h,c)}else o.property.col>i&&(o.property.col-o.property.colspan+1<=i&&(o.property.colspan+=1),o.property.col+=1);o.property.preWidth=r[o.property.col],o.property.width=r[o.property.col]}))}},{key:"tableSplitRowspan",value:function(t,e){var i=t.at(-1).property.rowspan,n=t.at(-1).property.colspan,a=t.at(-1).property.row,r=t.at(-1).property.col,o=[];t.at(-1).property.rowspan=1;for(var s=function(t){var i=e.find((function(e){return e.at(-1).property.row==a-t&&e.at(-1).property.col==r}));i.at(-1).property.visible=!0,i.at(-1).property.colspan=n,o.push(i)},l=1;l<i;l++)s(l);return o.push(t),o}},{key:"tableSplitRow",value:function(t,i,n,a){for(var r=this,o=i.at(-1).property.row,s=i.at(-1).property.col,l=[],c=function(t){n.forEach((function(i){var n=i.at(-1).property;if(n.row==o){var a=JSON.parse(JSON.stringify(i.at(-1).property));a.rowspan=1,a.row=o+t,a.visible=n.col==s,l.push(un(r,e,gn).call(r,a,i.at(-1).textStyle,i.at(-1).paragStyle,i.at(-1).dimension))}}))},h=0;h<a-1;h++)c(h);var u=void 0,f=void 0;n.forEach((function(t,e){var i=t.at(-1).property;i.row==o&&(u||(u=t.at(0),f=e)),i.visible&&i.col!=s&&i.row>=o&&i.row-i.rowspan+1<=o&&(i.rowspan+=a-1),i.row>=o&&(i.row+=a-1)})),this.insertElements(t,u,l),xi.splice(n,f,l.map((function(t){return[t]})));var d=[];return l.forEach((function(t){t.property.col==s&&d.push([t])})),d.push(i),d}},{key:"tableSplitColspan",value:function(t,e){t.forEach((function(t){for(var i=t.at(-1).property.row,n=t.at(-1).property.col,a=t.at(-1).property.colspan,r=function(a){var r=e.find((function(t){return t.at(-1).property.col==n-a&&t.at(-1).property.row==i}));r.at(-1).property.visible=!0,r.at(-1).property.colspan=1,r.at(-1).property.rowspan=t.at(-1).property.rowspan},o=1;o<a;o++)r(o);t.at(-1).property.colspan=1}))}},{key:"tableSplitCol",value:function(t,i,n,a,r,o){var s=this,l=i.map((function(t){return t.at(-1).property.row}));n.forEach((function(i){var n=i.at(-1).property.colspan,c=i.at(-1).property.rowspan,h=i.at(-1).property.col,u=i.at(-1).property.row,f=l.findIndex((function(t){return t==u}));if(h==o){i.at(-1).property.preWidth=r[a-1],i.at(-1).property.width=r[a-1];for(var d=0;d<a-1;d++){var p=JSON.parse(JSON.stringify(i.at(-1).property));p.col=h+d,p.rowspan=c,p.preWidth=r[d],p.width=r[d],p.visible=f>=0,s.insertElement(t,i.at(0),un(s,e,gn).call(s,p,i.at(-1).textStyle,i.at(-1).paragStyle,i.at(-1).dimension))}}f<0&&h>=o&&h-n+1<=o&&(i.at(-1).property.colspan+=a-1),h>=o&&(i.at(-1).property.col+=a-1)}))}},{key:"isImageBlock",value:function(t){var e=[this.CLS_IMAGE,this.CLS_GAHCODE];return t&&e.includes(t.property.classify)}},{key:"isLineObject",value:function(t){var e=[this.OBJECT_SHAPE_LINE];return t&&t.property.type==this.TYPE_OBJECT&&e.includes(t.property.classify)}},{key:"isRectObject",value:function(t){var e=[this.OBJECT_SHAPE_RECT,this.OBJECT_SHAPE_ELLIPSE,this.OBJECT_SHAPE_TRIANGLE];return t&&t.property.type==this.TYPE_OBJECT&&e.includes(t.property.classify)}},{key:"isRevision",value:function(t){return t.modular.revision!=s.REVISION_DEF}},{key:"isTextbox",value:function(t){return[this.COMP_CLASS_TEXTBOX,this.COMP_CLASS_MULTIPLETEXTFIELD].includes(t.modular.dataClass)}},{key:"isInsideTextbox",value:function(t,e){return!![this.COMP_CLASS_TEXTBOX,this.COMP_CLASS_MULTIPLETEXTFIELD].includes(e.modular.dataClass)&&this.getElementCompsById(t,e.modular.dataID).findIndex((function(t){return t===e}))>0}},{key:"isTextboxElements",value:function(t){var e=this,i=[this.COMP_CLASS_TEXTBOX,this.COMP_CLASS_MULTIPLETEXTFIELD],n=[this.CLS_TEXTBOX_BORDER,this.CLS_TEXTBOX_BORDER_M];return i.includes(t[0].modular.dataClass)&&t.findIndex((function(i){return!e.isSameComonent(t[0],i)}))<0&&0==t.filter((function(t){return n.includes(t.property.classify)}))}},{key:"isHideCell",value:function(t){return t.property.type==this.TYPE_STRUCT&&t.property.classify==this.CLS_CELL&&!t.property.visible}},{key:"isSameComonent",value:function(t,e){return t.modular.type==this.MODULAR_TYPE_COMP&&e.modular.type==this.MODULAR_TYPE_COMP&&t.modular.dataClass==e.modular.dataClass&&t.modular.dataID==e.modular.dataID}},{key:"getElementOperate",value:function(t,i,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.REVISION_DEF,r=i.findIndex((function(t){return t===n})),o=!0,l=[];if(r>0){var c=this.getResourceCompInfo(t,i.at(r-1).modular.dataID);c&&(o=c.property.deletable);var h=i[r-1].modular.comments,u=n.modular.comments;l=un(this,e,Dn).call(this,h,u)}else o=!1;var f={cursor:!0,insert:!0,insertDivder:!0,insertTable:!0,insertLineFeel:!0,insertComp:!0,deleteText:!0,backspaceText:!0,deleteSelects:!0,modular:Object.assign(this.defaultModular(),{comments:l,revision:a})};if(n.modular.type!=this.MODULAR_TYPE_COMP)return Object.assign(f,{backspaceText:o});var d=this.getResourceCompInfo(t,n.modular.dataID),p=un(this,e,xn).call(this,i,n),v=p.findIndex((function(t){return t===n})),_=[this.COMP_CLASS_DATEPICKER,this.COMP_CLASS_CHECKBOX,this.COMP_CLASS_RADIOGROUP,this.COMP_CLASS_TEXTFIELD,this.COMP_CLASS_SINGLEFIELD,this.COMP_CLASS_MULTIPLEFIELD],E=[this.COMP_CLASS_TEXTBOX,this.COMP_CLASS_MULTIPLETEXTFIELD];if(_.includes(n.modular.dataClass)){var g={insert:0==v,deleteText:0==v&&d.deletable,backspaceText:0==v&&o};return Object.assign(f,g)}if(E.includes(n.modular.dataClass)){var C={insertDivder:!1,insertTable:!1,insertLineFeel:!1,insertComp:!1,modular:n.modular};return 0==v?Object.assign(f,{deleteText:d.deletable,backspaceText:o}):(v==p.length-1&&(C.deleteText=!1),1==v&&(C.backspaceText=!1),Object.assign(f,C))}}},{key:"getElementDeletable",value:function(t,e){var i=this.getResourceCompInfo(t,e.modular.dataID);return!i||i.property.deletable}},{key:"getElementEditable",value:function(t,e){var i=this.getResourceCompInfo(t,e.modular.dataID);return!i||i.property.cls!=this.COMP_CLASS_TEXTFIELD||i.property.editable}},{key:"getElementComps",value:function(t,i){return i.modular.type==this.MODULAR_TYPE_COMP?un(this,e,xn).call(this,t,i):[]}},{key:"getElementCompsById",value:function(t,e){return t.filter((function(t){return t.modular.dataID==e}))}},{key:"getElementCommentById",value:function(t,e){return t.filter((function(t){return t.modular.comments.includes(e)}))}},{key:"getElementCompCls",value:function(t){return t?{compClass:t.modular.dataClass,compID:t.modular.dataID}:{}}},{key:"getResourceCompList",value:function(t){return t.resources.component}},{key:"getResourceCompInfo",value:function(t,e){return t.resources.component.find((function(t){return t.id==e}))}},{key:"getResourceCompInfoByCode",value:function(t,e){return t.resources.component.filter((function(t){return t.property.code==e}))}},{key:"getParagraphElements",value:function(t,i){for(var n=[],a=!1,r=0;r<t.length;r++){var o=t[r];if(o.property.type==e.TYPE_STRUCT){if(a)break;n=[]}n.push(o),o===i&&(a=!0)}return n}},{key:"getResourceCompValues",value:function(t){var i=this,n=t.resources.component.map((function(n){var a={code:n.property.code,describe:n.property.describe,value:n.property.value,required:n.property.required};if(n.property.cls==i.COMP_CLASS_DATEPICKER);else if(n.property.cls==i.COMP_CLASS_TEXTBOX){var r=un(i,e,Bn).call(i,t,n.part),o=un(i,e,Mn).call(i,r,n.id);Object.assign(a,{value:o})}else if(n.property.cls==i.COMP_CLASS_MULTIPLETEXTFIELD){var s=un(i,e,Bn).call(i,t,n.part),l=un(i,e,Mn).call(i,s,n.id);Object.assign(a,{value:l})}else n.property.cls==i.COMP_CLASS_TEXTFIELD||n.property.cls==i.COMP_CLASS_CHECKBOX||n.property.cls==i.COMP_CLASS_RADIOGROUP||(n.property.cls==i.COMP_CLASS_SINGLEFIELD?n.property.value&&Object.assign(a,{value:n.property.value.code}):n.property.cls==i.COMP_CLASS_MULTIPLEFIELD&&n.property.value&&Object.assign(a,{value:n.property.value.map((function(t){return t.code})).join(",")}));return a}));return n.filter((function(t){return Ni.isNotBlank(t.code)}))}},{key:"getDocumentStructure",value:function(t){var i={};return i.header=this.getElementChars(t,un(this,e,Bn).call(this,t,s.CONTENT_PART_HEADER)),i.body=this.getElementChars(t,un(this,e,Bn).call(this,t,s.CONTENT_PART_BODY)),i.footer=this.getElementChars(t,un(this,e,Bn).call(this,t,s.CONTENT_PART_FOOTER)),i}},{key:"getElementChars",value:function(t,i){var n=this,a=[];return i.forEach((function(i){i.property.type==n.TYPE_STRUCT?i.property.classify==n.CLS_END||a.push(""):a.push(un(n,e,Nn).call(n,t,i))})),a}},{key:"getElementHideCell",value:function(t,e){var i=this,n=[];return e.forEach((function(e){var a=e.property;if(a.type==i.TYPE_STRUCT&&a.classify==i.CLS_CELL&&a.visible&&(a.rowspan>1||a.colspan>1)){for(var r=[],o=0;o<a.rowspan;o++)for(var s=0;s<a.colspan;s++)r.push("".concat(a.row-o,",").concat(a.col-s));for(var l=i.findElementIndex(t,e);l>=0;l--){var c=t[l].property;c.type==i.TYPE_STRUCT&&c.classify==i.CLS_CELL&&!c.visible&&r.includes("".concat(c.row,",").concat(c.col))&&n.push(t[l])}}})),n}},{key:"loadImageCache",value:function(t,e,i,n){var a=this;e<t.length?this.createImageCache(t[e].extend.base64,(function(r){t[e].extend.view=r,t[e].extend.uuid=Ni.getUUID(),i(e),Hi.storeImage(t[e].extend),a.loadImageCache(t,e+1,i,n)})):n()}}]),e}();function dn(){return{deletable:!0,required:!1,code:"",describe:""}}function pn(t,e){return{property:t,offset:e,_drag_offset:Object.assign({},e)}}function vn(t,e,i,n,a,r){var o={code:e,type:this.TYPE_TEXT,classify:this.CLS_IMAGE,imageBlock:!0,imageType:t};return un(this,fn,En).call(this,o,n,a,r,i)}function _n(t,e,i,n,a){var r={code:t,type:this.TYPE_TEXT,classify:e,imageBlock:!1,imageType:""};return un(this,fn,En).call(this,r,i,n,a)}function En(t,e,i,n,a){return{property:Object.assign(this.defaultProperty(),t),textStyle:Object.assign(this.defaultTextStyle(),e),dimension:Object.assign(this.defaultDimension(),i),modular:Object.assign(this.defaultModular(),n),extend:Object.assign({},a)}}function gn(t,e,i,n,a){return{property:Object.assign(this.defaultProperty(),t),textStyle:Object.assign(this.defaultTextStyle(),e),paragStyle:Object.assign(this.defaultParagStyle(),i),dimension:Object.assign(this.defaultDimension(),n),modular:Object.assign(this.defaultModular(),a),extend:{}}}function Cn(t,e,i,n,a){var r=this.getResourceCompInfo(t,e),o=new Date(r.property.value).pattern(r.property.format),s=[],l={type:this.MODULAR_TYPE_COMP,dataID:e,dataClass:this.COMP_CLASS_DATEPICKER};return o.split("").forEach((function(t){var e=fn.createTextChar(t,i,n,a,l);s.push(e)})),s}function yn(t,e,i,n,a){var r=this,o=this.findDimension(n,a._count),s=this.getResourceCompInfo(t,e),l={type:this.MODULAR_TYPE_COMP,dataID:e,dataClass:this.COMP_CLASS_CHECKBOX},c=[];return c.push(un(this,fn,_n).call(this,s.property.value,this.CLS_CHECKBOX_BOTTON,i,o,l)),s.property.label.split("").forEach((function(t){var e={code:t,type:r.TYPE_TEXT,classify:r.CLS_TEXT_CHAR},n=un(r,fn,En).call(r,e,i,o,l);c.push(n)})),c}function Sn(t,e,i,n,a){var r=this,o=this.findDimension(n,a._count),s=this.getResourceCompInfo(t,e),l=[];return s.property.options.forEach((function(t){var n={type:r.MODULAR_TYPE_COMP,dataClass:r.COMP_CLASS_RADIOGROUP,dataID:e};l.push(un(r,fn,_n).call(r,t.code,r.CLS_RADIOBOX_BOTTON,i,o,n)),t.text.split("").forEach((function(t){var e={code:t,type:r.TYPE_TEXT,classify:r.CLS_TEXT_CHAR},a=un(r,fn,En).call(r,e,i,o,n);l.push(a)}))})),l}function Ln(t,e,i,n,a){var r=this.getResourceCompInfo(t,e),o=this.findDimension(n,a._count),s={type:this.MODULAR_TYPE_COMP,dataID:e,dataClass:this.COMP_CLASS_TEXTBOX},l=[];l.push(un(this,fn,_n).call(this,"0",this.CLS_TEXTBOX_BORDER,i,o,s));var c=un(this,fn,On).call(this,r.property.value,r.property.placeholder,i,o,s);return(l=[].concat(C(l),C(c))).push(un(this,fn,_n).call(this,"1",this.CLS_TEXTBOX_BORDER,i,o,s)),l}function wn(t,e,i,n,a){var r=this.findDimension(n,a._count),o=this.getResourceCompInfo(t,e),s={type:this.MODULAR_TYPE_COMP,dataID:e,dataClass:this.COMP_CLASS_TEXTFIELD};return un(this,fn,On).call(this,o.property.value,o.property.placeholder,i,r,s)}function mn(t,e,i,n,a){var r=this.findDimension(n,a._count),o=this.getResourceCompInfo(t,e),s={type:this.MODULAR_TYPE_COMP,dataID:e,dataClass:this.COMP_CLASS_MULTIPLETEXTFIELD},l=[];l.push(un(this,fn,_n).call(this,"0",this.CLS_TEXTBOX_BORDER_M,i,r,s));var c=un(this,fn,On).call(this,o.property.value,o.property.placeholder,i,r,s);return(l=[].concat(C(l),C(c))).push(un(this,fn,_n).call(this,"1",this.CLS_TEXTBOX_BORDER_M,i,r,s)),l}function Tn(t,e,i,n,a){var r=this.findDimension(n,a._count),o=this.getResourceCompInfo(t,e),s={type:this.MODULAR_TYPE_COMP,dataID:e,dataClass:this.COMP_CLASS_SINGLEFIELD};return un(this,fn,On).call(this,o.property.value?o.property.value.text:void 0,o.property.placeholder,i,r,s)}function bn(t,e,i,n,a){var r=this.findDimension(n,a._count),o=this.getResourceCompInfo(t,e),s={type:this.MODULAR_TYPE_COMP,dataID:e,dataClass:this.COMP_CLASS_MULTIPLEFIELD},l=void 0;return o.property.value.length>0&&(l=o.property.value.map((function(t){return t.text})).join(o.property.separator)),un(this,fn,On).call(this,l,o.property.placeholder,i,r,s)}function On(t,e,i,n,a){var r=this,o=[];return t?t.split("").forEach((function(t){var e={code:t,type:r.TYPE_TEXT,classify:r.CLS_TEXT_CHAR},s=un(r,fn,En).call(r,e,i,n,a);o.push(s)})):(Ni.isEmpty(e)?" ":e).split("").forEach((function(t){var e={code:t,type:r.TYPE_TEXT,classify:r.CLS_TEXT_CHAR,placeholder:!0},s=un(r,fn,En).call(r,e,i,n,a);o.push(s)})),o}function An(t,e){var i=t.findIndex((function(t){return t===e}));t.splice(i,1)}function Rn(t,e){var i=this;e.forEach((function(e){return un(i,fn,An).call(i,t,e)}))}function kn(t,e,i){var n=e.at(-1);if(n.property.visible=!1,e.length>1){for(var a=0;a<e.length-1;a++)i.push(e[a]),un(this,fn,An).call(this,t,e[a]);var r=this.defaultDimension();r.depth=n.dimension+1;var o={type:this.TYPE_STRUCT,classify:this.CLS_LINE};i.push(un(this,fn,gn).call(this,o,n.textStyle,n.paragStyle,r))}}function In(t,e,i){var n={find:!1,elements:[]};if(t[e].property.classify==this.CLS_TEXT_CHAR&&i[0]==t[e].property.code){n.elements=[];for(var a=!0,r=0;r<i.length;r++){if(e+r>=t.length){a=!1;break}if(n.begin=e,n.end=e+r+1,t[e+r].property.classify!=this.CLS_TEXT_CHAR||i[r]!=t[e+r].property.code){a=!1;break}n.elements.push(t[e+r])}n.find=a}return n}function Dn(t,e){if(0==t.length||0==e.length)return[];var i=[];return t.forEach((function(t){e.includes(t)&&i.push(t)})),i}function xn(t,e){return t.filter((function(t){return t.modular.dataID==e.modular.dataID}))}function Mn(t,e){var i=this;return t.filter((function(t){return t.modular.dataID==e&&t.property.classify==i.CLS_TEXT_CHAR&&!t.property.placeholder})).map((function(t){return t.property.code})).join("")}function Pn(t){for(var e=un(this,fn,Bn).call(this,t,s.CONTENT_PART_BODY),i=[],n=[],a=s.REVISION_DEF,r=!1,o=0;o<e.length;o++){var l=e[o].modular;l.revision!=s.REVISION_DEF?r&&a==l.revision?n.push(e[o]):((n=[]).push(e[o]),i.push(n),r=!0,a=l.revision):r=!1}return i}function Nn(t,e){if(e.property.classify==fn.CLS_TEXT_CHAR)return e.property.code;if(e.property.classify==fn.CLS_TEXTBOX_BORDER)return"0"==t.property.code?"[":"]";if(e.property.classify==fn.CLS_EXPRE)switch(e.extend.type){case fn.EXP_MH:return"[月经史]";case fn.EXP_TM:return"[牙位图]";case fn.EXP_FN:return"[胎心位置]";default:return"[表达式]"}else{if(e.property.classify==fn.CLS_CHECKBOX_BOTTON)return t.property.code==s.VALUE_BOOL_TRUE?"[√]":"[]";if(e.property.classify==fn.CLS_RADIOBOX_BOTTON)return fn.getResourceCompInfo(t,e.modular.dataID).property.value==t.property.code?"●":"○";if(fn.isImageBlock(e))return"[图片]"}return""}function Bn(t,e){return e==s.CONTENT_PART_BODY?t.body:e==s.CONTENT_PART_HEADER?t.header:e==s.CONTENT_PART_FOOTER?t.footer:t.body}o(fn,"MODULAR_TYPE_NORM","0"),o(fn,"MODULAR_TYPE_COMP","1"),o(fn,"COMP_CLASS_DATEPICKER","1"),o(fn,"COMP_CLASS_TEXTBOX","2"),o(fn,"COMP_CLASS_CHECKBOX","4"),o(fn,"COMP_CLASS_RADIOGROUP","5"),o(fn,"COMP_CLASS_TEXTFIELD","3"),o(fn,"COMP_CLASS_MULTIPLETEXTFIELD","8"),o(fn,"COMP_CLASS_SINGLEFIELD","6"),o(fn,"COMP_CLASS_MULTIPLEFIELD","7"),o(fn,"TYPE_STRUCT",1),o(fn,"TYPE_TEXT",2),o(fn,"TYPE_OBJECT",3),o(fn,"CLS_LINE",110),o(fn,"CLS_END",111),o(fn,"CLS_CELL",120),o(fn,"CLS_DIVDER",130),o(fn,"CLS_TEXT_CHAR",210),o(fn,"CLS_TEXT_TAB",211),o(fn,"CLS_IMAGE",220),o(fn,"CLS_GAHCODE",221),o(fn,"CLS_EXPRE",222),o(fn,"CLS_TEXTBOX_BORDER",230),o(fn,"CLS_TEXTBOX_BORDER_M",231),o(fn,"CLS_CHECKBOX_BOTTON",232),o(fn,"CLS_RADIOBOX_BOTTON",233),o(fn,"EXP_MH",0),o(fn,"EXP_TM",1),o(fn,"EXP_FN",2),o(fn,"OBJECT_SHAPE_LINE","line"),o(fn,"OBJECT_SHAPE_ELLIPSE","ellipse"),o(fn,"OBJECT_SHAPE_RECT","rect"),o(fn,"OBJECT_SHAPE_TRIANGLE","triangle"),o(fn,"IAMGE_TYPE_NORMAL",0),o(fn,"IAMGE_TYPE_BARCODE",1),o(fn,"IAMGE_TYPE_QRCODE",2),o(fn,"IAMGE_TYPE_SIGNATURE",3),o(fn,"WORD_STYLE_PROPERTYS",["font","size","color","bold","italic","underline","strikethrough","script"]),o(fn,"PARAGRAPH_STYLE_PROPERTYS",["align","indentLeft","indentRight","indentSpecialType","indentSpecialvalue","rowspac","segmentSpacPre","segmentSpacAft"]);var Fn=function(){function e(){t(this,e)}return r(e,null,[{key:"getDefalueResources",value:function(){return{component:[],comments:[],objects:{above:[],below:[]}}}},{key:"getDefalueInfo",value:function(t){return{name:t.name,createuser:t.useraccount,createusername:t.username,createtime:Date.now(),version:this.VERSION,canvasdpi:0,pagecount:0}}},{key:"getDefaluePaper",value:function(){return{type:s.PaperTypes[0].value,width:s.PaperTypes[0].width,height:s.PaperTypes[0].height,top:s.PaperMargins[0].topBottom,bottom:s.PaperMargins[0].topBottom,left:s.PaperMargins[0].leftRight,right:s.PaperMargins[0].leftRight,headerTop:s.PaperMargins[0].headerFooter,footerBottom:s.PaperMargins[0].headerFooter,direction:s.PAPER_ROTATION_PORTRAIT}}},{key:"getDefaluePageInfo",value:function(){return{number:"0",format:"{n}/{c}",align:s.ALIGN_CENTER,size:s.getDefaultFontSize().value,family:s.getDefaultFontFamily().value}}},{key:"getDefalueWatermark",value:function(){return{style:"9",text:"",transparency:30,fontfamily:"SimSun",fontsize:2e3}}},{key:"getDefalueConfig",value:function(){return{usedColors:[]}}},{key:"createNewDocument",value:function(t){return{body:[fn.createDocumentEnd()],header:[fn.createDocumentEnd()],footer:[fn.createDocumentEnd()],view:[],config:this.getDefalueConfig(),paper:this.getDefaluePaper(),info:this.getDefalueInfo(t),page:this.getDefaluePageInfo(),watermark:this.getDefalueWatermark(),resources:this.getDefalueResources()}}},{key:"createParagLine",value:function(t,e,i,n,a,r){return{elements:[],left:i,right:e,width:t,height:0,surplus:t-i-e-n-a-r,baseLine:0,descent:0,alignLeft:0,indentLeft:n,indentRight:a,indentSpecia:r,marginTop:0,marginBot:0}}},{key:"createParagFrag",value:function(){return{elements:[],isBefBreak:!1,isAftBreak:!1}}},{key:"getDocumentCharCount",value:function(t){var e=0;return t.forEach((function(t){var i=t.property;i.type==fn.TYPE_TEXT&&i.classify==fn.CLS_TEXT_CHAR&&e++})),e}}]),e}();function Wn(t,e,i,n,a,r,o){try{var s=t[r](o),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(n,a)}function Un(t){return function(){var e=this,i=arguments;return new Promise((function(n,a){var r=t.apply(e,i);function o(t){Wn(r,n,a,o,s,"next",t)}function s(t){Wn(r,n,a,o,s,"throw",t)}o(void 0)}))}}function Xn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hn(t,e){return Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hn(t,e)}function Yn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hn(t,e)}function jn(t,i){if(i&&("object"==e(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return Xn(t)}function Vn(t){return Vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vn(t)}function zn(t,e){return t.get(function(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}(t,e))}function Gn(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,zn(e,t))}function Kn(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,zn(e,t),i),i}o(Fn,"VERSION",1.1);var Zn=i(4756),Jn=i.n(Zn);function qn(){return qn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Vn(t)););return t}(t,e);if(n){var a=Object.getOwnPropertyDescriptor(n,e);return a.get?a.get.call(arguments.length<3?t:i):a.value}},qn.apply(null,arguments)}var $n=function(){function e(){t(this,e)}return r(e,[{key:"getCurrentPartData",value:function(t,e){return e==s.CONTENT_PART_BODY?t.body:e==s.CONTENT_PART_HEADER?t.header:e==s.CONTENT_PART_FOOTER?t.footer:void 0}},{key:"getCurrentPartModel",value:function(t,e){return e==s.CONTENT_PART_BODY?t.getBodyModel():e==s.CONTENT_PART_HEADER?t.getHeaderModel():e==s.CONTENT_PART_FOOTER?t.getFooterModel():void 0}},{key:"getCanvasOffset",value:function(t){var e=this.getCurrentRatio();return{offsetX:t.offsetX/e,offsetY:t.offsetY/e}}},{key:"getCurrentRatio",value:function(){return s.SYS_ZOOM*s.SYS_STANDARD_RATIO}}]),e}();function Qn(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}var ta=new WeakMap,ea=new WeakMap,ia=new WeakMap,na=new WeakMap,aa=new WeakMap,ra=new WeakMap,oa=new WeakMap,sa=new WeakMap,la=new WeakMap,ca=new WeakMap,ha=new WeakMap,ua=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Qn(Xn(e=a.call.apply(a,[this].concat(n))),ta,{writable:!0,value:void 0}),Qn(Xn(e),ea,{writable:!0,value:void 0}),Qn(Xn(e),ia,{writable:!0,value:void 0}),Qn(Xn(e),na,{writable:!0,value:void 0}),Qn(Xn(e),aa,{writable:!0,value:void 0}),Qn(Xn(e),ra,{writable:!0,value:void 0}),Qn(Xn(e),oa,{writable:!0,value:void 0}),Qn(Xn(e),sa,{writable:!0,value:void 0}),Qn(Xn(e),la,{writable:!0,value:void 0}),Qn(Xn(e),ca,{writable:!0,value:void 0}),Qn(Xn(e),ha,{writable:!0,value:void 0}),e}return r(o,[{key:"init",value:function(t,e){Kn(this,ca,t),Kn(this,ha,e)}},{key:"clearSelects",value:function(t){t.splice(0,t.length)}},{key:"arrangeElements",value:function(t,e,i){var n=fn.getElementHideCell(t,i);xi.splice(i,0,n),i.length>0&&fn.isTextboxElements(i)||i.forEach((function(e){fn.getElementComps(t,e).forEach((function(t){i.includes(t)||i.push(t)}))}));var a=i.findIndex((function(t){return t.property.classify==fn.CLS_END}));a>=0&&i.splice(a,1);var r=Array.from(new Set(i));r.sort((function(t,e){return t._count-e._count})),e.splice(0,e.length),xi.splice(e,0,r)}},{key:"changeComponentValueAction",value:function(){var t=this,e=fn.getResourceCompValues(Gn(this,ca)),i={};e.forEach((function(t){i.hasOwnProperty(t.code)?Array.isArray(i[t.code])?i[t.code].push(t.value):i[t.code]=[i[t.code],t.value]:i[t.code]=t.value})),Gn(this,ca).resources.component.forEach((function(e){if(e.property.cls==fn.COMP_CLASS_TEXTFIELD&&Mi.isNotUndefined(e.property.calcul))try{var n=new Function("data","with(data) { ".concat(e.property.calcul," }"));e.property.value=n(i)+"",t.changeComponentChars(e.id)}catch(t){hn.info("计算式[".concat(e.property.calcul,"]错误：").concat(t.message))}}))}},{key:"changeComponentChars",value:function(t){var e=this.getCurrentPartData(Gn(this,ca),Gn(this,ha)),i=fn.getElementCompsById(e,t);if(i.length>0){var n=fn.findNextElement(e,i.at(-1));fn.deleteElements(e,i),this.insertComponent(n,t,i[0].textStyle,!1)}}},{key:"insertComponent",value:function(t,e,i){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this.getCurrentPartData(Gn(this,ca),Gn(this,ha)),r=fn.createComponent(Gn(this,ca),e,i,a,t);fn.insertElements(a,t,r),n&&this.callbackSetCursor(t,t)}},{key:"getCurrentPartOffset",value:function(t,e,i,n){var a=t.getPageSize(),r=r=parseInt(n/a.pxHeight);return e==s.CONTENT_PART_BODY?n-=a.pxHeaderHeight:e==s.CONTENT_PART_HEADER?n%=a.pxHeight:e==s.CONTENT_PART_FOOTER&&(n=n%a.pxHeight-(a.pxHeight-a.pxFooterHeight)),{offsetX:i,offsetY:n,pagenum:r}}},{key:"setCursorCallBack",value:function(t){Kn(this,ta,t)}},{key:"setChangeCallBack",value:function(t){Kn(this,ia,t)}},{key:"setRefreshCallBack",value:function(t){Kn(this,na,t)}},{key:"setContextMenuCallBack",value:function(t){Kn(this,ra,t)}},{key:"setPopMenuCallBack",value:function(t){Kn(this,sa,t)}},{key:"setSaveMirrorCallBack",value:function(t){Kn(this,aa,t)}},{key:"setCursorStyleCallBack",value:function(t){Kn(this,ea,t)}},{key:"setLocateInputCallBack",value:function(t){Kn(this,oa,t)}},{key:"setChangePartCallBack",value:function(t){Kn(this,la,t)}},{key:"callbackSetCursor",value:function(t,e,i,n){Gn(this,ta).call(this,t,e,i,n)}},{key:"callbackContextMenu",value:function(t){Gn(this,ra).call(this,t)}},{key:"callbackPopMenu",value:function(t){Gn(this,sa).call(this,t)}},{key:"callbackRefresh",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Gn(this,na).call(this,t)}},{key:"callbackChange",value:function(){fn.insertPlaceholder(Gn(this,ca),Gn(this,ha)),Gn(this,ia).call(this)}},{key:"callbackSaveMirror",value:function(t,e){Gn(this,aa).call(this,t,e)}},{key:"callbackCursorStyle",value:function(t){Gn(this,ea).call(this,t)}},{key:"callbackLocateInput",value:function(){Gn(this,oa).call(this)}},{key:"callbackChangePart",value:function(t){Gn(this,la).call(this,t)}},{key:"callbackRefreshByChange",value:function(t,e){fn.insertPlaceholder(Gn(this,ca),Gn(this,ha)),Gn(this,ia).call(this),Gn(this,aa).call(this,t,e),Gn(this,na).call(this,!0)}}]),o}($n);function fa(t,e){pa(t,e),e.add(t)}function da(t,e,i){pa(t,e),e.set(t,i)}function pa(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function va(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}o(ua,"INSERT_WORD","insertWord"),o(ua,"INSERT_LINEFEEL","insertLineFeel"),o(ua,"INSERT_TAB","inserTab"),o(ua,"INSERT_TABLE","insertTable"),o(ua,"INSERT_IMAGE","insertImage"),o(ua,"INSERT_COMP","insertComp"),o(ua,"INSERT_SIGNATURE","insertSignature"),o(ua,"INSERT_DIVDER","insertDivder"),o(ua,"INSERT_GRAPHICCODE","insertGraphicCode"),o(ua,"INSERT_TEXTFIELD","insertTextField"),o(ua,"INSERT_WATERMARK","insertWatermark"),o(ua,"INSERT_PAGENUMBER","insertPageNumber"),o(ua,"INSERT_COMMENTS","insertComments"),o(ua,"BACKSPACE_TEXT","backspaceText"),o(ua,"PASTE_TEXT","pasteText"),o(ua,"CUT_TEXT","cutText"),o(ua,"DELETE_TEXT","deleteText"),o(ua,"DELETE_WATERMARK","deleteWatermark"),o(ua,"CHANGE_TEXT_STYLE","changeTextStyle"),o(ua,"CHANGE_PARAG_STYLE","changeParagStyle"),o(ua,"CHANGE_FONT_COLOR","changeFontColor"),o(ua,"CHANGE_BLOCK_SIZE","changeBlockSize"),o(ua,"CHANGE_TABLE_SIZE","changeTableSize"),o(ua,"CHANGE_OBJECT_SIZE","changeObjectSize"),o(ua,"CHANGE_EXP_VALUE","changeExpValue"),o(ua,"CHANGE_COMMENTS","changeComments"),o(ua,"CHANGE_COMP","changeComp"),o(ua,"TABLE_MERGE","tableMerge"),o(ua,"TABLE_DELETE_ROW","tableDeleteRow"),o(ua,"TABLE_DELETE_COL","tableDeleteCol"),o(ua,"TABLE_DELETE_CELL","tableDeleteCell"),o(ua,"TABLE_DELETE","tableDelete"),o(ua,"TABLE_INSERT_CELL","tableInsertCell"),o(ua,"TABLE_SPLIT","tableSplit"),o(ua,"TABLE_BORDER_CHANGE","tableBorderchange"),o(ua,"REVISION_ACCEPT","acceptrevision"),o(ua,"REVISION_REFUSE","refuserevision");var _a=new WeakMap,Ea=new WeakMap,ga=new WeakMap,Ca=new WeakMap,ya=new WeakMap,Sa=new WeakMap,La=new WeakMap,wa=new WeakSet,ma=new WeakSet,Ta=new WeakSet,ba=new WeakSet,Oa=new WeakSet,Aa=new WeakSet,Ra=new WeakSet,ka=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return fa(Xn(e=a.call.apply(a,[this].concat(n))),Ra),fa(Xn(e),Aa),fa(Xn(e),Oa),fa(Xn(e),ba),fa(Xn(e),Ta),fa(Xn(e),ma),fa(Xn(e),wa),da(Xn(e),_a,{writable:!0,value:void 0}),da(Xn(e),Ea,{writable:!0,value:void 0}),da(Xn(e),ga,{writable:!0,value:void 0}),da(Xn(e),Ca,{writable:!0,value:void 0}),da(Xn(e),ya,{writable:!0,value:void 0}),da(Xn(e),Sa,{writable:!0,value:void 0}),da(Xn(e),La,{writable:!0,value:void 0}),e}return r(o,[{key:"init",value:function(t,e,i,n,a,r){qn(Vn(o.prototype),"init",this).call(this,t,r),Kn(this,_a,t),Kn(this,Ea,e),Kn(this,ya,i),Kn(this,ga,n),Kn(this,Ca,a),Kn(this,Sa,r)}},{key:"action",value:function(t,e){e?va(this,Ta,xa).call(this,t):va(this,wa,Ia).call(this,t),this.callbackRefresh()}}]),o}(ua);function Ia(t){var e=this.getCurrentPartData(Gn(this,_a),Gn(this,Sa));if(Gn(this,ya).length>0){if(t==s.KEY_ARROWLEFT){var i=Gn(this,ya).at(0);this.clearSelects(Gn(this,ya)),this.callbackSetCursor(i,i)}else if(t==s.KEY_ARROWRIGHT){var n=Gn(this,ya).at(-1);n.property.type!=fn.TYPE_STRUCT&&(n=fn.findNextElement(e,n)),this.clearSelects(Gn(this,ya)),this.callbackSetCursor(n,n)}else if(t==s.KEY_ARROWUP){var a=Gn(this,ya).at(0);this.clearSelects(Gn(this,ya));var r=va(this,ma,Da).call(this,t,a,a);this.callbackSetCursor(r.element,r.nextelement,void 0,r.offsetX)}else if(t==s.KEY_ARROWDOWN){var o=Gn(this,ya).at(-1);o.property.type!=fn.TYPE_STRUCT&&(o=fn.findNextElement(e,o)),this.clearSelects(Gn(this,ya));var l=va(this,ma,Da).call(this,t,o,o);this.callbackSetCursor(l.element,l.nextelement,void 0,l.offsetX)}}else if(t==s.KEY_ARROWLEFT){var c=e[Math.max(Gn(this,Ca)._count-1,0)];this.callbackSetCursor(c,c)}else if(t==s.KEY_ARROWRIGHT){var h=e[Math.min(Gn(this,Ca)._count+1,e.length-1)];this.callbackSetCursor(h,h)}else if(t==s.KEY_ARROWUP||t==s.KEY_ARROWDOWN){var u=va(this,ma,Da).call(this,t,Gn(this,ga),Gn(this,Ca));this.callbackSetCursor(u.element,u.nextelement,void 0,u.offsetX)}}function Da(t,e,i){var n=this.getCurrentPartModel(Gn(this,Ea),Gn(this,Sa)),a=void 0;e._cursor?a=e._cursor:(a=e._offset.offsetX,e!==i&&(a+=e._size.width));var r={};if(t==s.KEY_ARROWUP&&n.localeUpElement(e,a,r)){if(r.element.property.type!=fn.TYPE_STRUCT&&r.next){var o=data.findIndex((function(t){return t===r.element}));r.nextelement=data[o+1]}else r.nextelement=r.element;return r.offsetX=a,r}if(t==s.KEY_ARROWDOWN&&n.localeDownElement(e,a,r))if(r.element.property.type!=fn.TYPE_STRUCT&&r.next){var l=data.findIndex((function(t){return t===r.element}));r.nextelement=data[l+1]}else r.nextelement=r.element;return r}function xa(t){t==s.KEY_ARROWLEFT?va(this,ba,Ma).call(this,Gn(this,ya).length>0):t==s.KEY_ARROWRIGHT?va(this,Oa,Pa).call(this,Gn(this,ya).length>0):t==s.KEY_ARROWUP?va(this,Aa,Na).call(this,Gn(this,ya).length>0):t==s.KEY_ARROWDOWN&&va(this,Ra,Ba).call(this,Gn(this,ya).length>0)}function Ma(t){var e=this.getCurrentPartData(Gn(this,_a),Gn(this,Sa)),i=this.getCurrentPartModel(Gn(this,Ea),Gn(this,Sa));if(t)i.selectElement2(Gn(this,ya),Gn(this,La),s.SELECT_EXT_TYPE_L),this.arrangeElements(e,Gn(this,ya),Gn(this,ya));else if(Gn(this,Ca)._count>0){var n=fn.findPreElement(e,Gn(this,Ca)),a=i.selectElement(n,Gn(this,Ca));this.arrangeElements(e,Gn(this,ya),a),Kn(this,La,s.SELECT_POINT_BEG)}}function Pa(t){var e=this.getCurrentPartData(Gn(this,_a),Gn(this,Sa)),i=this.getCurrentPartModel(Gn(this,Ea),Gn(this,Sa));if(t)i.selectElement2(Gn(this,ya),Gn(this,La),s.SELECT_EXT_TYPE_R),this.arrangeElements(e,Gn(this,ya),Gn(this,ya));else if(Gn(this,Ca).property.classify!=fn.CLS_END){var n=fn.findNextElement(e,Gn(this,Ca)),a=i.selectElement(Gn(this,Ca),n);this.arrangeElements(e,Gn(this,ya),a),Kn(this,La,s.SELECT_POINT_END)}}function Na(t){var e=this.getCurrentPartData(Gn(this,_a),Gn(this,Sa)),i=this.getCurrentPartModel(Gn(this,Ea),Gn(this,Sa));if(t)i.selectElement2(Gn(this,ya),Gn(this,La),s.SELECT_EXT_TYPE_U),this.arrangeElements(e,Gn(this,ya),Gn(this,ya));else if(Gn(this,Ca)._count>0){var n=va(this,ma,Da).call(this,s.KEY_ARROWUP,Gn(this,ga),Gn(this,Ca));n.element||(n.element=e.at(0));var a=i.selectElement(n.element,Gn(this,Ca));this.arrangeElements(e,Gn(this,ya),a),Kn(this,La,s.SELECT_POINT_BEG)}}function Ba(t){var e=this.getCurrentPartData(Gn(this,_a),Gn(this,Sa)),i=this.getCurrentPartModel(Gn(this,Ea),Gn(this,Sa));if(t)i.selectElement2(Gn(this,ya),Gn(this,La),s.SELECT_EXT_TYPE_D),this.arrangeElements(e,Gn(this,ya),Gn(this,ya));else if(Gn(this,Ca).property.classify!=fn.CLS_END){var n=va(this,ma,Da).call(this,s.KEY_ARROWDOWN,Gn(this,ga),Gn(this,Ca));n.element||(n.element=e.at(-1));var a=i.selectElement(Gn(this,Ca),n.element);this.arrangeElements(e,Gn(this,ya),a),Kn(this,La,s.SELECT_POINT_END)}}function Fa(t,e){Ua(t,e),e.add(t)}function Wa(t,e,i){Ua(t,e),e.set(t,i)}function Ua(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xa(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var Ha=new WeakMap,Ya=new WeakMap,ja=new WeakMap,Va=new WeakMap,za=new WeakMap,Ga=new WeakMap,Ka=new WeakMap,Za=new WeakMap,Ja=new WeakSet,qa=new WeakSet,$a=new WeakSet,Qa=new WeakSet,tr=new WeakSet,er=new WeakSet,ir=new WeakSet,nr=new WeakSet,ar=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Fa(Xn(e=a.call.apply(a,[this].concat(n))),nr),Fa(Xn(e),ir),Fa(Xn(e),er),Fa(Xn(e),tr),Fa(Xn(e),Qa),Fa(Xn(e),$a),Fa(Xn(e),qa),Fa(Xn(e),Ja),Wa(Xn(e),Ha,{writable:!0,value:void 0}),Wa(Xn(e),Ya,{writable:!0,value:void 0}),Wa(Xn(e),ja,{writable:!0,value:void 0}),Wa(Xn(e),Va,{writable:!0,value:void 0}),Wa(Xn(e),za,{writable:!0,value:void 0}),Wa(Xn(e),Ga,{writable:!0,value:void 0}),Wa(Xn(e),Ka,{writable:!0,value:void 0}),Wa(Xn(e),Za,{writable:!0,value:void 0}),e}return r(o,[{key:"init",value:function(t,e,i,n,a,r,s,l){qn(Vn(o.prototype),"init",this).call(this,t,l),Kn(this,Ha,t),Kn(this,Ya,e),Kn(this,ja,i),Kn(this,Va,n),Kn(this,za,a),Kn(this,Za,s),Kn(this,Ka,r),Kn(this,Ga,l)}},{key:"insertWord",value:function(t){var e=this,i=0;if(Zi.isEdit());else{if(!Zi.isModify())return;if(Gn(this,ja).length>0)return;i=1}Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var n=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),a=fn.getElementOperate(Gn(this,Ha),n,Gn(this,Va),i);if(a.insert){var r=[];t.split("").forEach((function(t){r.push(fn.createTextChar(t,Gn(e,Ka),n,Gn(e,Va),a.modular))})),fn.insertElements(n,Gn(this,Va),r),this.callbackSetCursor(Gn(this,Va),Gn(this,Va)),this.callbackRefreshByChange(ua.INSERT_TAB,t)}}},{key:"insertLinefeel",value:function(){if(Zi.isEdit()){Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var t=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),e=fn.getElementOperate(Gn(this,Ha),t,Gn(this,Va));if(e.insert&&e.insertLineFeel){var i=fn.createLineFeel(Gn(this,Ka),Gn(this,Za),t,Gn(this,Va),e.modular);fn.insertElement(t,Gn(this,Va),i),this.callbackSetCursor(Gn(this,Va),Gn(this,Va)),this.callbackRefreshByChange(ua.INSERT_LINEFEEL)}}}},{key:"inserTab",value:function(){if(Zi.isModify()){if(Gn(this,ja).length>0)return}else if(!Zi.isEdit())return;Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var t=fn.getElementOperate(Gn(this,Ha),elements,Gn(this,Va),0);if(t.insert){var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),i=fn.createTextTab(Gn(this,Ka),e,Gn(this,Va),t.modular);fn.insertElement(e,Gn(this,Va),i),this.callbackSetCursor(Gn(this,Va),Gn(this,Va)),this.callbackRefreshByChange(ua.INSERT_TAB)}}},{key:"insertTable",value:function(t){if(Zi.isEdit()&&!(Gn(this,ja).length>0)){var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),i=fn.getElementOperate(Gn(this,Ha),e,Gn(this,Va));if(i.insert&&i.insertTable){var n=this.getCurrentPartModel(Gn(this,Ya),Gn(this,Ga));if(Gn(this,Va)._count>0&&e[Gn(this,Va)._count-1].property.type!=fn.TYPE_STRUCT){var a=fn.createLineFeel(Gn(this,Ka),Gn(this,Za),e,Gn(this,Va));fn.insertElement(e,Gn(this,Va),a)}for(var r=n.getChapterSize(Gn(this,Va)),o=parseInt((r.lineWidth-r.lineLeft-r.lineRight)/t.cols),s=[],l=0;l<t.rows;l++)for(var c=0;c<t.cols;c++){var h={row:l,col:c,width:o};s.push(fn.createTableCell(h,Gn(this,Ka),Gn(this,Za),e,Gn(this,Va)))}var u=s[0];fn.insertElements(e,Gn(this,Va),s),this.callbackSetCursor(u,u),this.callbackRefreshByChange(ua.INSERT_TABLE)}}}},{key:"insertImage",value:function(t){if(Zi.isEdit()){Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga));fn.getElementOperate(Gn(this,Ha),e,Gn(this,Va)).insert&&Xa(this,tr,cr).call(this,fn.IAMGE_TYPE_NORMAL,t,ua.INSERT_IMAGE)}}},{key:"insertSignature",value:function(t,e){if(Zi.isEdit()){Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var i=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga));fn.getElementOperate(Gn(this,Ha),i,Gn(this,Va)).insert&&(Xa(this,tr,cr).call(this,fn.IAMGE_TYPE_SIGNATURE,t,ua.INSERT_SIGNATURE),e&&(Zi.saveSignatureAction(t),Zi.synchroData({action:"refreshSignature"})))}}},{key:"insertGraphicCode",value:function(t,e){if(Zi.isEdit()){Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var i=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga));fn.getElementOperate(Gn(this,Ha),i,Gn(this,Va)).insert&&Xa(this,er,hr).call(this,t,e,ua.INSERT_GRAPHICCODE)}}},{key:"insertDivder",value:function(t){if(Zi.isEdit()){Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),i=fn.getElementOperate(Gn(this,Ha),e,Gn(this,Va));if(i.insert&&i.insertDivder){var n=fn.createDivder(t,Gn(this,Ka),Gn(this,Za),e,Gn(this,Va));fn.insertElement(e,Gn(this,Va),n),this.callbackSetCursor(Gn(this,Va),Gn(this,Va)),this.callbackRefreshByChange(ua.INSERT_DIVDER)}}}},{key:"insertDatePicker",value:function(t,e){if(Zi.isDesign()){Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var i=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),n=fn.getElementOperate(Gn(this,Ha),i,Gn(this,Va));if(n.insert&&n.insertComp){var a=Ni.getUUID(),r=t,o=Object.assign(fn.defaultDatePickerPro(),{format:e,value:r});fn.insertCompInfo(Gn(this,Ha),Gn(this,Ga),a,o),this.insertComponent(Gn(this,Va),a,Gn(this,Ka)),this.callbackRefreshByChange(ua.INSERT_COMP)}}}},{key:"insertTextBox",value:function(t){if(Zi.isDesign()){Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),i=fn.getElementOperate(Gn(this,Ha),e,Gn(this,Va));if(i.insert&&i.insertComp){var n=Ni.getUUID(),a=Object.assign(fn.defaultTextBoxPro(),t);fn.insertCompInfo(Gn(this,Ha),Gn(this,Ga),n,a),this.insertComponent(Gn(this,Va),n,Gn(this,Ka)),this.callbackRefreshByChange(ua.INSERT_COMP)}}}},{key:"insertCheckbox",value:function(t){if(Zi.isDesign()){Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),i=fn.getElementOperate(Gn(this,Ha),e,Gn(this,Va));if(i.insert&&i.insertComp){var n=Ni.getUUID(),a=Object.assign(fn.defaultCheckboxPro(),t);fn.insertCompInfo(Gn(this,Ha),Gn(this,Ga),n,a),this.insertComponent(Gn(this,Va),n,Gn(this,Ka)),this.callbackRefreshByChange(ua.INSERT_COMP)}}}},{key:"insertRadioGroup",value:function(t){if(Zi.isDesign()){Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),i=fn.getElementOperate(Gn(this,Ha),e,Gn(this,Va));if(i.insert&&i.insertComp){var n=Ni.getUUID(),a=Object.assign(fn.defaultRadioGroupPro(),t);fn.insertCompInfo(Gn(this,Ha),Gn(this,Ga),n,a),this.insertComponent(Gn(this,Va),n,Gn(this,Ka)),this.callbackRefreshByChange(ua.INSERT_COMP)}}}},{key:"insertTextField",value:function(t){if(Zi.isDesign()){Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),i=fn.getElementOperate(Gn(this,Ha),e,Gn(this,Va));if(i.insert&&i.insertComp){var n=Ni.getUUID(),a=Object.assign(fn.defaultTextFieldPro(),t);fn.insertCompInfo(Gn(this,Ha),Gn(this,Ga),n,a),this.insertComponent(Gn(this,Va),n,Gn(this,Ka)),this.callbackRefreshByChange(ua.INSERT_COMP)}}}},{key:"insertMultTextField",value:function(t){if(Zi.isDesign()){Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),i=fn.getElementOperate(Gn(this,Ha),e,Gn(this,Va));if(i.insert&&i.insertComp){var n=Ni.getUUID(),a=Object.assign(fn.defaultMultTextFieldPro(),t);fn.insertCompInfo(Gn(this,Ha),Gn(this,Ga),n,a),this.insertComponent(Gn(this,Va),n,Gn(this,Ka)),this.callbackRefreshByChange(ua.INSERT_COMP)}}}},{key:"insertSingleField",value:function(t){if(Zi.isDesign()){Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),i=fn.getElementOperate(Gn(this,Ha),e,Gn(this,Va));if(i.insert&&i.insertComp){var n=Ni.getUUID(),a=Object.assign(fn.defaultSingleFieldPro(),t);fn.insertCompInfo(Gn(this,Ha),Gn(this,Ga),n,a),this.insertComponent(Gn(this,Va),n,Gn(this,Ka)),this.callbackRefreshByChange(ua.INSERT_COMP)}}}},{key:"insertMultipleField",value:function(t){if(Zi.isDesign()){Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),i=fn.getElementOperate(Gn(this,Ha),e,Gn(this,Va));if(i.insert&&i.insertComp){var n=Ni.getUUID(),a=Object.assign(fn.defaultMultipleFieldPro(),t);fn.insertCompInfo(Gn(this,Ha),Gn(this,Ga),n,a),this.insertComponent(Gn(this,Va),n,Gn(this,Ka)),this.callbackRefreshByChange(ua.INSERT_COMP)}}}},{key:"insertExpression",value:function(t){if(Zi.isEdit()){Gn(this,ja).length>0&&Xa(this,Qa,lr).call(this);var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga));if(fn.getElementOperate(Gn(this,Ha),e,Gn(this,Va)).insert){var i=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),n=fn.createExpression(t,Gn(this,Ka),i,Gn(this,Va));fn.insertElement(i,Gn(this,Va),n),this.callbackSetCursor(Gn(this,Va),Gn(this,Va)),this.callbackRefreshByChange(ua.INSERT_COMP)}}}},{key:"insertPageNumber",value:function(t){Zi.isDesign()&&("0"==t?Gn(this,Ha).page=Object.assign(Gn(this,Ha).page,{number:"0"}):"1"==t?Gn(this,Ha).page=Object.assign(Gn(this,Ha).page,{number:"1",align:s.ALIGN_LEFT}):"2"==t?Gn(this,Ha).page=Object.assign(Gn(this,Ha).page,{number:"1",align:s.ALIGN_CENTER}):"3"==t&&(Gn(this,Ha).page=Object.assign(Gn(this,Ha).page,{number:"1",align:s.ALIGN_RIGHT})),this.callbackRefreshByChange(ua.INSERT_PAGENUMBER))}},{key:"insertComments",value:function(t){if(Zi.isNote())if(Gn(this,ja).length>0)fn.insertComments(Gn(this,Ha),Gn(this,ja),t),this.callbackRefreshByChange(ua.INSERT_COMMENTS);else{var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),i=fn.getParagraphElements(e,Gn(this,Va));fn.insertComments(Gn(this,Ha),i,t),this.callbackRefreshByChange(ua.INSERT_COMMENTS)}}},{key:"insertRevision",value:function(){Zi.isModify()}},{key:"backspaceText",value:function(){var t="0";if(Zi.isEdit());else{if(!Zi.isModify())return;t="2"}if(Gn(this,ja).length>0)Xa(this,Qa,lr).call(this,t),this.callbackRefreshByChange(ua.BACKSPACE_TEXT);else{var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),i=fn.findElementIndex(e,Gn(this,Va));fn.getElementOperate(Gn(this,Ha),e,Gn(this,Va)).backspaceText&&("2"==t?e[i-1].modular.revision==s.REVISION_INS?(Xa(this,$a,sr).call(this,i-1),this.callbackSetCursor(Gn(this,Va),Gn(this,Va))):(e[i-1].modular.revision=t,this.callbackSetCursor(e[i-1],e[i-1])):Xa(this,$a,sr).call(this,i-1).length>0&&this.callbackSetCursor(Gn(this,Va),Gn(this,Va)),this.callbackRefreshByChange(ua.BACKSPACE_TEXT))}}},{key:"deleteText",value:function(){var t=this,e="0";if(Zi.isEdit());else{if(!Zi.isModify())return;e="2"}if(Gn(this,ja).length>0)Xa(this,Qa,lr).call(this,e),this.callbackRefreshByChange(ua.DELETE_TEXT);else{var i=function(i){var n=t.getCurrentPartData(Gn(t,Ha),Gn(t,Ga)),a=fn.getElementOperate(Gn(t,Ha),n,i),r=fn.findElementIndex(n,i);a.deleteText&&("2"==e?n[r].modular.revision==s.REVISION_INS?(Xa(t,$a,sr).call(t,r),t.callbackSetCursor(n[r],n[r])):(n[r].modular.revision=e,t.callbackSetCursor(n[r+1],n[r+1])):(Xa(t,$a,sr).call(t,r),t.callbackSetCursor(n[r],n[r])),t.callbackRefreshByChange(ua.DELETE_TEXT))};Mi.isNotUndefined(Gn(this,za))?fn.deleteObject(Gn(this,Ha),Gn(this,za))?(this.callbackSetCursor(Gn(this,Va),Gn(this,Va)),this.callbackRefreshByChange(ua.DELETE_TEXT)):i(Gn(this,za)):i(Gn(this,Va))}}},{key:"cutText",value:function(){if(Zi.isModify()){if(Gn(this,ja).length>0)return}else if(!Zi.isEdit())return;Gn(this,ja).length>0&&(Xa(this,Qa,lr).call(this),this.callbackRefreshByChange(ua.CUT_TEXT))}},{key:"findText",value:function(t){if(Ni.isNotBlank(t.text)){var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),i=fn.findElementText(e,t.text,t.pos);return i&&i.find?(this.arrangeElements(e,Gn(this,ja),i.elements),this.callbackSetCursor(i.elements[0],i.elements[0]),this.callbackRefresh(!1),this.callbackLocateInput(),i.end):-1}}},{key:"pasteObj",value:function(t){if(Zi.isDesign());else if(!Zi.isEdit())return;t.elements.length>0?(fn.pasteElements(Gn(this,Ha),Gn(this,Ga),Gn(this,Va),t),this.callbackRefreshByChange(ua.PASTE_TEXT)):this.callbackRefresh(!0)}},{key:"changeWateMark",value:function(t){Zi.isDesign()&&(Gn(this,Ha).watermark=Object.assign(Fn.getDefalueWatermark(),t),this.callbackRefreshByChange(ua.INSERT_WATERMARK))}},{key:"changeCompInfo",value:function(t){Zi.isDesign()&&(fn.changeCompInfo(Gn(this,Ha),Gn(this,Ga),t),this.changeComponentChars(t.id),this.callbackChange(),this.callbackRefresh())}},{key:"changeCompValue",value:function(t){if(Zi.isEdit()){for(var e in t)Xa(this,Ja,rr).call(this,fn.getResourceCompInfoByCode(Gn(this,Ha),e),t[e]);this.changeComponentValueAction(),this.callbackChange(),this.callbackRefresh()}}},{key:"changeDatePickerValue",value:function(t,e){Zi.isEdit()&&(fn.getResourceCompInfo(Gn(this,Ha),t).property.value=e,this.changeComponentChars(t),this.changeComponentValueAction(),this.callbackRefreshByChange(ua.CHANGE_COMP))}},{key:"changeTextFieldValue",value:function(t,e){Zi.isEdit()&&(fn.getResourceCompInfo(Gn(this,Ha),t).property.value=e,this.changeComponentChars(t),this.changeComponentValueAction(),this.callbackRefreshByChange(ua.CHANGE_COMP))}},{key:"changeSingleFieldValue",value:function(t,e){Zi.isEdit()&&(fn.getResourceCompInfo(Gn(this,Ha),t).property.value=e,this.changeComponentChars(t),this.changeComponentValueAction(),this.callbackRefreshByChange(ua.CHANGE_COMP))}},{key:"changeMultipleFieldValue",value:function(t,e){if(Zi.isEdit()){var i=fn.getResourceCompInfo(Gn(this,Ha),t);Array.isArray(e)&&(i.property.value=e,this.changeComponentChars(t),this.changeComponentValueAction(),this.callbackRefreshByChange(ua.CHANGE_COMP))}}},{key:"changeExpressionValue",value:function(t){if(Zi.isEdit()){var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga));fn.changeExpressionInfo(e,t),this.callbackRefreshByChange(ua.CHANGE_EXP_VALUE)}}},{key:"changeCommentsState",value:function(t,e){if(Zi.isEdit()||Zi.isNote()){var i=Gn(this,Ha).resources.comments.find((function(e){return e.id==t}));i&&(i.state=e,this.callbackRefreshByChange(ua.INSERT_COMMENTS))}}},{key:"acceptRevision",value:function(){Zi.isEdit()&&(fn.processRevision(Gn(this,Ha),Gn(this,Va),!0)?this.callbackRefreshByChange(ua.REVISION_ACCEPT):this.callbackRefresh(!0))}},{key:"refuseRevision",value:function(){Zi.isEdit()&&(fn.processRevision(Gn(this,Ha),Gn(this,Va),!1)?this.callbackRefreshByChange(ua.REVISION_REFUSE):this.callbackRefresh(!0))}}]),o}(ua);function rr(t,e){var i=this;t.forEach((function(t){t.property.value=e,Xa(i,qa,or).call(i,Gn(i,Ha).body,t),Xa(i,qa,or).call(i,Gn(i,Ha).header,t),Xa(i,qa,or).call(i,Gn(i,Ha).footer,t)}))}function or(t,e){var i=fn.getElementCompsById(t,e.id);if(i.length>0){var n=fn.findNextElement(t,i.at(-1)),a=i.at(-1).textStyle;fn.deleteElements(t,i),fn.insertElements(t,n,fn.createComponent(Gn(this,Ha),e.id,a,t,n))}}function sr(t){var e=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga));return fn.deleteElement(e,t)}function lr(t){var e=this;if("2"==t){var i=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),n=fn.findElementIndex(i,Gn(this,ja)[0]),a=fn.findElementIndex(i,Gn(this,ja).at(-1)),r=Math.min(n,a),o=Gn(this,ja).filter((function(t){return t.modular.revision==s.REVISION_INS}));fn.deleteElements(i,o),Gn(this,ja).filter((function(t){return!!fn.getElementDeletable(Gn(e,Ha),t)&&t.property.type!=s.TYPE_STRUCT})).forEach((function(e){e.modular.revision=t})),this.clearSelects(Gn(this,ja)),this.callbackSetCursor(i[r],i[r]),Kn(this,Va,i[r])}else{var l=Math.min(Gn(this,ja)[0]._count,Gn(this,ja).at(-1)._count),c=Gn(this,ja).filter((function(t){return fn.getElementDeletable(Gn(e,Ha),t)})),h=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga));fn.deleteElements(h,c),this.clearSelects(Gn(this,ja)),this.callbackSetCursor(h[l],h[l]),Kn(this,Va,h[l])}}function cr(t,e,i){var n=this;fn.createImageCache(e,(function(a){Gn(n,ja).length>0&&Xa(n,Qa,lr).call(n),Xa(n,ir,ur).call(n,t,e,a,i)}))}function hr(t,e,i){var n=this;fn.createGraphicCache(t,e,(function(a){Gn(n,ja).length>0&&Xa(n,Qa,lr).call(n),Xa(n,ir,ur).call(n,t,e,a,i)}))}function ur(t,e,i,n){var a=this.getCurrentPartData(Gn(this,Ha),Gn(this,Ga)),r=Xa(this,nr,fr).call(this,i),o=fn.createImage(t,e,r,Gn(this,Ka),a,Gn(this,Va));fn.insertElement(a,Gn(this,Va),o),this.callbackSetCursor(o,o),this.callbackRefreshByChange(n)}function fr(t){var e={},i=this.getCurrentPartModel(Gn(this,Ya),Gn(this,Ga)).getChapterSize(Gn(this,Va)),n=parseInt(i.lineWidth-i.lineLeft-i.lineRight);return e.width=t.width/s.SYS_STANDARD_RATIO,e.height=t.height/s.SYS_STANDARD_RATIO,e.width>n&&(e.height=e.height*n/e.width,e.width=n),e.height>n&&(e.width=e.width*n/e.height,e.height=n),e.view=t,e.base64=t.src,e.uuid=Ni.getUUID(),Hi.storeImage(e),e}function dr(t,e){vr(t,e),e.add(t)}function pr(t,e,i){vr(t,e),e.set(t,i)}function vr(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _r(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var Er=new WeakMap,gr=new WeakMap,Cr=new WeakMap,yr=new WeakMap,Sr=new WeakMap,Lr=new WeakMap,wr=new WeakMap,mr=new WeakMap,Tr=new WeakMap,br=new WeakMap,Or=new WeakMap,Ar=new WeakMap,Rr=new WeakMap,kr=new WeakMap,Ir=new WeakSet,Dr=new WeakSet,xr=new WeakSet,Mr=new WeakSet,Pr=new WeakSet,Nr=new WeakSet,Br=new WeakSet,Fr=new WeakSet,Wr=new WeakSet,Ur=new WeakSet,Xr=new WeakSet,Hr=new WeakSet,Yr=new WeakSet,jr=new WeakSet,Vr=new WeakSet,zr=new WeakSet,Gr=new WeakSet,Kr=new WeakSet,Zr=new WeakSet,Jr=new WeakSet,qr=new WeakSet,$r=new WeakSet,Qr=new WeakSet,to=new WeakSet,eo=new WeakSet,io=new WeakSet,no=new WeakSet,ao=new WeakSet,ro=new WeakSet,oo=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return dr(Xn(e=a.call.apply(a,[this].concat(n))),ro),dr(Xn(e),ao),dr(Xn(e),no),dr(Xn(e),io),dr(Xn(e),eo),dr(Xn(e),to),dr(Xn(e),Qr),dr(Xn(e),$r),dr(Xn(e),qr),dr(Xn(e),Jr),dr(Xn(e),Zr),dr(Xn(e),Kr),dr(Xn(e),Gr),dr(Xn(e),zr),dr(Xn(e),Vr),dr(Xn(e),jr),dr(Xn(e),Yr),dr(Xn(e),Hr),dr(Xn(e),Xr),dr(Xn(e),Ur),dr(Xn(e),Wr),dr(Xn(e),Fr),dr(Xn(e),Br),dr(Xn(e),Nr),dr(Xn(e),Pr),dr(Xn(e),Mr),dr(Xn(e),xr),dr(Xn(e),Dr),dr(Xn(e),Ir),pr(Xn(e),Er,{writable:!0,value:void 0}),pr(Xn(e),gr,{writable:!0,value:void 0}),pr(Xn(e),Cr,{writable:!0,value:void 0}),pr(Xn(e),yr,{writable:!0,value:void 0}),pr(Xn(e),Sr,{writable:!0,value:void 0}),pr(Xn(e),Lr,{writable:!0,value:void 0}),pr(Xn(e),wr,{writable:!0,value:void 0}),pr(Xn(e),mr,{writable:!0,value:void 0}),pr(Xn(e),Tr,{writable:!0,value:void 0}),pr(Xn(e),br,{writable:!0,value:void 0}),pr(Xn(e),Or,{writable:!0,value:void 0}),pr(Xn(e),Ar,{writable:!0,value:void 0}),pr(Xn(e),Rr,{writable:!0,value:void 0}),pr(Xn(e),kr,{writable:!0,value:void 0}),e}return r(o,[{key:"init",value:function(t,e,i,n,a,r,s,l,c,h){qn(Vn(o.prototype),"init",this).call(this,t,c),Kn(this,Er,t),Kn(this,gr,e),Kn(this,Cr,i),Kn(this,yr,n),Kn(this,Sr,a),Kn(this,Lr,r),Kn(this,wr,s),Kn(this,Tr,c),Kn(this,mr,l),Kn(this,br,h)}},{key:"setPendingCallBack",value:function(t){Kn(this,kr,t)}},{key:"mousedown",value:function(t){Kn(this,Or,t),Kn(this,Ar,t),Mi.isNotUndefined(Gn(this,wr))?(_r(this,Ir,so).call(this,t),this.callbackRefresh(!0)):_r(this,Mr,ho).call(this,t)}},{key:"mousemove",value:function(t){_r(this,ro,No).call(this,t)&&(Mi.isNotUndefined(Gn(this,wr))?(_r(this,Dr,lo).call(this,t),this.callbackRefresh()):_r(this,Pr,uo).call(this,t),Kn(this,Ar,t))}},{key:"mouseup",value:function(t){Gn(this,Or)&&(Mi.isUndefined(t)&&(t=Gn(this,Ar)),Mi.isNotUndefined(Gn(this,wr))?_r(this,xr,co).call(this,t):_r(this,Nr,fo).call(this,t),Kn(this,Or,void 0),this.callbackRefresh())}},{key:"mousecursor",value:function(t){var e=this.getCanvasOffset(t),i="text",n="move",a=Zi.isEdit(),r=_r(this,Zr,bo).call(this,e.offsetX,e.offsetY,!a);if(r.type==s.CLICK_TYPE_ELEMENT)fn.isImageBlock(r.element)&&(i=n);else if(r.type==s.CLICK_TYPE_COMP_BUTTON)i="pointer";else if(r.type==s.CLICK_TYPE_TABLE_BORDER)i=r.border==s.TABLE_BORDER_BOT||r.border==s.TABLE_BORDER_TOP?"row-resize":"col-resize";else if(r.type==s.CLICK_TYPE_IMAGE_BLOCK)if(Gn(this,Lr)){var o=_r(this,$r,Ro).call(this,e,r.element);i=Mi.isNotUndefined(o)?o.c:n}else i=n;else if(r.type==s.CLICK_TYPE_OBJECT)if(Gn(this,Lr)&&fn.isLineObject(r.element)){var l=_r(this,Qr,ko).call(this,e,r.element);i=Mi.isNotUndefined(l)?l.c:n}else if(Gn(this,Lr)&&fn.isRectObject(r.element)){var c=_r(this,to,Io).call(this,e,r.element);i=Mi.isNotUndefined(c)?c.c:n}else i=n;this.callbackCursorStyle(i)}},{key:"mousemenu",value:function(t){var e=this.getCanvasOffset(t),i=_r(this,eo,Do).call(this,t);if(Gn(this,Tr)!=i){var n={type:"1",seg:i,event:t};this.callbackContextMenu(n)}else{var a=_r(this,Zr,bo).call(this,e.offsetX,e.offsetY,!0),r=_r(this,Zr,bo).call(this,e.offsetX,e.offsetY,!1),o=this.getCurrentPartModel(Gn(this,gr),Gn(this,Tr)),s=o.findTableMergeInfo(Gn(this,Cr)),l=o.isTableElement(Gn(this,Sr),Gn(this,Cr)),c=_r(this,no,Mo).call(this,a.element),h=Zi.isEdit(),u=Zi.isNote(),f={event:t,type:"0",copy:Gn(this,Cr).length>0,paste:h,paragraph:h,symbols:h,table:h&&l,tableMerge:s.rect,tableSplit:0==Gn(this,Cr).length,tableDeleteRow:s.arow,tableDeleteCol:s.acol,tableDeleteCell:!s.cell&&l,tableDelete:s.table,tableBorder:s.border,compClass:h&&c.compClass,compID:c.compID,comments:Gn(this,Cr).length>0&&u,image:h&&r.element&&r.element.property.classify==fn.CLS_IMAGE,gahcode:h&&r.element&&r.element.property.classify==fn.CLS_GAHCODE,expExtent:h&&r.element&&r.element.extend};this.callbackContextMenu(f)}}},{key:"mousedblclick",value:function(t){if(Zi.isEdit()){var e=_r(this,eo,Do).call(this,t),i=this.getCanvasOffset(t);if(e==Gn(this,Tr)){Kn(this,Rr,_r(this,Zr,bo).call(this,i.offsetX,i.offsetY,!0));var n=Gn(this,Rr).element,a=this.getCurrentPartData(Gn(this,Er),Gn(this,Tr)),r=fn.getParagraphElements(a,n);this.arrangeElements(a,Gn(this,Cr),r),this.callbackRefresh(!0)}else Kn(this,Tr,e),this.callbackChangePart(Gn(this,Tr)),Kn(this,Rr,_r(this,Zr,bo).call(this,i.offsetX,i.offsetY,!1)),_r(this,Hr,Co).call(this),this.callbackChange(),this.callbackRefresh(!0)}}},{key:"selectall",value:function(){var t=this.getCurrentPartData(Gn(this,Er),Gn(this,Tr)),e=_r(this,Zr,bo).call(this,9999999999999,9999999999999,!0),i=this.getCurrentPartModel(Gn(this,gr),Gn(this,Tr)).selectElement(t[0],e.element);this.arrangeElements(t,Gn(this,Cr),i),this.callbackRefresh(!0)}}]),o}(ua);function so(t){var e=this.getCanvasOffset(t);hn.debug("mousedown1 [".concat(e.offsetX,",").concat(e.offsetY,"]")),Gn(this,wr)._drag_offset.y1=e.offsetY,Gn(this,wr)._drag_offset.x1=e.offsetX,Gn(this,wr).offset.y1=e.offsetY,Gn(this,wr).offset.x1=e.offsetX,this.callbackCursorStyle("crosshair")}function lo(t){var e=this.getCanvasOffset(t);hn.debug("mousemove1 [".concat(e.offsetX,",").concat(e.offsetY,"]")),Gn(this,wr)._drag_offset.y2=e.offsetY,Gn(this,wr)._drag_offset.x2=e.offsetX,this.callbackCursorStyle("crosshair")}function co(t){var e=this.getCanvasOffset(t);hn.debug("mouseup1 [".concat(e.offsetX,",").concat(e.offsetY,"]")),Gn(this,wr)._drag_offset.y2=e.offsetY,Gn(this,wr)._drag_offset.x2=e.offsetX,Gn(this,wr).offset.y2=e.offsetY,Gn(this,wr).offset.x2=e.offsetX,this.callbackCursorStyle("crosshair"),Gn(this,kr).call(this)}function ho(t){var e=this.getCanvasOffset(t);hn.debug("mousedown [".concat(e.offsetX,",").concat(e.offsetY,"]"));var i=Zi.isEdit();Kn(this,Rr,_r(this,Zr,bo).call(this,e.offsetX,e.offsetY,!i)),Gn(this,Rr).type==s.CLICK_TYPE_ELEMENT?(_r(this,Hr,Co).call(this),this.callbackRefresh(!0)):Gn(this,Rr).type==s.CLICK_TYPE_COMP_BUTTON?(_r(this,Hr,Co).call(this),_r(this,Kr,To).call(this),this.callbackChange()):Gn(this,Rr).type==s.CLICK_TYPE_COMP_POP?(_r(this,Hr,Co).call(this),this.callbackRefresh(!1)):Gn(this,Rr).type==s.CLICK_TYPE_TABLE_BORDER?(_r(this,Yr,yo).call(this),this.callbackRefresh(!1)):Gn(this,Rr).type==s.CLICK_TYPE_IMAGE_BLOCK?(_r(this,jr,So).call(this,e),this.callbackRefresh(!0)):Gn(this,Rr).type==s.CLICK_TYPE_OBJECT?(_r(this,Vr,Lo).call(this,e),this.callbackRefresh(!0)):(_r(this,Hr,Co).call(this),this.callbackRefresh(!0))}function uo(t){var e=this.getCanvasOffset(t);if(hn.debug("mousemove [".concat(e.offsetX,",").concat(e.offsetY,"]")),Gn(this,Rr).type==s.CLICK_TYPE_ELEMENT||Gn(this,Rr).type==s.CLICK_TYPE_COMP_POP){var i,n=this.getCurrentPartModel(Gn(this,gr),Gn(this,Tr)),a=this.getCurrentPartData(Gn(this,Er),Gn(this,Tr)),r=_r(this,Zr,bo).call(this,e.offsetX,e.offsetY,!0);i=r.element._count>Gn(this,Rr).element._count?n.selectElement(Gn(this,Rr).element,r.element):n.selectElement(r.element,Gn(this,Rr).element),this.arrangeElements(a,Gn(this,Cr),i),this.callbackRefresh(!1)}else Gn(this,Rr).type==s.CLICK_TYPE_TABLE_BORDER?(Gn(this,Rr).border==s.TABLE_BORDER_LEFT||Gn(this,Rr).border==s.TABLE_BORDER_RIGHT?Gn(this,mr).setType(s.DRAG_VIEW_LINE_V,e):Gn(this,mr).setType(s.DRAG_VIEW_LINE_H,e),this.callbackRefresh(!1)):Gn(this,Rr).type==s.CLICK_TYPE_IMAGE_BLOCK?(_r(this,zr,wo).call(this,t),this.callbackRefresh(!0)):Gn(this,Rr).type==s.CLICK_TYPE_OBJECT&&(_r(this,Gr,mo).call(this,t),this.callbackRefresh(!0))}function fo(t){var e=this.getCanvasOffset(t);if(hn.debug("mouseup [".concat(e.offsetX,",").concat(e.offsetY,"]")),Gn(this,Rr))if(Gn(this,Rr).type==s.CLICK_TYPE_ELEMENT);else if(Gn(this,Rr).type==s.CLICK_TYPE_COMP_POP){if(_r(this,Zr,bo).call(this,e.offsetX,e.offsetY,!1).element==Gn(this,Rr).element){var i=fn.getResourceCompInfo(Gn(this,Er),Gn(this,Rr).element.modular.dataID);if(Ni.isNotBlank(i.property.datasource)?i.dataurl=Ni.template(i.property.datasource,Gn(this,br)):delete i.dataurl,_r(this,ao,Po).call(this,Gn(this,Rr).element)){var n=JSON.parse(JSON.stringify(i));n.event=t,this.callbackPopMenu(n)}}}else Gn(this,Rr).type==s.CLICK_TYPE_TABLE_BORDER?(_r(this,Br,po).call(this,t),this.callbackSaveMirror(ua.CHANGE_TABLE_SIZE),this.callbackChange(),Gn(this,mr).setType(s.DRAG_VIEW_NONE)):Gn(this,Rr).type==s.CLICK_TYPE_IMAGE_BLOCK?(_r(this,Ur,Eo).call(this,t),this.callbackSaveMirror(ua.CHANGE_BLOCK_SIZE),this.callbackChange(),Gn(this,mr).setType(s.DRAG_VIEW_NONE)):Gn(this,Rr).type==s.CLICK_TYPE_OBJECT&&(_r(this,Xr,go).call(this,t),this.callbackSaveMirror(ua.CHANGE_OBJECT_SIZE),this.callbackChange(),Gn(this,mr).setType(s.DRAG_VIEW_NONE))}function po(t){var e=this.getCanvasOffset(Gn(this,Or)),i=this.getCanvasOffset(t),n=Gn(this,Rr).cell,a=Gn(this,Rr).border,r=Gn(this,Rr).all;a==s.TABLE_BORDER_TOP?_r(this,Fr,vo).call(this,n.property.row-n.property.rowspan,r,i.offsetY-e.offsetY):a==s.TABLE_BORDER_BOT?_r(this,Fr,vo).call(this,n.property.row,r,i.offsetY-e.offsetY):a==s.TABLE_BORDER_LEFT?_r(this,Wr,_o).call(this,n.property.col-n.property.colspan,r,i.offsetX-e.offsetX):a==s.TABLE_BORDER_RIGHT&&_r(this,Wr,_o).call(this,n.property.col,r,i.offsetX-e.offsetX)}function vo(t,e,i){t>=0&&e.forEach((function(e){e.property.row==t&&(e.property.preHeight=Math.max(e.property.preHeight+i,s.TABLE_FIELD_MIN_HEIGHT))}))}function _o(t,e,i){var n=0,a=0,r=0,o=[];e.forEach((function(t){0==t.property.row&&(n=Math.max(n,t.property.col),a=t.property.indentRight,r=t.property.indentLeft,o.push(t.property.preWidth))}));var l=void 0;t<0?(l=i>=0?Math.min(i,o[0]-s.TABLE_FIELD_MIN_WIDTH):i,r+=l,o[0]-=l):t<n?(l=i>=0?Math.min(i,o[t+1]-s.TABLE_FIELD_MIN_WIDTH):-1*Math.min(Math.abs(i),o[t]-s.TABLE_FIELD_MIN_WIDTH),o[t]+=l,o[t+1]-=l):(l=i>=0?i:-1*Math.min(Math.abs(i),o[t]-s.TABLE_FIELD_MIN_WIDTH),o[t]+=l,a-=l),e.forEach((function(t){t.property.preWidth=o[t.property.col],t.property.indentRight=a,t.property.indentLeft=r}))}function Eo(){if(Gn(this,Lr)&&fn.isImageBlock(Gn(this,Lr))){var t=Gn(this,Lr)._drag_size,e=Gn(this,Lr).extend;e.width=Math.abs(t.width),e.height=Math.abs(t.height)}}function go(){(Gn(this,Lr)&&fn.isLineObject(Gn(this,Lr))||Gn(this,Lr)&&fn.isRectObject(Gn(this,Lr)))&&(Gn(this,Lr).offset.x1=Gn(this,Lr)._drag_offset.x1,Gn(this,Lr).offset.y1=Gn(this,Lr)._drag_offset.y1,Gn(this,Lr).offset.x2=Gn(this,Lr)._drag_offset.x2,Gn(this,Lr).offset.y2=Gn(this,Lr)._drag_offset.y2)}function Co(){var t=this;this.clearSelects(Gn(this,Cr));var e=this.getCurrentPartData(Gn(this,Er),Gn(this,Tr)),i=Gn(this,Rr).element,n=Gn(this,Rr).element;if(Gn(this,Rr).next){var a=e.findIndex((function(e){return e===Gn(t,Rr).element}));n=e[a+1]}if(fn.isInsideTextbox(e,n)){var r=fn.getElementComps(e,n);r.findIndex((function(t){if(t.property.type==fn.TYPE_TEXT&&t.property.classify==fn.CLS_TEXT_CHAR&&!t.property.placeholder)return!0}))<0&&this.arrangeElements(e,Gn(this,Cr),r.slice(1,r.length-1))}this.callbackSetCursor(i,n)}function yo(){}function So(t){if(Gn(this,Lr)===Gn(this,Rr).element){var e=_r(this,$r,Ro).call(this,t,Gn(this,Rr).element);Mi.isNotUndefined(e)?Gn(this,Rr).point=e.i:Gn(this,Rr).point=-1}else Gn(this,Rr).point=-1,this.clearSelects(Gn(this,Cr)),this.callbackSetCursor(Gn(this,Rr).element,Gn(this,Rr).element,Gn(this,Rr).element)}function Lo(t){if(Gn(this,Lr)===Gn(this,Rr).element){if(fn.isLineObject(Gn(this,Lr))){var e=_r(this,Qr,ko).call(this,t,Gn(this,Rr).element);Mi.isNotUndefined(e)?Gn(this,Rr).point=e.i:Gn(this,Rr).point=-1}else if(fn.isRectObject(Gn(this,Lr))){var i=_r(this,to,Io).call(this,t,Gn(this,Rr).element);Mi.isNotUndefined(i)?Gn(this,Rr).point=i.i:Gn(this,Rr).point=-1}}else Gn(this,Rr).point=-1,this.clearSelects(Gn(this,Cr)),this.callbackSetCursor(Gn(this,yr),Gn(this,Sr),Gn(this,Rr).element)}function wo(t){var e=this.getCanvasOffset(Gn(this,Ar)),i=this.getCanvasOffset(t),n=i.offsetX-e.offsetX,a=i.offsetY-e.offsetY,r=Gn(this,Lr)._drag_size,o=Gn(this,Lr)._drag_offset;0==Gn(this,Rr).point?(r.height=r.height-a,r.width=r.width-n,o.offsetX+=n,o.offsetY+=a):1==Gn(this,Rr).point?(o.offsetY+=a,r.height=r.height-a):2==Gn(this,Rr).point?(o.offsetY+=a,r.height=r.height-a,r.width=r.width+n):3==Gn(this,Rr).point?(o.offsetX+=n,r.width=r.width-n):4==Gn(this,Rr).point?r.width=r.width+n:5==Gn(this,Rr).point?(o.offsetX+=n,r.height=r.height+a,r.width=r.width-n):6==Gn(this,Rr).point?r.height=r.height+a:7==Gn(this,Rr).point&&(r.height=r.height+a,r.width=r.width+n),Gn(this,mr).setType(s.DRAG_VIEW_IMAGE,Gn(this,Lr))}function mo(t){var e=this.getCanvasOffset(t);if(fn.isLineObject(Gn(this,Lr))){var i=Gn(this,Lr)._drag_offset;if(0==Gn(this,Rr).point)i.x1=e.offsetX,i.y1=e.offsetY;else if(1==Gn(this,Rr).point)i.x2=e.offsetX,i.y2=e.offsetY;else{var n=this.getCanvasOffset(Gn(this,Ar));i.x1+=e.offsetX-n.offsetX,i.y1+=e.offsetY-n.offsetY,i.x2+=e.offsetX-n.offsetX,i.y2+=e.offsetY-n.offsetY}}else if(fn.isRectObject(Gn(this,Lr))){var a=Gn(this,Lr)._drag_offset;if(0==Gn(this,Rr).point)a.x1=e.offsetX,a.y1=e.offsetY;else if(1==Gn(this,Rr).point)a.y1=e.offsetY;else if(2==Gn(this,Rr).point)a.x2=e.offsetX,a.y1=e.offsetY;else if(3==Gn(this,Rr).point)a.x1=e.offsetX;else if(4==Gn(this,Rr).point)a.x2=e.offsetX;else if(5==Gn(this,Rr).point)a.x1=e.offsetX,a.y2=e.offsetY;else if(6==Gn(this,Rr).point)a.y2=e.offsetY;else if(7==Gn(this,Rr).point)a.x2=e.offsetX,a.y2=e.offsetY;else{var r=this.getCanvasOffset(Gn(this,Ar));a.x1+=e.offsetX-r.offsetX,a.y1+=e.offsetY-r.offsetY,a.x2+=e.offsetX-r.offsetX,a.y2+=e.offsetY-r.offsetY}}Gn(this,mr).setType(s.DRAG_VIEW_OBJECT,Gn(this,Lr))}function To(){var t=Gn(this,Rr).element;if(_r(this,io,xo).call(this)&&t)if(t.property.classify==fn.CLS_CHECKBOX_BOTTON){var e=fn.getResourceCompInfo(Gn(this,Er),t.modular.dataID),i=Math.abs(t.property.code-1);t.property.code=i,e.property.value=i,this.changeComponentValueAction()}else t.property.classify==fn.CLS_RADIOBOX_BOTTON&&(fn.getResourceCompInfo(Gn(this,Er),t.modular.dataID).property.value=t.property.code,this.changeComponentValueAction())}function bo(t,e,i){var n=this.getCurrentPartOffset(Gn(this,gr),Gn(this,Tr),t,e),a=this.getCurrentPartModel(Gn(this,gr),Gn(this,Tr));if(i)return a.localeElement(n.offsetX,n.offsetY);if(Gn(this,Lr)){var r=_r(this,qr,Ao).call(this,t,e);if(Mi.isNotUndefined(r))return r}var o=_r(this,Jr,Oo).call(this,Gn(this,Er).resources.objects.above,t,e);if(Mi.isNotUndefined(o))return{element:o,type:s.CLICK_TYPE_OBJECT};var l=a.positionElement(n.offsetX,n.offsetY);return Mi.isNotUndefined(l)?l:a.localeElement(n.offsetX,n.offsetY)}function Oo(t,e,i){return t.find((function(t){if(fn.isLineObject(t)){var n=t.offset;return ki.pointToLineDistance(e,i,n.x1,n.y1,n.x2,n.y2)<=s.LEN_GAP_DRAG}if(fn.isRectObject(t)){if(t.property.classify==fn.OBJECT_SHAPE_RECT){var a=t.offset;return ki.pointToRectDistance(e,i,a.x1,a.y1,a.x2,a.y2)<=s.LEN_GAP_DRAG}if(t.property.classify==fn.OBJECT_SHAPE_ELLIPSE){var r=t.offset;return ki.pointToEllipseDistance(e,i,r.x1,r.y1,r.x2,r.y2)<=s.LEN_GAP_DRAG}if(t.property.classify==fn.OBJECT_SHAPE_TRIANGLE){var o=t.offset;return ki.pointToTriangleDistance(e,i,o.x1,o.y1,o.x2,o.y2)<=s.LEN_GAP_DRAG}return!1}return!1}))}function Ao(t,e){if(fn.isImageBlock(Gn(this,Lr))){var i=_r(this,$r,Ro).call(this,{offsetX:t,offsetY:e},Gn(this,Lr));if(Mi.isNotUndefined(i))return{element:Gn(this,Lr),type:s.CLICK_TYPE_IMAGE_BLOCK}}else if(fn.isLineObject(Gn(this,Lr))){var n=_r(this,Qr,ko).call(this,{offsetX:t,offsetY:e},Gn(this,Lr));if(Mi.isNotUndefined(n))return{element:Gn(this,Lr),type:s.CLICK_TYPE_OBJECT}}else if(fn.isRectObject(Gn(this,Lr))){var a=_r(this,to,Io).call(this,{offsetX:t,offsetY:e},Gn(this,Lr));if(Mi.isNotUndefined(a))return{element:Gn(this,Lr),type:s.CLICK_TYPE_OBJECT}}}function Ro(t,e){return ki.getBlockDragRect(e._offset,e._size,s.LEN_BLOCK_DRAG).find((function(e){return ki.pointInRect({x:t.offsetX,y:t.offsetY},e)}))}function ko(t,e){if(fn.isLineObject(e))return ki.getLineObjectDrag(e.offset.x1,e.offset.y1,e.offset.x2,e.offset.y2,s.LEN_BLOCK_DRAG).find((function(e){return ki.pointInRect({x:t.offsetX,y:t.offsetY},e)}))}function Io(t,e){if(fn.isRectObject(e))return ki.getRectObjectDrag(e.offset.x1,e.offset.y1,e.offset.x2,e.offset.y2,s.LEN_BLOCK_DRAG).find((function(e){return ki.pointInRect({x:t.offsetX,y:t.offsetY},e)}))}function Do(t){var e=this.getCanvasOffset(t),i=Gn(this,gr).getPageSize(),n=e.offsetY%i.pxHeight;return n<i.pxHeaderHeight?s.CONTENT_PART_HEADER:n>i.pxHeight-i.pxFooterHeight?s.CONTENT_PART_FOOTER:s.CONTENT_PART_BODY}function xo(){var t=[s.CONF_MODAL_DEF,s.CONF_MODAL_EDT],e=Zi.getConfig();return!!t.includes(e.modal)}function Mo(t){var e=[s.CONF_MODAL_DEF,s.CONF_MODAL_DES],i=Zi.getConfig();return e.includes(i.modal)?fn.getElementCompCls(t):{}}function Po(t){var e=[s.CONF_MODAL_DEF,s.CONF_MODAL_EDT],i=Zi.getConfig();return!!e.includes(i.modal)&&fn.getElementEditable(Gn(this,Er),t)}function No(t){return Gn(this,Or)&&t.timeStamp-Gn(this,Ar).timeStamp>20}function Bo(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}var Fo=new WeakMap,Wo=new WeakMap,Uo=new WeakMap,Xo=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Bo(Xn(e=a.call.apply(a,[this].concat(n))),Fo,{writable:!0,value:void 0}),Bo(Xn(e),Wo,{writable:!0,value:void 0}),Bo(Xn(e),Uo,{writable:!0,value:void 0}),e}return r(o,[{key:"init",value:function(t,e,i){qn(Vn(o.prototype),"init",this).call(this,t,i),Kn(this,Fo,t),Kn(this,Wo,e),Kn(this,Uo,i)}},{key:"changeEditPart",value:function(t){if(Zi.isEdit()&&t!=Gn(this,Uo)){var e=this.getCurrentPartData(Gn(this,Fo),t);this.callbackChangePart(t),this.callbackSetCursor(e[0],e[0]),this.clearSelects(Gn(this,Wo)),this.callbackChange(),this.callbackRefresh()}}},{key:"changePaperInfo",value:function(t){Zi.isDesign()&&(Object.assign(Gn(this,Fo).paper,t),this.callbackChange(),this.callbackRefresh())}},{key:"changePageNum",value:function(t){Zi.isDesign()&&(Gn(this,Fo).page.number=t.number,Gn(this,Fo).page.format=t.format,Gn(this,Fo).page.align=t.align,Gn(this,Fo).page.size=t.size,Gn(this,Fo).page.family=t.family,this.callbackChange(),this.callbackRefresh())}},{key:"changeCommentsView",value:function(t){Zi.isEdit()&&(Zi.setCommentsModal(t),this.callbackChange(),this.callbackRefresh())}}]),o}(ua);function Ho(t,e){jo(t,e),e.add(t)}function Yo(t,e,i){jo(t,e),e.set(t,i)}function jo(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Vo(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var zo=new WeakMap,Go=new WeakMap,Ko=new WeakMap,Zo=new WeakMap,Jo=new WeakSet,qo=new WeakSet,$o=new WeakSet,Qo=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Ho(Xn(e=a.call.apply(a,[this].concat(n))),$o),Ho(Xn(e),qo),Ho(Xn(e),Jo),Yo(Xn(e),zo,{writable:!0,value:void 0}),Yo(Xn(e),Go,{writable:!0,value:void 0}),Yo(Xn(e),Ko,{writable:!0,value:void 0}),Yo(Xn(e),Zo,{writable:!0,value:void 0}),e}return r(o,[{key:"init",value:function(t,e,i,n){qn(Vn(o.prototype),"init",this).call(this,t,n),Kn(this,zo,t),Kn(this,Ko,e),Kn(this,Go,i),Kn(this,Zo,n)}},{key:"changeTextStyle",value:function(t){Zi.isEdit()&&Vo(this,Jo,ts).call(this,t,ua.CHANGE_TEXT_STYLE)}},{key:"changeParagStyle",value:function(t){var e=this;Zi.isEdit()&&(Object.keys(t).forEach((function(e){Mi.isUndefined(t[e])&&delete t[e]})),Gn(this,Ko).length>0?(Gn(this,Ko).length>2&&Gn(this,Ko).forEach((function(i){i.property.type==fn.TYPE_STRUCT&&Vo(e,qo,es).call(e,i,t)})),Vo(this,qo,es).call(this,Gn(this,Ko)[0],t),Vo(this,qo,es).call(this,Gn(this,Ko).at(-1),t)):Vo(this,qo,es).call(this,Gn(this,Go),t),this.callbackRefreshByChange(ua.CHANGE_PARAG_STYLE))}},{key:"changeFontColor",value:function(t){if(Zi.isEdit()){Vo(this,Jo,ts).call(this,{color:t},ua.CHANGE_FONT_COLOR);var e=Gn(this,zo).config.usedColors;e.unshift(t),e.length>20&&e.splice(20,e.length-20)}}},{key:"getParagStyle",value:function(){if(Gn(this,Ko).length>0){for(var t=[],e=0;e<Gn(this,Ko).length;e++){var i=Gn(this,Ko)[e];i.property.type==fn.TYPE_STRUCT&&t.push(i.paragStyle)}Gn(this,Ko).at(-1).type!=fn.TYPE_STRUCT&&t.push(Vo(this,$o,is).call(this,Gn(this,Ko).at(-1)));var n=Object.assign({},t.at(0));return t.forEach((function(t){["align","indentLeft","indentRight","indentSpecialType","indentSpecialvalue","rowspac","segmentSpacPre","segmentSpacAft"].forEach((function(e){t[e]!=n[e]&&delete n[e]}))})),n}return Vo(this,$o,is).call(this,Gn(this,Go))}},{key:"getUsedColors",value:function(){return Gn(this,zo)?Gn(this,zo).config.usedColors:[]}}]),o}(ua);function ts(t,e){Gn(this,Ko).length>0&&(Gn(this,Ko).forEach((function(e){Object.assign(e.textStyle,t)})),this.callbackRefreshByChange(e))}function es(t,e){for(var i=this.getCurrentPartData(Gn(this,zo),Gn(this,Zo)),n=fn.findElementIndex(i,t);n<i.length;n++){var a=i[n];if(a.property.type==fn.TYPE_STRUCT){Object.assign(a.paragStyle,e);break}}}function is(t){for(var e=this.getCurrentPartData(Gn(this,zo),Gn(this,Zo)),i=t._count;i<e.length;i++){var n=e[i];if(n.property.type==fn.TYPE_STRUCT)return n.paragStyle}}function ns(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}var as=new WeakMap,rs=new WeakMap,os=new WeakMap,ss=new WeakMap,ls=new WeakMap,cs=new WeakMap,hs=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return ns(Xn(e=a.call.apply(a,[this].concat(n))),as,{writable:!0,value:void 0}),ns(Xn(e),rs,{writable:!0,value:void 0}),ns(Xn(e),os,{writable:!0,value:void 0}),ns(Xn(e),ss,{writable:!0,value:void 0}),ns(Xn(e),ls,{writable:!0,value:void 0}),ns(Xn(e),cs,{writable:!0,value:void 0}),e}return r(o,[{key:"init",value:function(t,e,i,n,a,r){qn(Vn(o.prototype),"init",this).call(this,t,r),Kn(this,as,t),Kn(this,rs,e),Kn(this,ss,n),Kn(this,os,i),Kn(this,ls,a),Kn(this,cs,r)}},{key:"tableMerge",value:function(){if(Zi.isEdit()){var t=this.getCurrentPartData(Gn(this,as),Gn(this,cs)),e=this.getCurrentPartModel(Gn(this,rs),Gn(this,cs)).findTableMergeInfo(Gn(this,os));e.rect&&(fn.tableMerge(t,e),this.callbackSetCursor(Gn(this,os).at(-1),Gn(this,os).at(-1)),this.clearSelects(Gn(this,os)),this.callbackRefreshByChange(ua.TABLE_MERGE))}}},{key:"tableDeleteRow",value:function(){if(Zi.isEdit()){var t=this.getCurrentPartData(Gn(this,as),Gn(this,cs)),e=this.getCurrentPartModel(Gn(this,rs),Gn(this,cs)).findTableMergeInfo(Gn(this,os));if(e.rect&&e.arow){var i=fn.findNextElement(t,Gn(this,os).at(-1));fn.tableDeleteRow(t,e.fields,e.minrow,e.maxrow),this.clearSelects(Gn(this,os)),this.callbackSetCursor(i,i),this.callbackRefreshByChange(ua.TABLE_DELETE_ROW)}}}},{key:"tableDeleteCol",value:function(){if(Zi.isEdit()){var t=this.getCurrentPartData(Gn(this,as),Gn(this,cs)),e=this.getCurrentPartModel(Gn(this,rs),Gn(this,cs)).findTableMergeInfo(Gn(this,os));if(e.rect&&e.acol){var i=fn.findNextElement(t,Gn(this,os).at(-1));fn.tableDeleteCol(t,e.fields,e.mincol,e.maxcol),this.clearSelects(Gn(this,os)),this.callbackSetCursor(i,i),this.callbackRefreshByChange(ua.TABLE_DELETE_COL)}}}},{key:"tableDeleteCell",value:function(t){if(Zi.isEdit()){var e=this.getCurrentPartData(Gn(this,as),Gn(this,cs)),i=this.getCurrentPartModel(Gn(this,rs),Gn(this,cs)).findTableFieldInfo(Gn(this,ls),Gn(this,os));if("col"==t){var n=fn.tableDeleteCell(e,i.fields,i.mincol,i.maxcol,t);this.callbackSetCursor(n,n)}else{var a=fn.tableDeleteCell(e,i.fields,i.minrow,i.maxrow,t);this.callbackSetCursor(a,a)}this.clearSelects(Gn(this,os)),this.callbackRefreshByChange(ua.TABLE_DELETE_CELL)}}},{key:"tableDelete",value:function(){if(Zi.isEdit()){var t=this.getCurrentPartData(Gn(this,as),Gn(this,cs)),e=this.getCurrentPartModel(Gn(this,rs),Gn(this,cs)).findTableMergeInfo(Gn(this,os));if(e.rect&&e.table){var i=fn.findNextElement(t,Gn(this,os).at(-1));fn.tableDelete(t,Gn(this,os),e),this.clearSelects(Gn(this,os)),this.callbackSetCursor(i,i),this.callbackRefreshByChange(ua.TABLE_DELETE)}}}},{key:"tableInsertCell",value:function(t){if(Zi.isEdit()){var e=this.getCurrentPartData(Gn(this,as),Gn(this,cs)),i=this.getCurrentPartModel(Gn(this,rs),Gn(this,cs)).findTableFieldInfo(Gn(this,ls),Gn(this,os));i&&(t==s.TABLE_INSERT_ABOVE?fn.tableInsertRowAbove(e,i.minrow,i.fields):t==s.TABLE_INSERT_BELOW?fn.tableInsertRowBelow(e,i.maxrow,i.fields):t==s.TABLE_INSERT_LEFT?fn.tableInsertColLeft(e,i.mincol,i.fields):t==s.TABLE_INSERT_RIGHT&&fn.tableInsertColRight(e,i.maxcol,i.fields),this.clearSelects(Gn(this,os)),this.callbackRefreshByChange(ua.TABLE_INSERT_CELL))}}},{key:"tableSplit",value:function(t){if(Zi.isEdit()){hn.debug("tableSplit [".concat(t.rows,",").concat(t.cols,"]"));var e=this.getCurrentPartData(Gn(this,as),Gn(this,cs)),i=this.getCurrentPartModel(Gn(this,rs),Gn(this,cs)).findTableFieldInfo(Gn(this,ls),Gn(this,os)),n=i.field.at(-1).property.rowspan,a=i.field.at(-1).property.colspan,r=i.field.at(-1).property.col,o=(i.field.at(-1).property.row,i.field.at(-1).property.preWidth);if(!(t.rows>1&&n>1&&t.rows!=n||t.cols>1&&a>1&&t.cols!=a)){var s=[];if(t.rows>1?s=n>1?fn.tableSplitRowspan(i.field,i.fields):fn.tableSplitRow(e,i.field,i.fields,t.rows):s.push(i.field),t.cols>1)if(a>1)fn.tableSplitColspan(s,i.fields);else{for(var l=[],c=parseInt(o/t.cols),h=0;h<t.cols;h++)h==t.cols-1?l.push(o):l.push(c),o-=c;fn.tableSplitCol(e,s,i.fields,t.cols,l,r)}this.clearSelects(Gn(this,os)),this.callbackRefreshByChange(ua.TABLE_SPLIT)}}}},{key:"tableBorderVisible",value:function(t){Zi.isEdit()&&(this.getCurrentPartModel(Gn(this,rs),Gn(this,cs)).findTableFieldInfo(Gn(this,ls),Gn(this,os)).fields.forEach((function(e){e.at(-1).property.borderHide=t})),this.callbackRefreshByChange(ua.TABLE_BORDER_CHANGE))}},{key:"tableBorderChange",value:function(t){if(Zi.isEdit()){var e=this.getCurrentPartModel(Gn(this,rs),Gn(this,cs)).findTableFieldInfo(Gn(this,ls),Gn(this,os));"0"==t.range?e.fields.forEach((function(i){var n=i.at(-1).property;n.row>=e.minrow&&n.row<=e.maxrow&&n.col>=e.mincol&&n.col<=e.maxcol&&n.border.forEach((function(e,i){return Object.assign(e,t.border[i])}))})):e.fields.forEach((function(e){e.at(-1).property.border.forEach((function(e,i){return Object.assign(e,t.border[i])}))})),this.callbackRefreshByChange(ua.TABLE_BORDER_CHANGE)}}},{key:"tableCellInfo",value:function(){var t=this.getCurrentPartModel(Gn(this,rs),Gn(this,cs)).findTableFieldInfo(Gn(this,ls),Gn(this,os));if(t.maxrow-t.minrow==0&&t.maxcol-t.mincol==0){var e=t.fields.find((function(e){var i=e.at(-1).property;return i.row==t.maxrow&&i.col==t.maxcol}));if(e&&e.at(-1))return{border:e.at(-1).property.border.map((function(t){return Object.assign({},t)}))}}return{border:[{visible:!0},{visible:!0},{visible:!0},{visible:!0}]}}}]),o}(ua);function us(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}var fs=new WeakMap,ds=new WeakMap,ps=new WeakMap,vs=function(){function e(){t(this,e),us(this,fs,{writable:!0,value:void 0}),us(this,ds,{writable:!0,value:void 0}),us(this,ps,{writable:!0,value:void 0})}return r(e,[{key:"setState",value:function(t){Kn(this,fs,t)}},{key:"setType",value:function(t,e){Kn(this,ds,t),Kn(this,ps,e)}},{key:"getType",value:function(){return Gn(this,ds)}},{key:"getObject",value:function(){return Gn(this,ps)}},{key:"isActive",value:function(){return Gn(this,fs)}}]),e}();function _s(t,e,i){Es(t,e),e.set(t,i)}function Es(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gs(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var Cs=new WeakMap,ys=new WeakMap,Ss=new WeakMap,Ls=new WeakSet,ws=function(){function e(){var i;t(this,e),Es(this,i=Ls),i.add(this),_s(this,Cs,{writable:!0,value:void 0}),_s(this,ys,{writable:!0,value:600}),_s(this,Ss,{writable:!0,value:void 0})}return r(e,[{key:"setMillisec",value:function(t){Kn(this,ys,t)}},{key:"setAction",value:function(t){Kn(this,Ss,t)}},{key:"start",value:function(t){var e=this;clearInterval(Gn(this,Cs)),Kn(this,Cs,window.setTimeout((function(){gs(e,Ls,ms).call(e)}),t))}},{key:"pause",value:function(){window.clearInterval(Gn(this,Cs))}}]),e}();function ms(){var t=this;Gn(this,Ss).call(this),Kn(this,Cs,window.setTimeout((function(){gs(t,Ls,ms).call(t,0)}),Gn(this,ys)))}var Ts=new WeakMap,bs=new WeakMap,Os=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return _s(Xn(e=a.call.apply(a,[this].concat(n))),Ts,{writable:!0,value:void 0}),_s(Xn(e),bs,{writable:!0,value:void 0}),e}return r(o,[{key:"start",value:function(t){qn(Vn(o.prototype),"start",this).call(this,t),Kn(this,Ts,!0)}},{key:"switch",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){Kn(this,bs,t)}))},{key:"setRefresh",value:function(t){var e=this;this.setAction((function(){t(Gn(e,bs)&&Gn(e,Ts)),Kn(e,Ts,!Gn(e,Ts))}))}}]),o}(ws);function As(t,e,i){return ks(t,e),function(t,e){if(void 0===t)throw new TypeError("attempted to get private static field before its declaration")}(i),function(t,e){return e.get?e.get.call(t):e.value}(t,i)}function Rs(t,e,i){return ks(t,e),i}function ks(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}var Is=function(){function e(){t(this,e)}return r(e,null,[{key:"preview",value:function(t){var i=this,n=Rs(this,e,Ds).call(this);"Firefox"==Ri.detectBrowser()?n.onload=function(){Rs(i,e,xs).call(i,n,t.paper,t.view,t.page,t.print)}:Rs(this,e,xs).call(this,n,t.paper,t.view,t.page,t.print)}}]),e}();function Ds(){var t=document.createElement("iframe");return t.style.display="none",document.body.append(t),t.contentWindow.onafterprint=function(e){document.body.removeChild(t)},t}function xs(t,e,i,n,a){var r=t.contentWindow.document,o="".concat(e.direction==s.PAPER_ROTATION_LANDSCAPE?"landscape":"portrait"),l=r.createElement("style");l.innerHTML="@media print{@page{size:".concat(o," !important;;margin:0;padding:0}body{margin:0;padding:0;font-family:Arial,sans-serif}header,footer,.no-print,.print-header,.print-footer{display:none !important}@page{margin-top:0;margin-bottom:0}body:before,body:after{display:none !important}@page{-moz-print-header:none;-moz-print-footer:none}table{page-break-inside:avoid}.page-break{page-break-after:always}}"),r.head.appendChild(l);var c=0;i.forEach((function(t){c=Math.max(t.pageNum+1,c)}));for(var h=[],u=0;u<c;u++){var f=!(a.type==s.PRINT_TYPE_CON&&u==a.pagenum),d=r.createElementNS(As(this,Is,Ys),"svg");e.direction==s.PAPER_ROTATION_LANDSCAPE?(d.setAttribute("width","".concat(e.height/10,"mm")),d.setAttribute("height","".concat(e.width/10,"mm")),f&&Rs(this,Is,Ms).call(this,r,d,n,e.height,e.width)):(d.setAttribute("width","".concat(e.width/10,"mm")),d.setAttribute("height","".concat(e.height/10,"mm")),f&&Rs(this,Is,Ms).call(this,r,d,n,e.width,e.height)),r.body.append(d),h.push(d);var p=r.createElement("div");p.classList.add("page-break"),r.body.append(p)}Rs(this,Is,Ps).call(this,r,h,i,0,(function(){t.contentWindow.print()}))}function Ms(t,e,i,n,a){if(i.watermark){var r=Object.assign({text:"",style:"0",transparency:30,fontfamily:"",fontsize:3e4},i.watermark),o=t.createElementNS(As(this,Is,Ys),"text"),s=Ri.mmConversionPx(n/10),l=Ri.mmConversionPx(a/10);o.setAttribute("x","".concat(s/2)),o.setAttribute("y","".concat(l/2)),o.setAttribute("text-anchor","middle"),o.setAttribute("text-baseline","middle"),o.setAttribute("dominant-baseline","middle"),o.setAttribute("font-family",r.fontfamily),o.setAttribute("font-size",r.fontsize/10),o.setAttribute("fill","rgba(0,0,0,".concat(r.transparency/100,")")),"1"==r.style&&o.setAttribute("transform","rotate(-45 ".concat(s/2," ").concat(l/2,")")),o.textContent=r.text,e.appendChild(o)}}function Ps(t,e,i,n,a){var r=this;n<i.length?"line"==i[n].cls?Rs(this,Is,Ns).call(this,t,i[n],e[i[n].pageNum],(function(){Rs(r,Is,Ps).call(r,t,e,i,n+1,a)})):"text"==i[n].cls?Rs(this,Is,Bs).call(this,t,i[n],e[i[n].pageNum],(function(){Rs(r,Is,Ps).call(r,t,e,i,n+1,a)})):"image"==i[n].cls?Rs(this,Is,Fs).call(this,t,i[n],e[i[n].pageNum],(function(){Rs(r,Is,Ps).call(r,t,e,i,n+1,a)})):"strokerect"==i[n].cls?Rs(this,Is,Ws).call(this,t,i[n],e[i[n].pageNum],(function(){Rs(r,Is,Ps).call(r,t,e,i,n+1,a)})):"strokeellipse"==i[n].cls?Rs(this,Is,Us).call(this,t,i[n],e[i[n].pageNum],(function(){Rs(r,Is,Ps).call(r,t,e,i,n+1,a)})):"fillellipse"==i[n].cls?Rs(this,Is,Xs).call(this,t,i[n],e[i[n].pageNum],(function(){Rs(r,Is,Ps).call(r,t,e,i,n+1,a)})):"stroketriangle"==i[n].cls?Rs(this,Is,Hs).call(this,t,i[n],e[i[n].pageNum],(function(){Rs(r,Is,Ps).call(r,t,e,i,n+1,a)})):Rs(this,Is,Ps).call(this,t,e,i,n+1,a):a()}function Ns(t,e,i,n){var a=t.createElementNS(As(this,Is,Ys),"line");a.setAttribute("x1","".concat(e.pageX1/10)),a.setAttribute("y1","".concat(e.pageY1/10)),a.setAttribute("x2","".concat(e.pageX2/10)),a.setAttribute("y2","".concat(e.pageY2/10)),a.setAttribute("stroke",e.color),a.setAttribute("stroke-width",e.weight/10),i.appendChild(a),n()}function Bs(t,e,i,n){var a=t.createElementNS(As(this,Is,Ys),"text");a.setAttribute("x","".concat(e.pageX/10)),a.setAttribute("y","".concat(e.pageY/10)),a.setAttribute("font-family",e.font),a.setAttribute("font-size",e.size/10),a.setAttribute("fill",e.color),e.bold?(a.setAttribute("font-weight","700"),"simsun"==e.font.toLowerCase()&&(a.setAttribute("stroke",e.color),a.setAttribute("stroke-width","0.4"))):a.setAttribute("font-weight","400"),e.italic&&a.setAttribute("font-style","italic"),a.textContent=e.code,i.appendChild(a),n()}function Fs(t,e,i,n){var a=t.createElementNS(As(this,Is,Ys),"image");a.setAttribute("x","".concat(e.pageX/10)),a.setAttribute("y","".concat(e.pageY/10)),a.setAttribute("width","".concat(e.width/10)),a.setAttribute("height","".concat(e.height/10)),a.setAttribute("preserveAspectRatio","none"),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.code),i.appendChild(a),n()}function Ws(t,e,i,n){var a=t.createElementNS(As(this,Is,Ys),"rect");a.setAttribute("x","".concat(e.pageX/10)),a.setAttribute("y","".concat(e.pageY/10)),a.setAttribute("width","".concat(e.width/10)),a.setAttribute("height","".concat(e.height/10)),a.setAttribute("stroke",e.style),a.setAttribute("fill-opacity",0),i.appendChild(a),n()}function Us(t,e,i,n){var a=t.createElementNS(As(this,Is,Ys),"ellipse");a.setAttribute("cx","".concat(e.pageX/10)),a.setAttribute("cy","".concat(e.pageY/10)),a.setAttribute("rx","".concat(e.width/10)),a.setAttribute("ry","".concat(e.height/10)),a.setAttribute("stroke",e.style),a.setAttribute("fill-opacity",0),a.setAttribute("stroke-width",e.linewidth/10),i.appendChild(a),n()}function Xs(t,e,i,n){var a=t.createElementNS(As(this,Is,Ys),"ellipse");a.setAttribute("cx","".concat(e.pageX/10)),a.setAttribute("cy","".concat(e.pageY/10)),a.setAttribute("rx","".concat(e.width/10)),a.setAttribute("ry","".concat(e.height/10)),a.setAttribute("stroke",e.style),a.setAttribute("fill-opacity",1),a.setAttribute("stroke-width",e.linewidth/10),i.appendChild(a),n()}function Hs(t,e,i,n){var a=t.createElementNS(As(this,Is,Ys),"polygon"),r=[e.pageX1/10,e.pageY1/10,e.pageX2/10,e.pageY2/10,e.pageX3/10,e.pageY3/10];a.setAttribute("points",r.join(",")),a.setAttribute("stroke",e.style),a.setAttribute("fill","none"),a.setAttribute("stroke-width",e.linewidth/10),i.appendChild(a),n()}var Ys={writable:!0,value:"http://www.w3.org/2000/svg"};function js(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),i}var Vs=function(){function e(){t(this,e)}return r(e,null,[{key:"filePreview",value:function(t){var e={type:s.PRINT_TYPE_DEF};Is.preview({view:t.view,paper:t.paper,page:t.page,info:t.info,print:e})}},{key:"filePrint",value:function(t){var e={type:s.PRINT_TYPE_DEF};Is.preview({view:t.view,paper:t.paper,page:t.page,info:t.info,print:e})}},{key:"fileContinuePrint",value:function(t,e,i){var n=e.getPageSize(),a=Math.floor(i/n.pxHeight),r=i%n.pxHeight,o=n.pxHeight-n.pxFooterHeight;console.info(n,i,a,r,o);var l=[];t.view.forEach((function(t){t.pageNum==a?(t.pageNum=t.pageNum-a,"line"==t.cls?t.pageY1>r&&t.pageY2>r&&t.pageY1<o&&t.pageY2<o&&l.push(t):"text"==t.cls||"image"==t.cls||"strokerect"==t.cls||"strokeellipse"==t.cls||"fillellipse"==t.cls?t.pageY>r&&t.pageY<o&&l.push(t):"stroketriangle"==t.cls&&t.pageY1>r&&t.pageY2>r&&t.pageY3>r&&t.pageY1<o&&t.pageY2<o&&t.pageY3<o&&l.push(t)):t.pageNum>a&&(t.pageNum=t.pageNum-a,l.push(t))}));var c={type:s.PRINT_TYPE_CON,pagenum:a};Is.preview({view:l,paper:t.paper,page:t.page,info:t.info,print:c})}},{key:"fileExpImage",value:function(t,i){var n=this,a=t.toDataURL({format:"image/png",quality:1}),r=new Image;r.src=a,r.onload=function(){var a=document.createElement("canvas");a.width=t.width,a.height=t.height;var o=a.getContext("2d");o.fillStyle="#ffffff",o.fillRect(0,0,a.width,a.height),o.drawImage(r,0,0,a.width,a.height);var s="".concat(i.info.name,"-").concat(Date.now(),".png");js(n,e,Gs).call(n,a.toDataURL({format:"image/png",quality:1}),s)}}},{key:"fileDownload",value:function(t,i,n){var a=window.URL.createObjectURL(new Blob(n?[this.compressData(t)]:[t]));js(this,e,Gs).call(this,a,i)}},{key:"compressData",value:function(t){var i=JSON.parse(JSON.stringify(t));return js(this,e,zs).call(this,i.body),js(this,e,zs).call(this,i.footer),js(this,e,zs).call(this,i.header),this.compressJson(i)}},{key:"loadData",value:function(t,e,i){var n=[];t.header.forEach((function(t){fn.isImageBlock(t)&&n.push(t)})),t.body.forEach((function(t){fn.isImageBlock(t)&&n.push(t)})),t.footer.forEach((function(t){fn.isImageBlock(t)&&n.push(t)})),fn.loadImageCache(n,0,(function(t){e("正在加载".concat(t+1,"/").concat(n.length,"图片"))}),(function(){i(t)}))}},{key:"compressJson",value:function(t){var e=JSON.stringify(t);return Bi.zip(e)}},{key:"extractJson",value:function(t){return JSON.parse(Bi.unzip(t))}}]),e}();function zs(t){t.forEach((function(t){delete t._size,delete t._drag_size,delete t._offset,delete t._drag_offset}))}function Gs(t,e){var i=document.createElement("a");i.href=t,i.setAttribute("download",e),i.click()}var Ks=function(){function e(){t(this,e)}var i,n;return r(e,null,[{key:"copy",value:(n=Un(Jn().mark((function t(i,n){return Jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.writeText(i);case 3:hn.debug("navigator.clipboard"),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),hn.debug("commandCopy"),js(this,e,Zs).call(this,i);case 10:case"end":return t.stop()}}),t,this,[[0,6]])}))),function(t,e){return n.apply(this,arguments)})},{key:"paste",value:(i=Un(Jn().mark((function t(){return Jn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.readText();case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",js(this,e,Js).call(this));case 9:case"end":return t.stop()}}),t,this,[[0,6]])}))),function(){return i.apply(this,arguments)})}]),e}();function Zs(t){var e=document.createElement("input");e.setAttribute("value",t),e.classList.add("editor-clipboard"),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}function Js(){var t=document.createElement("input");t.classList.add("editor-clipboard"),document.body.appendChild(t),t.focus(),document.execCommand("paste");var e=t.value;return document.body.removeChild(t),e}function qs(t,e){Qs(t,e),e.add(t)}function $s(t,e,i){Qs(t,e),e.set(t,i)}function Qs(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tl(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var el=new WeakMap,il=new WeakMap,nl=new WeakSet,al=new WeakSet,rl=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e;return t(this,o),qs(Xn(e=a.call(this)),al),qs(Xn(e),nl),$s(Xn(e),el,{writable:!0,value:void 0}),$s(Xn(e),il,{writable:!0,value:void 0}),Kn(Xn(e),el,[]),Kn(Xn(e),il,[]),e}return r(o,[{key:"reset",value:function(){Gn(this,el).splice(0,Gn(this,el).length),Gn(this,il).splice(0,Gn(this,il).length)}},{key:"save",value:function(t,e,i,n,a,r,o){Gn(this,il).splice(0,Gn(this,il).length),tl(this,nl,ol).call(this,t,e,i,n,a,r,o)}},{key:"prev",value:function(){return Gn(this,il).push(Gn(this,el).pop()),tl(this,al,sl).call(this,Gn(this,el),-1)}},{key:"next",value:function(){return Gn(this,el).push(Gn(this,il).pop()),tl(this,al,sl).call(this,Gn(this,el),-1)}},{key:"stackSize",value:function(){return Gn(this,el).length}},{key:"recycleSize",value:function(){return Gn(this,il).length}}]),o}($n);function ol(t,e,i,n,a,r,o){var s=this.getCurrentPartData(i,n),l=a.map((function(t){return s.findIndex((function(e){return e===t}))})),c=s.findIndex((function(t){return t===r})),h=s.findIndex((function(t){return t===o})),u={action:t,options:e,data:JSON.stringify(i),part:n,selects:l,insert:c,cursor:h};Gn(this,el).push(u)}function sl(t,e){var i=t.at(e),n=JSON.parse(i.data);n.header.forEach((function(t){fn.isImageBlock(t)&&(t.extend.view=Hi.getImage(t.extend.uuid))})),n.body.forEach((function(t){fn.isImageBlock(t)&&(t.extend.view=Hi.getImage(t.extend.uuid))})),n.footer.forEach((function(t){fn.isImageBlock(t)&&(t.extend.view=Hi.getImage(t.extend.uuid))}));var a=this.getCurrentPartData(n,i.part),r=i.selects.map((function(t){return a.at(t)}));return{data:n,part:i.part,selects:r,insert:a.at(i.insert),cursor:a.at(i.cursor)}}function ll(t){throw new TypeError('"'+t+'" is read-only')}function cl(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),i}var hl=function(){function e(){t(this,e)}return r(e,null,[{key:"lineFeel",value:function(t,e){e=e||1;var i=s.STYLE_LINE_HEIGHT,n=e*i,a=parseInt(t*this.SIZE_SCALE),r=Math.max(Math.ceil(t*this.LINE_SCALE/i)*i,n);return{width:0,height:r,lineHeight:r,baseLine:parseInt((r-a)/2),fontHeight:a,descent:parseInt(t*this.BASELINE_SCALE)}}},{key:"divder",value:function(t,e,i){e=e||1;var n=s.STYLE_LINE_HEIGHT,a=e*n,r=i,o=parseInt(t*this.SIZE_SCALE),l=Math.max(Math.ceil(t*this.LINE_SCALE/n)*n,a);return{width:r,height:l,lineHeight:l,baseLine:parseInt((l-o)/2),fontHeight:o,descent:parseInt(t*this.BASELINE_SCALE)}}},{key:"character",value:function(t,e,i,n){n=n||1;var a=s.STYLE_LINE_HEIGHT,r=n*a,o=parseInt(i);Ii.isFullWidthChar(t)?e!=s.SCRIPT_SUB&&e!=s.SCRIPT_SUP||(o=parseInt(o/2)):(o=parseInt(o/2),e!=s.SCRIPT_SUB&&e!=s.SCRIPT_SUP||(o=parseInt(2*o/3)));var l=parseInt(i*this.SIZE_SCALE),c=Math.max(Math.ceil(i*this.LINE_SCALE/a)*a,r);return{width:o,height:c,lineHeight:c,baseLine:parseInt((c-l)/2),fontHeight:l,descent:parseInt(i*this.BASELINE_SCALE)}}},{key:"tab",value:function(t,e){e=e||1;var i=s.STYLE_LINE_HEIGHT,n=e*i,a=2*parseInt(t),r=parseInt(t*this.SIZE_SCALE),o=Math.max(Math.ceil(r/i)*i,n);return{width:a,height:o,lineHeight:o,baseLine:parseInt((o-r)/2),fontHeight:r,descent:parseInt(t*this.BASELINE_SCALE)}}},{key:"block",value:function(t,e,i){i=i||1;var n=s.STYLE_LINE_HEIGHT,a=i*n,r=e,o=Math.max(Math.ceil(r/n)*n,a);return{width:t,height:o,lineHeight:o,baseLine:0,fontHeight:r,descent:0}}},{key:"textboxBorder",value:function(t,e){e=e||1;var i=s.STYLE_LINE_HEIGHT,n=e*i,a=parseInt(t/3),r=parseInt(t*this.SIZE_SCALE),o=Math.max(Math.ceil(r/i)*i,n);return{width:a,height:o,lineHeight:o,baseLine:parseInt((o-r)/2),fontHeight:r,descent:parseInt(t*this.BASELINE_SCALE)}}},{key:"textboxMBorder",value:function(t,e){var i=Zi.getConfig();e=e||1;var n=s.STYLE_LINE_HEIGHT,a=e*n,r=10*parseInt(i.multTextBDWidth),o=parseInt(t)*parseFloat(i.multTextBDHeight),l=Math.max(Math.ceil(o/n)*n,a);return{width:r,height:l,lineHeight:l,baseLine:parseInt((l-o)/2),fontHeight:o,descent:parseInt(t*this.BASELINE_SCALE)}}},{key:"checkboxButton",value:function(t,e){e=e||1;var i=s.STYLE_LINE_HEIGHT,n=e*i,a=parseInt(1.4*t),r=parseInt(t*this.SIZE_SCALE),o=Math.max(Math.ceil(r/i)*i,n);return{width:a,height:o,lineHeight:o,baseLine:parseInt((o-r)/2),fontHeight:r,descent:parseInt(t*this.BASELINE_SCALE)}}},{key:"radioboxButton",value:function(t,e){e=e||1;var i=s.STYLE_LINE_HEIGHT,n=e*i,a=parseInt(1.4*t),r=parseInt(t*this.SIZE_SCALE),o=Math.max(Math.ceil(r/i)*i,n);return{width:a,height:o,lineHeight:o,baseLine:parseInt((o-r)/2),fontHeight:r,descent:parseInt(t*this.BASELINE_SCALE)}}},{key:"expre",value:function(t,i,n){switch(t.type){case fn.EXP_MH:return cl(this,e,ul).call(this,t,i,n);case fn.EXP_TM:return cl(this,e,fl).call(this,t,i,n);case fn.EXP_FN:return cl(this,e,dl).call(this,t,i,n)}}}]),e}();function ul(t,e,i){var n="".concat(t.field7,"11"),a="".concat(t.field3,"~").concat(t.field4),r="".concat(t.field5,"~").concat(t.field6),o="".concat(t.field8),l="".concat(t.field2,"11"),c=a.length>r.length?a:r,h="0"==t.field1?o:n;i=i||1;var u=s.STYLE_LINE_HEIGHT,f=i*u,d=parseInt(e*(l.length+c.length+h.length)/2),p=parseInt(e*this.SIZE_SCALE*2),v=Math.max(Math.ceil(p/u)*u,f);return{width:d,height:v,lineHeight:v,baseLine:parseInt((v-p)/2),fontHeight:p,descent:parseInt(e*this.BASELINE_SCALE)}}function fl(t,e,i){e=parseInt(e);var n=function(t){var i=0;return t.forEach((function(t){t.show&&("r"==t.numerary||"l"==t.numerary?i+=parseInt(3*e/2+e/3):i+=e/2,t.surface.length>0&&(i+=t.surface.join(",").length*e/3))})),i},a=n(t.top.left),r=n(t.top.right),o=n(t.bot.left),l=n(t.bot.right),c=Math.max(a+r,o+l)+e;i=i||1;var h=s.STYLE_LINE_HEIGHT,u=i*h,f=parseInt(c),d=parseInt(2.4*e),p=Math.max(Math.ceil(d/h)*h,u);return{width:f,height:p,lineHeight:p,baseLine:parseInt((p-d)/2),fontHeight:d,descent:parseInt(e*this.BASELINE_SCALE)}}function dl(t,e,i){i=i||1;var n=s.STYLE_LINE_HEIGHT,a=i*n,r=parseInt(2.6*e),o=parseInt(3*e),l=Math.max(Math.ceil(o/n)*n,a);return{width:r,height:l,lineHeight:l,baseLine:parseInt((l-o)/2),fontHeight:o,descent:parseInt(e*this.BASELINE_SCALE)}}o(hl,"SIZE_SCALE",.9),o(hl,"LINE_SCALE",1.3),o(hl,"BASELINE_SCALE",.15);var pl=r((function e(){t(this,e)}));function vl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Vn(t);if(e){var a=Vn(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return jn(this,i)}}function _l(t,e){gl(t,e),e.add(t)}function El(t,e,i){gl(t,e),e.set(t,i)}function gl(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Cl(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}o(pl,"NOT_APPEAR_LINE_BEGIN",[65292,44,12290,46,12289,65307,59,65306,58,65311,63,65281,33,8221,8217,12318,41,12305,12299,65310,62,41,93,187,8250,12309,12297,125,65341,12301,65373,12311,12303,65374,126,173,183,65372,124,65295,47,65340,92]),o(pl,"NOT_APPEAR_LINE_END",[8220,8216,12317,40,12304,12298,65308,65117,60,40,91,171,8249,12308,12296,123,65339,12300,65371,12310,12302,124,65372,65295,47,65340,92]);var yl=new WeakMap,Sl=new WeakMap,Ll=new WeakMap,wl=new WeakMap,ml=new WeakMap,Tl=new WeakMap,bl=new WeakSet,Ol=new WeakSet,Al=new WeakSet,Rl=new WeakSet,kl=new WeakSet,Il=function(){function e(){t(this,e),_l(this,kl),_l(this,Rl),_l(this,Al),_l(this,Ol),_l(this,bl),El(this,yl,{writable:!0,value:void 0}),El(this,Sl,{writable:!0,value:void 0}),El(this,Ll,{writable:!0,value:void 0}),El(this,wl,{writable:!0,value:void 0}),El(this,ml,{writable:!0,value:void 0}),El(this,Tl,{writable:!0,value:void 0}),Kn(this,yl,new Bl)}return r(e,[{key:"getModelSize",value:function(){return Gn(this,ml)}},{key:"getPageSize",value:function(){return Gn(this,yl)}},{key:"getBodyModel",value:function(){return Gn(this,wl)}},{key:"getHeaderModel",value:function(){return Gn(this,Sl)}},{key:"getFooterModel",value:function(){return Gn(this,Ll)}},{key:"getPageInfo",value:function(){return Gn(this,Tl)}},{key:"struct",value:function(t){Gn(this,yl).calc(t),Cl(this,bl,Dl).call(this,t),Cl(this,Ol,xl).call(this,t),Cl(this,Al,Ml).call(this,t),Cl(this,Rl,Pl).call(this,t),Cl(this,kl,Nl).call(this)}}]),e}();function Dl(t){Kn(this,Tl,{watermark:t.page.watermark,above:t.resources.objects.above,below:t.resources.objects.below})}function xl(t){t.header.forEach((function(t,e){t._count=e})),Kn(this,Sl,new lc(t.header)),Gn(this,Sl).struct(1),Gn(this,Sl).setLineSize(Gn(this,yl).pxWidth,Gn(this,yl).pxLeft,Gn(this,yl).pxRight),Gn(this,Sl).setPadding(Gn(this,yl).pxHeaderTop,0,0,0),Gn(this,Sl).setMargin(0,0,0,0),Gn(this,Sl).typeset(),Gn(this,Sl).locate(0,0),Gn(this,yl).calcHeaderSize(Gn(this,Sl).getHeight())}function Ml(t){t.footer.forEach((function(t,e){t._count=e})),Kn(this,Ll,new lc(t.footer)),Gn(this,Ll).struct(1),Gn(this,Ll).setLineSize(Gn(this,yl).pxWidth,Gn(this,yl).pxLeft,Gn(this,yl).pxRight),Gn(this,Ll).setPadding(0,0,0,0),Gn(this,Ll).setMargin(0,0,0,0),Gn(this,Ll).typeset(),Gn(this,Ll).locate(0,Gn(this,yl).pxHeight-Gn(this,yl).pxFooterBottom-Gn(this,Ll).getHeight()),Gn(this,yl).calcFooterSize(Gn(this,Ll).getHeight())}function Pl(t){Gn(this,yl).calcBodySize(),t.body.forEach((function(t,e){t._count=e})),Kn(this,wl,new lc(t.body)),Gn(this,wl).struct(1),Gn(this,wl).setLineSize(Gn(this,yl).pxWidth,Gn(this,yl).pxLeft,Gn(this,yl).pxRight),Gn(this,wl).setPadding(0,0,0,0),Gn(this,wl).setMargin(0,0,0,0),Gn(this,wl).typeset(),Gn(this,wl).setSegment(Gn(this,yl).pxBodyHeight,Gn(this,yl).pxHeaderHeight,Gn(this,yl).pxFooterHeight,0),Gn(this,wl).paging(),Gn(this,wl).locate(0,Gn(this,yl).pxHeaderHeight)}function Nl(){var t=Gn(this,wl).getHeight(),e=parseInt(t/Gn(this,yl).pxHeight);t%Gn(this,yl).pxHeight>0&&(e+=1),Kn(this,ml,{width:Gn(this,yl).pxWidth,height:Gn(this,yl).pxHeight*e,pageCount:e})}o(Il,"TYPE_MODEL_PARAG",1),o(Il,"TYPE_MODEL_TABLE",2);var Bl=function(){function e(){t(this,e),o(this,"actWidth",0),o(this,"actHeight",0),o(this,"actTop",0),o(this,"actBottom",0),o(this,"actLeft",0),o(this,"actRight",0),o(this,"actHeaderTop",0),o(this,"actFooterBottom",0),o(this,"pxWidth",0),o(this,"pxHeight",0),o(this,"pxTop",0),o(this,"pxBottom",0),o(this,"pxLeft",0),o(this,"pxRight",0),o(this,"pxHeaderTop",0),o(this,"pxFooterBottom",0),o(this,"pxBodyWidth",0),o(this,"pxBodyHeight",0),o(this,"pxHeaderHeight",0),o(this,"pxFooterHeight",0)}return r(e,[{key:"calc",value:function(t){var e=s.PaperTypes.find((function(e){return e.value==t.paper.type}));e?(this.actWidth=e.width,this.actHeight=e.height):(this.actWidth=t.paper.width,this.actHeight=t.paper.height),this.actTop=t.paper.top,this.actBottom=t.paper.bottom,this.actLeft=t.paper.left,this.actRight=t.paper.right,this.actHeaderTop=t.paper.headerTop,this.actFooterBottom=t.paper.footerBottom,t.paper.direction==s.PAPER_ROTATION_PORTRAIT?(this.pxWidth=Ri.mmConversionPx(this.actWidth),this.pxHeight=Ri.mmConversionPx(this.actHeight)):(this.pxWidth=Ri.mmConversionPx(this.actHeight),this.pxHeight=Ri.mmConversionPx(this.actWidth)),this.pxLeft=Ri.mmConversionPx(this.actLeft),this.pxRight=Ri.mmConversionPx(this.actRight),this.pxTop=Ri.mmConversionPx(this.actTop),this.pxBottom=Ri.mmConversionPx(this.actBottom),this.pxHeaderTop=Ri.mmConversionPx(this.actHeaderTop),this.pxFooterBottom=Ri.mmConversionPx(this.actFooterBottom),this.pxHeaderHeight=this.pxTop,this.pxFooterHeight=this.pxBottom,this.pxBodyWidth=this.pxWidth-this.pxLeft-this.pxRight}},{key:"calcHeaderSize",value:function(t){this.pxHeaderHeight=t}},{key:"calcFooterSize",value:function(t){this.pxFooterHeight+=Math.max(t-(this.pxBottom-this.pxFooterBottom),0)}},{key:"calcBodySize",value:function(){this.pxBodyHeight=this.pxHeight-this.pxHeaderHeight-this.pxFooterHeight}}]),e}(),Fl=new WeakMap,Wl=new WeakMap,Ul=new WeakMap,Xl=new WeakMap,Hl=new WeakMap,Yl=new WeakMap,jl=new WeakMap,Vl=new WeakMap,zl=new WeakMap,Gl=new WeakMap,Kl=new WeakMap,Zl=new WeakMap,Jl=new WeakMap,ql=new WeakMap,$l=new WeakMap,Ql=new WeakMap,tc=new WeakMap,ec=new WeakMap,ic=new WeakMap,nc=function(){function e(i){t(this,e),El(this,Fl,{writable:!0,value:void 0}),El(this,Wl,{writable:!0,value:void 0}),El(this,Ul,{writable:!0,value:void 0}),El(this,Xl,{writable:!0,value:void 0}),El(this,Hl,{writable:!0,value:void 0}),El(this,Yl,{writable:!0,value:void 0}),El(this,jl,{writable:!0,value:void 0}),El(this,Vl,{writable:!0,value:void 0}),El(this,zl,{writable:!0,value:void 0}),El(this,Gl,{writable:!0,value:void 0}),El(this,Kl,{writable:!0,value:void 0}),El(this,Zl,{writable:!0,value:void 0}),El(this,Jl,{writable:!0,value:void 0}),El(this,ql,{writable:!0,value:void 0}),El(this,$l,{writable:!0,value:void 0}),El(this,Ql,{writable:!0,value:void 0}),El(this,tc,{writable:!0,value:void 0}),El(this,ec,{writable:!0,value:void 0}),El(this,ic,{writable:!0,value:void 0}),Kn(this,Fl,i)}return r(e,[{key:"getType",value:function(){return null}},{key:"setLineSize",value:function(t,e,i){Kn(this,Wl,t),Kn(this,Ul,e),Kn(this,Xl,i)}},{key:"getLineSize",value:function(){return{lineWidth:Gn(this,Wl),lineLeft:Gn(this,Ul),lineRight:Gn(this,Xl)}}},{key:"setPadding",value:function(t,e,i,n){Kn(this,Hl,t),Kn(this,Yl,e),Kn(this,jl,i),Kn(this,Vl,n)}},{key:"getPadding",value:function(){return{paddingTop:Gn(this,Hl),paddingRight:Gn(this,Yl),paddingBot:Gn(this,jl),paddingLeft:Gn(this,Vl)}}},{key:"setMargin",value:function(t,e,i,n){Kn(this,zl,t),Kn(this,Gl,i),Kn(this,Zl,e),Kn(this,Kl,n)}},{key:"getMargin",value:function(){return{marginTop:Gn(this,zl),marginBot:Gn(this,Gl),marginRight:Gn(this,Zl),marginLeft:Gn(this,Kl)}}},{key:"setMarginTop",value:function(t){Kn(this,zl,t)}},{key:"setMarginBot",value:function(t){Kn(this,Gl,t)}},{key:"setSegment",value:function(t,e,i,n){Kn(this,Jl,t),Kn(this,ql,e),Kn(this,$l,i),Kn(this,Ql,n)}},{key:"getSegment",value:function(){return{segHeight:Gn(this,Jl),segTop:Gn(this,ql),segBottom:Gn(this,$l),segOffset:Gn(this,Ql)}}},{key:"setSegOffset",value:function(t){Kn(this,Ql,t)}},{key:"getElements",value:function(){return Gn(this,Fl)}},{key:"setHeight",value:function(t){Kn(this,tc,t)}},{key:"getHeight",value:function(){return Gn(this,tc)}},{key:"getOffset",value:function(){return{offsetX:Gn(this,ec),offsetY:Gn(this,ic)}}},{key:"setOffset",value:function(t,e){Kn(this,ec,t),Kn(this,ic,e)}},{key:"debug",value:function(){return Object.assign({},this.getLineSize(),this.getPadding(),this.getMargin(),this.getOffset())}},{key:"findIndex",value:function(t){return this.getElements().findIndex((function(e){return e===t}))}},{key:"findArrayIndex",value:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(i.length>1){var a=[];return i.forEach((function(e){a.push(t.findIndex((function(t){return t.findIndex(e)>=0})))})),a}return t.findIndex((function(t){return t.findIndex(i[0])>=0}))}},{key:"localeElement",value:function(t,e){}},{key:"localeUpElement",value:function(t,e,i){return!1}},{key:"localeDownElement",value:function(t,e,i){return!1}},{key:"localeLastLineElement",value:function(t,e){}},{key:"localeFristLineElement",value:function(t,e){}},{key:"findTableFieldInfo",value:function(t){}},{key:"selectElement",value:function(t,e){}},{key:"selectElement2",value:function(t,e,i){return!0}},{key:"selectStepElement",value:function(t,e,i,n){}},{key:"selectHalfElement",value:function(t,e){return[]}},{key:"selectFirstElement",value:function(t,e,i){return!0}},{key:"selectLastElement",value:function(t,e,i){return!0}},{key:"findTableMergeInfo",value:function(t){return{rect:!1,arow:!1,acol:!1,cell:!1,table:!1,fields:[],maxcol:void 0,maxrow:void 0,mincol:void 0,minrow:void 0,border:!0}}}]),e}(),ac=new WeakMap,rc=new WeakSet,oc=new WeakSet,sc=new WeakSet,lc=function(e){Yn(n,e);var i=vl(n);function n(e){var a;return t(this,n),_l(Xn(a=i.call(this,e)),sc),_l(Xn(a),oc),_l(Xn(a),rc),El(Xn(a),ac,{writable:!0,value:void 0}),a}return r(n,[{key:"getType",value:function(){return null}},{key:"getChapters",value:function(){return Gn(this,ac)}},{key:"getChapterSize",value:function(t){for(var e=0;e<Gn(this,ac).length;e++){var i=Gn(this,ac)[e];if(i.findIndex(t)>=0)return i.getChapterSize(t)}}},{key:"getLineHeight",value:function(){return Gn(this,ac)[0].getLineHeight()}},{key:"struct",value:function(t){var e=this;Kn(this,ac,[]);for(var i=this.getElements(),n=[[]],a=0;a<i.length;a++){var r=i[a];n.at(-1).push(r),a<i.length-1&&r.dimension.depth==t&&r.property.type==fn.TYPE_STRUCT&&n.push([])}var o=void 0;n.forEach((function(i){if(i.length>0)if(i.at(-1).dimension.depth==t&&i.at(-1).property.classify==fn.CLS_CELL){var n=new Ih(i);o||(o=new fh([]),Gn(e,ac).push(o)),o.addField(n)}else{var a=new Oc(i);Gn(e,ac).push(a),o&&(o=void 0)}})),Gn(this,ac).forEach((function(e){e.struct(t+1)}))}},{key:"typeset",value:function(){var t=this.getLineSize(),e=this.getPadding();Gn(this,ac).forEach((function(i){if(i.getType()==Il.TYPE_MODEL_TABLE){var n=s.TABLE_FIELD_BORDER_SPAC;i.setLineSize(0,0,0),i.setPadding(n,n,n,n),i.setMargin(0,t.lineRight,0,t.lineLeft)}else i.getType()==Il.TYPE_MODEL_PARAG&&(i.setLineSize(t.lineWidth-e.paddingLeft-e.paddingRight,t.lineLeft,t.lineRight),i.setPadding(0,0,0,0),i.setMargin(0,0,0,0));i.typeset()})),this.resize()}},{key:"paging",value:function(){var t=this.getSegment();if(this.getHeight()>t.segHeight-t.segOffset)for(var e=0;e<Gn(this,ac).length;e++){var i=Gn(this,ac)[e];i.getHeight()<=t.segHeight-t.segOffset?t.segOffset+=i.getHeight():i.getLineHeight()>=t.segHeight-t.segOffset?(e>0&&Gn(this,ac)[e-1].setMarginBot(t.segHeight-t.segOffset+t.segBottom),i.setMarginTop(t.segTop),t.segOffset=i.getHeight()):(i.setSegment(t.segHeight,t.segTop,t.segBottom,t.segOffset),i.paging(),t.segOffset=(i.getHeight()+t.segOffset)%(t.segHeight+t.segTop+t.segBottom))}Gn(this,ac).forEach((function(t){t.resize()})),this.resize(),this.setSegOffset(t.segOffset)}},{key:"locate",value:function(t,e){this.setOffset(t,e);var i=this.getMargin(),n=this.getPadding();e+=i.marginTop,e+=n.paddingTop,t+=n.paddingLeft,Gn(this,ac).forEach((function(n){n.locate(t,e),e+=n.getHeight(),e+=i.marginTop}))}},{key:"localeElement",value:function(t,e){var i=this.getMargin(),n=this.getPadding();e-=i.marginTop,e-=n.paddingTop,t-=n.paddingLeft;for(var a=void 0,r=0;r<Gn(this,ac).length;r++)if(a=Gn(this,ac)[r],r<Gn(this,ac).length-1){if(e<=a.getHeight())break;e-=a.getHeight()}return a.localeElement(t,e)}},{key:"positionElement",value:function(t,e){var i=this.getMargin(),n=this.getPadding();if(!(e<i.marginTop+n.paddingTop)){e-=i.marginTop+n.paddingTop,t-=n.paddingLeft;for(var a=0;a<Gn(this,ac).length;a++){var r=Gn(this,ac)[a];if(a<Gn(this,ac).length){if(e<=r.getHeight())return r.positionElement(t,e);e-=r.getHeight()}}}}},{key:"resize",value:function(){var t=this.getPadding(),e=this.getMargin(),i=t.paddingBot+t.paddingTop+e.marginBot+e.marginTop;Gn(this,ac).forEach((function(t){i+=t.getHeight()})),this.setHeight(i)}},{key:"debug",value:function(){var t=qn(Vn(n.prototype),"debug",this).call(this);return t.children=[],Gn(this,ac).forEach((function(e){return t.children.push(e.debug())})),t}},{key:"selectElement",value:function(t,e){var i=this.findArrayIndex(Gn(this,ac),t,e),n=i[0],a=i[1];if(n==a)return Gn(this,ac)[n].selectElement(t,e);for(var r=Gn(this,ac)[n].selectHalfElement(t,s.SELECT_POINT_END),o=n+1;o<a;o++)r=[].concat(C(r),C(Gn(this,ac)[o].getElements()));return[].concat(C(r),C(Gn(this,ac)[a].selectHalfElement(e,s.SELECT_POINT_BEG)))}},{key:"selectElement2",value:function(t,e,i){var n=this.findArrayIndex(Gn(this,ac),t.at(0),t.at(-1)),a=n[0],r=n[1];return a==r?!!Gn(this,ac)[a].selectElement2(t,e,i)||Cl(this,rc,cc).call(this,t,e,i,a):e==s.SELECT_POINT_END?Cl(this,oc,hc).call(this,t,e,i,r):e==s.SELECT_POINT_BEG?Cl(this,sc,uc).call(this,t,e,i,a):void 0}},{key:"localeUpElement",value:function(t,e,i){for(var n=0;n<Gn(this,ac).length;n++){var a=Gn(this,ac)[n];if(a.findIndex(t)>=0)return!!a.localeUpElement(t,e,i)||n>0&&(Gn(this,ac)[n-1].localeLastLineElement(e,i),!0)}}},{key:"localeDownElement",value:function(t,e,i){for(var n=0;n<Gn(this,ac).length;n++){var a=Gn(this,ac)[n];if(a.findIndex(t)>=0)return!!a.localeDownElement(t,e,i)||n<Gn(this,ac).length-1&&(Gn(this,ac)[n+1].localeFristLineElement(e,i),!0)}}},{key:"localeLastLineElement",value:function(t,e){Gn(this,ac).at(-1).localeLastLineElement(t,e)}},{key:"localeFristLineElement",value:function(t,e){Gn(this,ac)[0].localeFristLineElement(t,e)}},{key:"findTableFieldInfo",value:function(t,e){if(0==e.length){var i=this.findArrayIndex(Gn(this,ac),t);if(Gn(this,ac)[i].getType()==Il.TYPE_MODEL_TABLE)return Gn(this,ac)[i].findTableFieldInfo(t,e)}else{var n=this.findArrayIndex(Gn(this,ac),e.at(0),e.at(-1));if(n[0]==n[1]&&Gn(this,ac)[n[0]].getType()==Il.TYPE_MODEL_TABLE)return Gn(this,ac)[n[0]].findTableFieldInfo(t,e)}}},{key:"findTableMergeInfo",value:function(t){if(0==t.length)return qn(Vn(n.prototype),"findTableMergeInfo",this).call(this);var e=this.findArrayIndex(Gn(this,ac),t.at(0),t.at(-1));return e[0]!=e[1]||Gn(this,ac)[e[0]].getType()!=Il.TYPE_MODEL_TABLE?qn(Vn(n.prototype),"findTableMergeInfo",this).call(this):Gn(this,ac)[e[0]].findTableMergeInfo(t)}},{key:"isTableElement",value:function(t,e){if(0!=e.length){var i=this.findArrayIndex(Gn(this,ac),e.at(0),e.at(-1));return i[0]==i[1]&&Gn(this,ac)[i[0]].getType()==Il.TYPE_MODEL_TABLE}for(var n=0;n<Gn(this,ac).length;n++){var a=Gn(this,ac)[n];if(a.findIndex(t)>=0)return a.getType()==Il.TYPE_MODEL_TABLE}}}]),n}(nc);function cc(t,e,i,n){if(e==s.SELECT_POINT_END){if(n<Gn(this,ac).length-1){var a=Gn(this,ac)[n].selectHalfElement(t.at(0),s.SELECT_POINT_END);return xi.splice(t,0,a),Gn(this,ac)[n+1].selectFirstElement(t,e,i)}return!1}if(e==s.SELECT_POINT_BEG){if(n>0){var r=Gn(this,ac)[n].selectHalfElement(t.at(-1),s.SELECT_POINT_BEG);return xi.splice(t,0,r),Gn(this,ac)[n-1].selectLastElement(t,e,i)}return!1}}function hc(t,e,i,n){return i!=s.SELECT_EXT_TYPE_R&&i!=s.SELECT_EXT_TYPE_D?Gn(this,ac)[n].selectStepElement(t,t.at(-1),i,!1):Gn(this,ac)[n].selectStepElement(t,t.at(-1),i,!0)?void 0:n<Gn(this,ac).length-1&&Gn(this,ac)[n+1].selectFirstElement(t,e,i)}function uc(t,e,i,n){return i!=s.SELECT_EXT_TYPE_L&&i!=s.SELECT_EXT_TYPE_U?Gn(this,ac)[n].selectStepElement(t,t.at(0),i,!1):Gn(this,ac)[n].selectStepElement(t,t.at(0),i,!0)?void 0:n>0&&Gn(this,ac)[n-1].selectLastElement(t,e,i)}var fc=new WeakMap,dc=new WeakSet,pc=new WeakSet,vc=new WeakSet,_c=new WeakSet,Ec=new WeakSet,gc=new WeakSet,Cc=new WeakSet,yc=new WeakSet,Sc=new WeakSet,Lc=new WeakSet,wc=new WeakSet,mc=new WeakSet,Tc=new WeakSet,bc=new WeakSet,Oc=function(e){Yn(n,e);var i=vl(n);function n(e){var a;return t(this,n),_l(Xn(a=i.call(this,e)),bc),_l(Xn(a),Tc),_l(Xn(a),mc),_l(Xn(a),wc),_l(Xn(a),Lc),_l(Xn(a),Sc),_l(Xn(a),yc),_l(Xn(a),Cc),_l(Xn(a),gc),_l(Xn(a),Ec),_l(Xn(a),_c),_l(Xn(a),vc),_l(Xn(a),pc),_l(Xn(a),dc),El(Xn(a),fc,{writable:!0,value:void 0}),a}return r(n,[{key:"getType",value:function(){return Il.TYPE_MODEL_PARAG}},{key:"getLines",value:function(){return Gn(this,fc)}},{key:"getLineHeight",value:function(){return Gn(this,fc)[0].height}},{key:"getChapterSize",value:function(){return this.getLineSize()}},{key:"struct",value:function(){}},{key:"typeset",value:function(){var t=this,e=this.getLineSize(),i=this.getPadding();Kn(this,fc,[]),this.getElements().forEach((function(e){e.property.type==fn.TYPE_STRUCT?e.property.classify==fn.CLS_DIVDER?Cl(t,pc,Rc).call(t,e):Cl(t,dc,Ac).call(t,e):e.property.classify==fn.CLS_TEXT_CHAR?Cl(t,vc,kc).call(t,e):e.property.classify==fn.CLS_TEXT_TAB?Cl(t,_c,Ic).call(t,e):e.property.classify==fn.CLS_EXPRE?Cl(t,Ec,Dc).call(t,e):e.property.classify==fn.CLS_TEXTBOX_BORDER?Cl(t,Cc,Mc).call(t,e):e.property.classify==fn.CLS_TEXTBOX_BORDER_M?Cl(t,yc,Pc).call(t,e):e.property.classify==fn.CLS_CHECKBOX_BOTTON?Cl(t,Sc,Nc).call(t,e):e.property.classify==fn.CLS_RADIOBOX_BOTTON?Cl(t,Lc,Bc).call(t,e):fn.isImageBlock(e)&&Cl(t,gc,xc).call(t,e)}));var n=[];this.getElements().forEach((function(e){if(e.modular.type==fn.MODULAR_TYPE_COMP){var i={type:fn.MODULAR_TYPE_COMP,dataID:e.modular.dataID,elements:[e]};n.length>0&&n.at(-1).type==fn.MODULAR_TYPE_COMP&&n.at(-1).dataID==e.modular.dataID&&([fn.COMP_CLASS_TEXTBOX,fn.COMP_CLASS_DATEPICKER,fn.COMP_CLASS_CHECKBOX,fn.COMP_CLASS_RADIOGROUP].includes(e.modular.dataClass)||Cl(t,wc,Fc).call(t,e,n.at(-1).elements.at(-1)))?n.at(-1).elements.push(e):n.push(i)}else{var a={type:fn.MODULAR_TYPE_NORM,elements:[e]};n.length>0&&n.at(-1).type==fn.MODULAR_TYPE_NORM&&Cl(t,wc,Fc).call(t,e,n.at(-1).elements.at(-1))?n.at(-1).elements.push(e):n.push(a)}}));var a=this.getElements().at(-1).paragStyle,r=s.getDefaultFontSize(),o=parseInt(a.indentLeft*r.value),l=parseInt(a.indentRight*r.value),c=parseInt(a.segmentSpacPre*s.STYLE_LINE_HEIGHT),h=parseInt(a.segmentSpacAft*s.STYLE_LINE_HEIGHT);this.setPadding(c,i.paddingRight,h,i.paddingLeft),n.forEach((function(n){var c=0;if(n.elements.forEach((function(t){c+=t._size.width})),0==Gn(t,fc).length||Gn(t,fc).at(-1).surplus<c){var h=0;(a.indentSpecialType==s.INDENT_TYPE_TEXT&&0==Gn(t,fc).length||a.indentSpecialType==s.INDENT_TYPE_HANG&&Gn(t,fc).length>0)&&(h=parseInt(a.indentSpecialvalue*r.value)),Gn(t,fc).push(Fn.createParagLine(e.lineWidth,e.lineLeft+i.paddingLeft,e.lineRight+i.paddingRight,o,l,h))}n.elements.forEach((function(n){var c=n._size,h=Gn(t,fc).at(-1);if(h.elements.length>0&&h.surplus<n._size.width){var u=0;(a.indentSpecialType==s.INDENT_TYPE_TEXT&&0==Gn(t,fc).length||a.indentSpecialType==s.INDENT_TYPE_HANG&&Gn(t,fc).length>0)&&(u=parseInt(a.indentSpecialvalue*r.value)),Gn(t,fc).push(Fn.createParagLine(e.lineWidth,e.lineLeft+i.paddingLeft,e.lineRight+i.paddingRight,o,l,u)),h=Gn(t,fc).at(-1)}h.elements.push(n),h.surplus=h.surplus-c.width,h.height=Math.max(c.lineHeight,h.height),c.baseLine&&(h.baseLine=Math.max(c.baseLine,h.baseLine)),c.descent&&(h.descent=Math.max(c.descent,h.descent))}))}));var u=i.paddingTop+i.paddingBot;Gn(this,fc).forEach((function(t){u+=t.height})),this.setHeight(u)}},{key:"paging",value:function(){var t=this.getSegment();if(this.getHeight()>t.segHeight-t.segOffset){for(var e=0;e<Gn(this,fc).length;e++){var i=Gn(this,fc)[e];i.height<=t.segHeight-t.segOffset?t.segOffset+=i.height:(Gn(this,fc)[e-1].marginBot=t.segHeight-t.segOffset+t.segBottom,i.marginTop=t.segTop,t.segOffset=i.height)}this.resize(),this.setSegOffset(t.segOffset)}}},{key:"locate",value:function(t,e){var i=this;this.setOffset(t,e);var n=this.getMargin(),a=this.getPadding();e+=n.marginTop,e+=a.paddingTop,t+=a.paddingLeft,Gn(this,fc).forEach((function(n){e+=n.marginTop,Cl(i,mc,Wc).call(i,n,t,e),e+=n.height+n.marginBot}))}},{key:"localeElement",value:function(t,e){var i=this.getMargin(),n=this.getPadding();e-=i.marginTop,e-=n.paddingTop,t-=n.paddingLeft;for(var a=void 0,r=0;r<Gn(this,fc).length;r++){var o=(a=Gn(this,fc)[r]).height+a.marginBot+a.marginTop;if(e<=o)break;e-=o}return Cl(this,Tc,Uc).call(this,a,t)}},{key:"positionElement",value:function(t,e){var i=this.getMargin(),n=this.getPadding();if(!(e<i.marginTop+n.paddingTop)){e-=i.marginTop+n.paddingTop,t-=n.paddingLeft;for(var a=0;a<Gn(this,fc).length;a++){var r=Gn(this,fc)[a],o=r.height+r.marginBot+r.marginTop;if(e<=o)return Cl(this,bc,Xc).call(this,r,t);e-=o}}}},{key:"localeUpElement",value:function(t,e,i){for(var n=0;n<Gn(this,fc).length;n++)if(Gn(this,fc)[n].elements.findIndex((function(e){return e===t}))>=0)return n>0&&(Object.assign(i,Cl(this,Tc,Uc).call(this,Gn(this,fc)[n-1],e,!0)),!0)}},{key:"localeDownElement",value:function(t,e,i){for(var n=0;n<Gn(this,fc).length;n++)if(Gn(this,fc)[n].elements.findIndex((function(e){return e===t}))>=0)return n<Gn(this,fc).length-1&&(Object.assign(i,Cl(this,Tc,Uc).call(this,Gn(this,fc)[n+1],e,!0)),!0)}},{key:"localeLastLineElement",value:function(t,e){Object.assign(e,Cl(this,Tc,Uc).call(this,Gn(this,fc).at(-1),t))}},{key:"localeFristLineElement",value:function(t,e){Object.assign(e,Cl(this,Tc,Uc).call(this,Gn(this,fc)[0],t))}},{key:"selectElement",value:function(t,e){return xi.capture(this.getElements(),t,e,!1)}},{key:"selectElement2",value:function(t,e,i){for(var n=this.getElements(),a=void 0,r=void 0,o=Gn(this,fc).findIndex((function(e){return e.elements.indexOf(t.at(0))>=0})),l=Gn(this,fc).findIndex((function(e){return e.elements.indexOf(t.at(-1))>=0})),c=0;c<n.length;c++){var h=n[c];if(h===t.at(0)&&(a=c),h===t.at(-1)){r=c;break}}if(e==s.SELECT_POINT_BEG){if(i==s.SELECT_EXT_TYPE_L)return a>0&&(t.push(n.at(a-1)),!0);if(i==s.SELECT_EXT_TYPE_R)return t.splice(0,1),!0;if(i==s.SELECT_EXT_TYPE_U){if(o>0){var u=Cl(this,Tc,Uc).call(this,Gn(this,fc)[o-1],t.at(0)._offset.offsetX,!0),f=xi.capture(this.getElements(),u.element,t.at(0),!0);return xi.splice(t,0,f),!0}return!1}if(i==s.SELECT_EXT_TYPE_D){if(o<Gn(this,fc).length-1){var d=Cl(this,Tc,Uc).call(this,Gn(this,fc)[o+1],t.at(0)._offset.offsetX,!0),p=xi.capture(t.at(0),d);return xi.remove(t,p),!0}return t.splice(0,t.length),!0}}else if(e==s.SELECT_POINT_END){if(i==s.SELECT_EXT_TYPE_R)return r<n.length-1&&(t.push(n.at(r+1)),!0);if(i==s.SELECT_EXT_TYPE_L)return t.splice(t.length-1,1),!0;if(i==s.SELECT_EXT_TYPE_D){if(l<Gn(this,fc).length-1){var v=Cl(this,Tc,Uc).call(this,Gn(this,fc)[l+1],t.at(-1)._offset.offsetX,!0),_=xi.capture(this.getElements(),v.element,t.at(-1),!1);return xi.splice(t,0,_),!0}return!1}if(i==s.SELECT_EXT_TYPE_U){if(l>0){var E=Cl(this,Tc,Uc).call(this,Gn(this,fc)[l-1],t.at(-1)._offset.offsetX,!0),g=xi.capture(E,t.at(-1));return xi.remove(t,g),!0}return t.splice(0,t.length),!0}}return!0}},{key:"selectStepElement",value:function(t,e,i,n){var a=this.findIndex(e),r=Gn(this,fc).findIndex((function(t){return t.elements.indexOf(e)>=0}));if(n){if(i==s.SELECT_EXT_TYPE_L){if(!(a>0))return!1;t.push(this.getElements().at(a-1))}else if(i==s.SELECT_EXT_TYPE_U){if(!(a>0))return!1;if(r>0){var o=Cl(this,Tc,Uc).call(this,Gn(this,fc)[r-1],e._offset.offsetX,!0),l=xi.capture(this.getElements(),o.element,e,!0);xi.splice(t,0,l)}else{var c=xi.capture(this.getElements(),this.getElements().at(0),e,!1);xi.splice(t,0,c)}}else if(i==s.SELECT_EXT_TYPE_R){if(!(a<this.getElements().length-1))return!1;t.push(this.getElements().at(a+1))}else if(i==s.SELECT_EXT_TYPE_D){if(!(a<this.getElements().length-1))return!1;if(r<Gn(this,fc).length-1){var h=Cl(this,Tc,Uc).call(this,Gn(this,fc)[r+1],e._offset.offsetX,!0),u=xi.capture(this.getElements(),h.element,e,!1);xi.splice(t,0,u)}else{var f=xi.capture(this.getElements(),e,this.getElements().at(-1),!0);xi.splice(t,0,f)}}}else if(i==s.SELECT_EXT_TYPE_L||i==s.SELECT_EXT_TYPE_R)xi.remove(t,[e]);else if(i==s.SELECT_EXT_TYPE_U)if(r>0){var d=Cl(this,Tc,Uc).call(this,Gn(this,fc)[r-1],e._offset.offsetX,!0),p=xi.capture(this.getElements(),d,e,!0);xi.remove(t,p)}else xi.remove(t,Gn(this,fc)[r].elements);else if(i==s.SELECT_EXT_TYPE_D)if(r<Gn(this,fc).length-1){var v=Cl(this,Tc,Uc).call(this,Gn(this,fc)[r+1],e._offset.offsetX,!0),_=xi.capture(this.getElements(),e,v,!0);xi.remove(t,_)}else xi.capture(this.getElements(),e,this.getElements().at(-1),!0),xi.remove(t,Gn(this,fc)[r].elements);return!0}},{key:"selectHalfElement",value:function(t,e){var i=this.getElements(),n=[];if(e==s.SELECT_POINT_BEG)for(var a=0;a<i.length&&i[a]!==t;a++)n.push(i[a]);else for(var r=i.length-1;r>=0&&(n.push(i[r]),i[r]!==t);r--);return n}},{key:"selectFirstElement",value:function(t,e,i){if(i==s.SELECT_EXT_TYPE_R)return t.push(this.getElements().at(0)),!0;var n=Gn(this,fc).at(0).elements,a=Cl(this,Tc,Uc).call(this,Gn(this,fc).at(0),t.at(0)._offset.offsetX,!0),r=xi.capture(n,n.at(0),a.element,!1);return xi.splice(t,0,r),!0}},{key:"selectLastElement",value:function(t,e,i){if(i==s.SELECT_EXT_TYPE_L)return t.push(this.getElements().at(-1)),!0;var n=Gn(this,fc).at(-1).elements,a=Cl(this,Tc,Uc).call(this,Gn(this,fc).at(-1),t.at(-1)._offset.offsetX,!0),r=xi.capture(n,a.element,n.at(-1),!0);return xi.splice(t,0,r),!0}},{key:"resize",value:function(){var t=this.getMargin(),e=this.getPadding(),i=t.marginBot+t.marginTop+e.paddingBot+e.paddingTop;Gn(this,fc).forEach((function(t){i+=t.height+t.marginBot+t.marginTop})),this.setHeight(i)}},{key:"debug",value:function(){var t=qn(Vn(n.prototype),"debug",this).call(this);return t.children=[],Gn(this,fc).forEach((function(e){return t.children.push({lineWidth:e.width,lineSurplus:e.surplus,lineLeft:e.left,lineRight:e.right})})),t}}]),n}(nc);function Ac(t){var e=this.getElements();t._size=hl.lineFeel(t.textStyle.size,e.at(-1).paragStyle.rowspac)}function Rc(t){var e=this.getLineSize(),i=this.getPadding(),n=this.getElements(),a=e.lineWidth-(e.lineLeft+i.paddingLeft)-(e.lineRight+i.paddingRight);t._size=hl.divder(t.textStyle.size,n.at(-1).paragStyle.rowspac,a)}function kc(t){var e=this.getElements();t._size=hl.character(t.property.code,t.textStyle.script,t.textStyle.size,e.at(-1).paragStyle.rowspac)}function Ic(t){var e=this.getElements();t._size=hl.tab(t.textStyle.size,e.at(-1).paragStyle.rowspac)}function Dc(t){var e=this.getElements();t._size=hl.expre(t.extend,t.textStyle.size,e.at(-1).paragStyle.rowspac)}function xc(t){var e=this.getElements();t._size=hl.block(t.extend.width,t.extend.height,e.at(-1).paragStyle.rowspac),t._drag_size=Object.assign({},t._size)}function Mc(t){var e=this.getElements();t._size=hl.textboxBorder(t.textStyle.size,e.at(-1).paragStyle.rowspac)}function Pc(t){var e=this.getElements();t._size=hl.textboxMBorder(t.textStyle.size,e.at(-1).paragStyle.rowspac)}function Nc(t){var e=this.getElements();t._size=hl.checkboxButton(t.textStyle.size,e.at(-1).paragStyle.rowspac)}function Bc(t){var e=this.getElements();t._size=hl.radioboxButton(t.textStyle.size,e.at(-1).paragStyle.rowspac)}function Fc(t,e){var i=t.property,n=e.property;return!!(pl.NOT_APPEAR_LINE_END.includes(n.code.charCodeAt(0))||pl.NOT_APPEAR_LINE_BEGIN.includes(i.code.charCodeAt(0))||Ii.isNumberString(n.code)&&Ii.isNumberString(i.code)||Ii.isEnglish(n.code)&&Ii.isEnglish(i.code))}function Wc(t,e,i){e+=t.left,e+=t.indentLeft,e+=t.indentSpecia;var n=this.getElements().at(-1).paragStyle.align,a=t.elements[t.elements.length-1],r=0,o=0,l=0;n==s.ALIGN_RIGHT?(e+=Math.max(t.surplus,0),t.alignLeft=Math.max(t.surplus,0)):n==s.ALIGN_CENTER?(e+=Math.max(t.surplus/2,0),t.alignLeft=Math.max(t.surplus/2,0),l=Math.max(t.surplus/2,0)):n==s.ALIGN_BOTH||n==s.ALIGN_DISPERSED?a.property.type==fn.TYPE_STRUCT?n==s.ALIGN_DISPERSED?t.elements.length>2?o=t.surplus/(t.elements.length-2):(e+=Math.max(t.surplus/2,0),t.alignLeft=Math.max(t.surplus/2,0),l=Math.max(t.surplus/2,0)):l=t.surplus:t.elements.length>1?r=t.surplus/(t.elements.length-1):(e+=Math.max(t.surplus/2,0),t.alignLeft=Math.max(t.surplus/2,0)):l=t.surplus,t.elements.forEach((function(e,i){var n=e._size;i<t.elements.length-1?n.justifyspac=r:n.justifyspac=0,i<t.elements.length-2?n.dispersedspac=o:n.dispersedspac=0,e.property.classify==fn.CLS_CELL?n.surplus=l:n.surplus=0})),t.elements.forEach((function(n){var a=n._size;n._offset={offsetX:e,offsetY:i,height:t.height,baseLine:t.baseLine,descent:t.descent},n._drag_offset=Object.assign({},n._offset),e+=a.width+a.dispersedspac+a.justifyspac}))}function Uc(t,e){var i={element:void 0,next:!0};e-=t.alignLeft,e-=t.left,e-=t.indentLeft,e-=t.indentSpecia;for(var n=0;n<t.elements.length;n++){i.element=t.elements[n];var a=i.element._size,r=a.width/2;if(i.type=s.CLICK_TYPE_ELEMENT,e<=r||i.element.property.type==fn.TYPE_STRUCT){i.next=!1;break}e-=a.width+a.dispersedspac+a.justifyspac}return i}function Xc(t,e){e-=t.alignLeft,e-=t.left,e-=t.indentLeft,e-=t.indentSpecia;for(var i=0;i<t.elements.length;i++){var n=t.elements[i],a=n._size;if(e<=n._size.width){var r=[fn.CLS_CHECKBOX_BOTTON,fn.CLS_RADIOBOX_BOTTON],o=[fn.COMP_CLASS_DATEPICKER,fn.COMP_CLASS_TEXTFIELD,fn.COMP_CLASS_SINGLEFIELD,fn.COMP_CLASS_MULTIPLEFIELD];if(fn.isImageBlock(n))return{type:s.CLICK_TYPE_IMAGE_BLOCK,element:n};if(n.property.classify==fn.CLS_EXPRE)return{type:s.CLICK_TYPE_EXPRE,element:n};if(r.includes(n.property.classify))return{type:s.CLICK_TYPE_COMP_BUTTON,element:n};if(o.includes(n.modular.dataClass))return{type:s.CLICK_TYPE_COMP_POP,element:n};break}e-=a.width+a.dispersedspac+a.justifyspac}}var Hc=new WeakMap,Yc=new WeakMap,jc=new WeakMap,Vc=new WeakMap,zc=new WeakMap,Gc=new WeakSet,Kc=new WeakSet,Zc=new WeakSet,Jc=new WeakSet,qc=new WeakSet,$c=new WeakSet,Qc=new WeakSet,th=new WeakSet,eh=new WeakSet,ih=new WeakSet,nh=new WeakSet,ah=new WeakSet,rh=new WeakSet,oh=new WeakSet,sh=new WeakSet,lh=new WeakSet,ch=new WeakSet,hh=new WeakSet,uh=new WeakSet,fh=function(i){Yn(a,i);var n=vl(a);function a(e){var i;return t(this,a),_l(Xn(i=n.call(this,e)),uh),_l(Xn(i),hh),_l(Xn(i),ch),_l(Xn(i),lh),_l(Xn(i),sh),_l(Xn(i),oh),_l(Xn(i),rh),_l(Xn(i),ah),_l(Xn(i),nh),_l(Xn(i),ih),_l(Xn(i),eh),_l(Xn(i),th),_l(Xn(i),Qc),_l(Xn(i),$c),_l(Xn(i),qc),_l(Xn(i),Jc),_l(Xn(i),Zc),_l(Xn(i),Kc),_l(Xn(i),Gc),El(Xn(i),Hc,{writable:!0,value:void 0}),El(Xn(i),Yc,{writable:!0,value:void 0}),El(Xn(i),jc,{writable:!0,value:void 0}),El(Xn(i),Vc,{writable:!0,value:void 0}),El(Xn(i),zc,{writable:!0,value:void 0}),Kn(Xn(i),Hc,[]),i}return r(a,[{key:"getType",value:function(){return Il.TYPE_MODEL_TABLE}},{key:"getElements",value:function(){for(var t=[],e=this.getVisibleField(),i=0;i<e.length;i++){var n=e[i];t=[].concat(C(t),C(n.getElements()))}return t}},{key:"getLineHeight",value:function(){return Cl(this,nh,Lh).call(this,0)}},{key:"getChapterSize",value:function(t){for(var e=this.getVisibleField(),i=0;i<e.length;i++){var n=e[i];if(n.findIndex(t)>=0)return n.getChapterSize(t)}}},{key:"getTableSize",value:function(){return{colWidths:Gn(this,Yc),rowHeights:Gn(this,jc),rowPagings:Gn(this,Vc)}}},{key:"getVisibleField",value:function(){return Gn(this,Hc).filter((function(t){return t.getFieldIndex().visible}))}},{key:"getMaxColIndex",value:function(){return Gn(this,Yc).length-1}},{key:"getMaxRowIndex",value:function(){return Gn(this,jc).length-1}},{key:"addField",value:function(t){Gn(this,Hc).push(t)}},{key:"struct",value:function(t){Cl(this,Gc,dh).call(this),Cl(this,Kc,ph).call(this,t)}},{key:"typeset",value:function(){Cl(this,Zc,vh).call(this),Cl(this,Jc,_h).call(this),this.resize()}},{key:"paging",value:function(){var t=this.getSegment();Kn(this,Vc,[]),Kn(this,zc,[]);for(var e=0;e<Gn(this,jc).length;e++){Gn(this,zc).push(t.segOffset),Cl(this,nh,Lh).call(this,e)>t.segHeight-t.segOffset?(Gn(this,Vc).push(t.segHeight-t.segOffset+t.segBottom+t.segTop),t.segOffset=0):Gn(this,Vc).push(0);var i=Cl(this,Qc,gh).call(this,e);i<t.segHeight-t.segOffset?t.segOffset+=i:t.segOffset=Cl(this,$c,Eh).call(this,e,t.segOffset)}this.resize(),this.setSegOffset(t.segOffset)}},{key:"locate",value:function(t,e){var i=this;this.setOffset(t,e);var n=Cl(this,ah,wh).call(this),a=this.getMargin(),r=this.getPadding();e+=a.marginTop,e+=r.paddingTop,t+=r.paddingLeft,t+=a.marginLeft,t+=n,this.getVisibleField().forEach((function(n){var a=n.getFieldIndex();if(a.visible){for(var r=0,o=0,s=0;s<a.row-a.rowspan+1;s++)r+=Gn(i,jc)[s],r+=Gn(i,Vc)[s+1];for(var l=0;l<a.col-a.colspan+1;l++)o+=Gn(i,Yc)[l];n.locate(t+o,e+r)}}))}},{key:"localeElement",value:function(t,e){var i=this.getMargin(),n=this.getPadding(),a=(this.getSegment(),Cl(this,ah,wh).call(this));e-=i.marginTop,e-=n.paddingTop,t-=n.paddingLeft,t-=i.marginLeft,t-=a;for(var r,o=this.getVisibleField(),s=0,l=0,c=0;c<o.length;c++){var h=(r=o[c]).getFieldIndex();if(h.visible){s=0,l=0;for(var u=0;u<h.row-h.rowspan+1;u++)s+=Gn(this,jc)[u],s+=Gn(this,Vc)[u+1];for(var f=0;f<h.col-h.colspan+1;f++)l+=Gn(this,Yc)[f];var d=r.getHeight();if(t-l<=Cl(this,th,Ch).call(this,r)&&e-s<=d)break}}return r.localeElement(t-l,e-s)}},{key:"positionElement",value:function(t,i){var n=this,a=this.getMargin(),r=this.getPadding(),o=this.getSegment(),l=Cl(this,ah,wh).call(this);i-=a.marginTop,i-=r.paddingTop,t-=r.paddingLeft,t-=a.marginLeft,t-=l;for(var c=0,h=0;c<Gn(this,jc).length;c++){var u=Gn(this,jc)[c],f=Gn(this,Vc)[c];if(c>0&&(i-=Gn(this,Vc)[c-1]),i<f){i<f-o.segTop&&(c-=1);break}if(c>0&&(i-=Gn(this,jc)[c-1]),i<u)break}for(c=Math.min(c,this.getMaxRowIndex());h<Gn(this,Yc).length;h++){var d=Gn(this,Yc)[h];if(h>0&&(t-=Gn(this,Yc)[h-1]),t<d)break}h=Math.min(h,this.getMaxColIndex());for(var p=this.getVisibleField(),v=0;v<p.length;v++){var _=p[v],E=_.getFieldIndex();if(Di.isFieldIndex(E,c,h)){var g=Cl(this,th,Ch).call(this,_),C=Cl(this,eh,yh).call(this,_),y=t+Di.getListLenValue(Gn(this,Yc),E.col-E.colspan+1,h-1),S=i+Di.getListLenValue(Gn(this,jc),E.row-E.rowspan+1,c-1)+Di.getListLenValue(Gn(this,Vc),E.row-E.rowspan+2,c),L=Di.isFieldInside(y,S,g,C);if(L==s.TABLE_BORDER_INSIDE)return _.positionElement(y,S);var w=function(){var t=[];return Gn(n,Hc).forEach((function(e){t.push(e.getElements().at(-1))})),{v:{type:s.CLICK_TYPE_TABLE_BORDER,border:L,cell:_.getElements().at(-1),all:t}}}();if("object"===e(w))return w.v}}}},{key:"resize",value:function(){var t=this.getMargin(),e=this.getPadding(),i=t.marginBot+t.marginTop+e.paddingBot+e.paddingTop;Gn(this,jc).forEach((function(t){i+=t})),Gn(this,Vc).forEach((function(t){i+=t})),this.setHeight(i)}},{key:"debug",value:function(){var t=qn(Vn(a.prototype),"debug",this).call(this);return t.children=[],Gn(this,Hc).forEach((function(e){return t.children.push(e.debug())})),t}},{key:"localeUpElement",value:function(t,e,i){for(var n=this.getVisibleField(),a=0;a<n.length;a++){var r=n[a];if(r.findIndex(t)>=0){var o=Cl(this,ih,Sh).call(this,r);if(r.localeUpElement(t,e-o,i))return!0;var s=r.getFieldIndex();return s.row-s.rowspan+1>0&&(Cl(this,oh,Th).call(this,s.row-s.rowspan,e,i),!0)}}}},{key:"localeDownElement",value:function(t,e,i){for(var n=this.getVisibleField(),a=0;a<n.length;a++){var r=n[a];if(r.findIndex(t)>=0){var o=Cl(this,ih,Sh).call(this,r);if(r.localeDownElement(t,e-o,i))return!0;var s=r.getFieldIndex();return s.row<this.getMaxRowIndex()&&(Cl(this,oh,Th).call(this,s.row+1,e,i),!0)}}}},{key:"localeLastLineElement",value:function(t,e){Cl(this,oh,Th).call(this,this.getMaxRowIndex(),t,e)}},{key:"localeFristLineElement",value:function(t,e){Cl(this,oh,Th).call(this,0,t,e)}},{key:"selectElement",value:function(t,e){var i=this.getVisibleField(),n=this.findArrayIndex(i,t,e),a=n[0],r=n[1];if(a==r)return i[a].selectElement(t,e);var o=Cl(this,rh,mh).call(this,[i[a],i[r]]);return Cl(this,ch,Ah).call(this,o.minrow,o.mincol,o.maxrow,o.maxcol)}},{key:"selectElement2",value:function(t,e,i){var n=this.getVisibleField(),a=this.findArrayIndex(n,t.at(0),t.at(-1)),r=a[0];if(r!=a[1]){var o=0,l=0,c=999999,h=999999;n.forEach((function(e){if(t.indexOf(e.getElements().at(-1))>=0){var i=e.getFieldIndex();o=Math.max(i.row,o),l=Math.max(i.col,l),c=Math.min(i.row,c),h=Math.min(i.col,h)}}));var u=void 0;if(e==s.SELECT_POINT_END)if(i==s.SELECT_EXT_TYPE_R){if(l<this.getMaxColIndex())u=Cl(this,ch,Ah).call(this,c,l+1,o,l+1);else{if(!(o<this.getMaxRowIndex()))return!1;u=Cl(this,ch,Ah).call(this,o+1,h,o+1,l)}xi.splice(t,0,u)}else if(i==s.SELECT_EXT_TYPE_D){if(!(o<this.getMaxRowIndex()))return!1;u=Cl(this,ch,Ah).call(this,o+1,h,o+1,l),xi.splice(t,0,u)}else i==s.SELECT_EXT_TYPE_L?(u=Cl(this,ch,Ah).call(this,c,l,o,l),xi.remove(t,u)):i==s.SELECT_EXT_TYPE_U&&(u=Cl(this,ch,Ah).call(this,o,h,o,l),xi.remove(t,u));else if(e==s.SELECT_POINT_BEG)if(i==s.SELECT_EXT_TYPE_L){if(h>0)u=Cl(this,ch,Ah).call(this,c,h-1,o,h-1);else{if(!(c>0))return!1;u=Cl(this,ch,Ah).call(this,c-1,h,c-1,l)}xi.splice(t,0,u)}else if(i==s.SELECT_EXT_TYPE_U){if(!(c>0))return!1;u=Cl(this,ch,Ah).call(this,c-1,h,c-1,l),xi.splice(t,0,u)}else i==s.SELECT_EXT_TYPE_R?(u=Cl(this,ch,Ah).call(this,c,h,o,h),xi.remove(t,u)):i==s.SELECT_EXT_TYPE_D&&(u=Cl(this,ch,Ah).call(this,c,h,c,l),xi.remove(t,u));return!0}return!!n[r].selectElement2(t,e,i)||(e==s.SELECT_POINT_END?Cl(this,lh,Oh).call(this,t,e,i,r):e==s.SELECT_POINT_BEG?Cl(this,sh,bh).call(this,t,e,i,r):void 0)}},{key:"selectStepElement",value:function(t,e,i,n){var a=this.getVisibleField().find((function(t){return t.findIndex(e)>=0})).getFieldIndex();if(n){if(i==s.SELECT_EXT_TYPE_L||i==s.SELECT_EXT_TYPE_U){if(!(a.row>0))return!1;var r=Cl(this,ch,Ah).call(this,a.row-1,0,a.row-1,this.getMaxColIndex());xi.splice(t,0,r)}else if(i==s.SELECT_EXT_TYPE_R||i==s.SELECT_EXT_TYPE_D){if(!(a.row<this.getMaxRowIndex()))return!1;var o=Cl(this,ch,Ah).call(this,a.row+1,0,a.row+1,this.getMaxColIndex());xi.splice(t,0,o)}}else{var l=Cl(this,ch,Ah).call(this,a.row,0,a.row,this.getMaxColIndex());xi.remove(t,l)}return!0}},{key:"selectHalfElement",value:function(t,e){for(var i=0,n=this.getVisibleField();i<n.length&&!(n[i].findIndex(t)>=0);i++);var a=n[i].getFieldIndex();return e==s.SELECT_POINT_END?Cl(this,ch,Ah).call(this,a.row-a.rowspan+1,0,this.getMaxRowIndex(),this.getMaxColIndex()):Cl(this,ch,Ah).call(this,0,0,a.row,this.getMaxColIndex())}},{key:"selectLastElement",value:function(t,e,i){for(var n=[],a=this.getVisibleField(),r=0;r<a.length;r++){var o=a[r];o.getFieldIndex().row==this.getMaxRowIndex()&&(n=[].concat(C(n),C(o.getElements())))}return xi.splice(t,0,n),!0}},{key:"selectFirstElement",value:function(t,e,i){for(var n=[],a=this.getVisibleField(),r=0;r<a.length;r++){var o=a[r];0==o.getFieldIndex().row&&(n=[].concat(C(n),C(o.getElements())))}return xi.splice(t,0,n),!0}},{key:"findTableFieldInfo",value:function(t,e){var i=this.getVisibleField();if(0==e.length){var n=i.findIndex((function(e){return e.findIndex(t)>=0})),a=i[n].findTableFieldInfo(t,e);if(a)return a;var r=Cl(this,rh,mh).call(this,[i[n]]);return Object.assign({field:i[n].getElements(),fields:Gn(this,Hc).map((function(t){return t.getElements()}))},r)}var o=this.findArrayIndex(i,e.at(0),e.at(-1)),s=o[0];if(s==o[1]){var l=i[s].findTableFieldInfo(t,e);if(l)return l}var c=[];i.forEach((function(t){e.findIndex((function(e){return e===t.getElements().at(-1)}))>=0&&c.push(t)}));var h=Cl(this,rh,mh).call(this,c);return Object.assign({fields:Gn(this,Hc).map((function(t){return t.getElements()}))},h)}},{key:"findTableMergeInfo",value:function(t){var e=this.getVisibleField(),i=this.findArrayIndex(e,t.at(0),t.at(-1)),n=i[0];if(n==i[1])return e[n].findTableMergeInfo(t);var a=[];return e.forEach((function(e){t.findIndex((function(t){return t===e.getElements().at(-1)}))>=0&&a.push(e)})),Cl(this,uh,kh).call(this,a)}}]),a}(nc);function dh(){var t=this,e=0,i=0,n=this.getVisibleField();n.forEach((function(t){var n=t.getFieldIndex();e=Math.max(n.row,e),i=Math.max(n.col,i)})),Kn(this,Yc,[]),Kn(this,jc,[]),Kn(this,Vc,[]);for(var a=0;a<=i;a++)Gn(this,Yc).push(0);for(var r=0;r<=e;r++)Gn(this,jc).push(0),Gn(this,Vc).push(0);n.forEach((function(e){var i=e.getFieldSize(),n=e.getFieldIndex();Gn(t,jc)[n.row]=i.preHeight,Gn(t,Yc)[n.col]=i.preWidth}))}function ph(t){this.getVisibleField().forEach((function(e){e.struct(t)}))}function vh(){var t=this;this.getVisibleField().forEach((function(e){var i=e.getFieldPadding(),n=Cl(t,th,Ch).call(t,e),a=s.TABLE_FIELD_BORDER_SPAC;e.setLineSize(n,0,0),e.setPadding(i[0]+a,i[1]+a,i[2]+a,i[3]+a),e.setMargin(0,0,0,0),e.typeset()}))}function _h(){var t=this;this.getVisibleField().forEach((function(e){var i=e.getFieldIndex(),n=0;i.rowspan>1&&Gn(t,jc).forEach((function(t,e){e>i.row-i.rowspan&&e<i.row&&(n+=t)})),Gn(t,jc)[i.row]=Math.max(Gn(t,jc)[i.row],e.getHeight()-n)}))}function Eh(t,e){var i=this.getSegment(),n=this.getVisibleField(),a=0;return n.forEach((function(n){var r=n.getFieldIndex();if(r.row==t&&1==r.rowspan){var o=n.getMargin(),s=n.getPadding(),l=o.marginBot+o.marginTop+s.paddingBot+s.paddingTop+e;n.setSegment(i.segHeight,i.segTop,i.segBottom,l),n.paging(),a=Math.max(n.getHeight(),a)}})),Gn(this,jc)[t]=Math.max(a,Gn(this,jc)[t]),(Gn(this,jc)[t]+e)%(i.segHeight+i.segTop+i.segBottom)}function gh(t){var e=this,i=this.getSegment(),n=this.getVisibleField(),a=0;return n.forEach((function(n){var r=n.getFieldIndex();if(r.row==t&&r.rowspan>1){var o=Gn(e,zc)[r.row-r.rowspan+1];n.setSegment(i.segHeight,i.segTop,i.segBottom,o),n.paging();for(var s=n.getHeight(),l=r.row-r.rowspan+1;l<r.row;l++)Gn(e,jc)[l],Gn(e,Vc)[l],ll("temp");a=Math.max(a,s)}})),Gn(this,jc)[t]=Math.max(a,Gn(this,jc)[t]),Gn(this,jc)[t]}function Ch(t){var e=t.getFieldIndex();return Di.getListLenValue(Gn(this,Yc),e.col-e.colspan+1,e.col)}function yh(t){var e=t.getFieldIndex();return Di.getListLenValue(Gn(this,jc),e.row-e.rowspan+1,e.row)+Di.getListLenValue(Gn(this,Vc),e.row-e.rowspan+2,e.row)}function Sh(t){for(var e=this.getMargin(),i=this.getPadding(),n=Cl(this,ah,wh).call(this),a=t.getFieldIndex(),r=e.marginLeft+i.paddingLeft+n,o=0;o<a.col-a.colspan+1;o++)r+=Gn(this,Yc)[o];return r}function Lh(t){var e=0;return this.getVisibleField().forEach((function(i){i.getFieldIndex().row==t&&(e=Math.max(i.getLineHeight(),e))})),e}function wh(){return Gn(this,Hc).at(-1).getFieldIndex().indentLeft}function mh(t){var e={};return t.forEach((function(t){var i=t.getFieldIndex();Mi.isNotUndefined(e.minrow)?e.minrow=Math.min(e.minrow,i.row-i.rowspan+1):e.minrow=i.row-i.rowspan+1,Mi.isNotUndefined(e.mincol)?e.mincol=Math.min(e.mincol,i.col-i.colspan+1):e.mincol=i.col-i.colspan+1,Mi.isNotUndefined(e.maxrow)?e.maxrow=Math.max(e.maxrow,i.row):e.maxrow=i.row,Mi.isNotUndefined(e.maxcol)?e.maxcol=Math.max(e.maxcol,i.col):e.maxcol=i.col})),e}function Th(t,e,i){for(var n=void 0,a=this.getVisibleField(),r=0;r<a.length&&!(a[r].getFieldIndex().row==t&&(n=a[r]).getOffset().offsetX+Cl(this,th,Ch).call(this,n)>e);r++);var o=Cl(this,ih,Sh).call(this,n);n.localeLastLineElement(e-o,i)}function bh(t,e,i,n){var a=this.getVisibleField();if(i==s.SELECT_EXT_TYPE_L){if(n>0){var r=Cl(this,hh,Rh).call(this,a[n-1].getFieldIndex(),a[n].getFieldIndex());return xi.splice(t,0,r),!0}return!1}if(i==s.SELECT_EXT_TYPE_U){var o=a[n].getFieldIndex();if(o.row>0){var l=Cl(this,ch,Ah).call(this,o.row-1,o.col-o.colspan+1,o.row-1,o.col);return xi.splice(t,0,l),!0}return!1}}function Oh(t,e,i,n){var a=this.getVisibleField();if(i==s.SELECT_EXT_TYPE_R){if(n<a.length-1){var r=Cl(this,hh,Rh).call(this,a[n+1].getFieldIndex(),a[n].getFieldIndex());return xi.splice(t,0,r),!0}return!1}if(i==s.SELECT_EXT_TYPE_D){var o=a[n].getFieldIndex();if(o.row<this.getMaxRowIndex()){var l=Cl(this,ch,Ah).call(this,o.row+1,o.col-o.colspan+1,o.row+1,o.col);return xi.splice(t,0,l),!0}return!1}}function Ah(t,e,i,n){for(var a=[],r=this.getVisibleField(),o=0;o<r.length;o++){var s=r[o];Di.isFieldInsideIndex(s.getFieldIndex(),t,e,i,n)&&a.push(s)}var l=[];return a.forEach((function(t){l=[].concat(C(l),C(t.getElements()))})),l}function Rh(t,e){var i=Math.min(t.row,e.row),n=Math.max(t.row,e.row),a=Math.min(t.col,e.col),r=Math.max(t.col,e.col);return Cl(this,ch,Ah).call(this,i,a,n,r)}function kh(t){for(var i=this,n=qn(Vn(fh.prototype),"findTableMergeInfo",this).call(this),a=Cl(this,rh,mh).call(this,t),r=function(a){for(var r=function(e){if(t.findIndex((function(t){return Di.isFieldIndex(t.getFieldIndex(),a,e)}))<0)return{v:{v:qn(Vn(fh.prototype),"findTableMergeInfo",i).call(i)}}},o=n.mincol;o<=n.maxcol;o++){var s=r(o);if("object"===e(s))return s.v}},o=(n=Object.assign(n,a)).minrow;o<=n.maxrow;o++){var s=r(o);if("object"===e(s))return s.v}var l=0==n.mincol&&n.maxcol==this.getMaxColIndex(),c=0==n.minrow&&n.maxrow==this.getMaxRowIndex();return Gn(this,Hc).forEach((function(t){n.fields.push(t.getElements())})),n.rect=!0,n.arow=l&&!c,n.acol=!l&&c,n.cell=l||c,n.table=l&&c,n}var Ih=function(e){Yn(n,e);var i=vl(n);function n(e){return t(this,n),i.call(this,e)}return r(n,[{key:"getFieldIndex",value:function(){var t=this.getElements().at(-1);return{row:t.property.row,col:t.property.col,rowspan:t.property.rowspan,colspan:t.property.colspan,indentLeft:t.property.indentLeft,indentRight:t.property.indentRight,visible:t.property.visible,borderHide:t.property.borderHide}}},{key:"getHeight",value:function(){return qn(Vn(n.prototype),"getHeight",this).call(this)}},{key:"getFieldSize",value:function(){var t=this.getElements().at(-1);return{preWidth:t.property.preWidth,preHeight:t.property.preHeight}}},{key:"getFieldPadding",value:function(){return this.getElements().at(-1).property.padding}},{key:"getFieldBorder",value:function(){return this.getElements().at(-1).property.border}},{key:"getLineHeight",value:function(){var t=this.getElements().at(-1),e=s.TABLE_FIELD_PADDING_V+s.TABLE_FIELD_BORDER_SPAC;return Math.max(t.property.preHeight,qn(Vn(n.prototype),"getLineHeight",this).call(this)+e)}}]),n}(lc),Dh=function(){function e(){t(this,e)}return r(e,null,[{key:"createFontStyle",value:function(t,e,i,n,a,r){var o=[];return n&&o.push("bold"),a&&o.push("italic"),r==s.SCRIPT_SUB||r==s.SCRIPT_SUP?Ii.isChineseWord(t)||Ii.isChineseSymbol(t)?o.push("".concat(i/2,"px")):o.push("".concat(2*i/3,"px")):o.push("".concat(i,"px")),o.push("".concat(e)),o.join(" ")}}]),e}();function xh(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),function(t,e){if(void 0===t)throw new TypeError("attempted to get private static field before its declaration")}(i),function(t,e){return e.get?e.get.call(t):e.value}(t,i)}var Mh=function(){function e(){t(this,e)}return r(e,null,[{key:"draw",value:function(t,i){var n=Object.assign({text:"",style:"0",transparency:30,fontfamily:"",fontsize:3e4},i),a=Ri.mmConversionPx(xh(this,e,Ph)),r=Ri.mmConversionPx(xh(this,e,Nh)),o=(xh(this,e,Bh)/a).toFixed(10);t.width=xh(this,e,Bh),t.height=xh(this,e,Fh),t.getContext("2d").scale(o,o),this.drawCanvas(t,n,a/2,r/2)}},{key:"drawCanvas",value:function(t,e,i,n){var a=t.getContext("2d");a.save(),a.fillStyle="rgba(0,0,0,".concat(e.transparency/100,")"),a.font="".concat(e.fontsize,"px ").concat(e.fontfamily),a.textAlign="center",a.textBaseline="middle","1"==e.style&&(a.translate(i,n),a.rotate(-45*Math.PI/180),a.translate(-i,-n)),a.fillText(e.text,i,n),a.restore()}}]),e}(),Ph={writable:!0,value:2100},Nh={writable:!0,value:2970},Bh={writable:!0,value:140},Fh={writable:!0,value:210};function Wh(t,e){Xh(t,e),e.add(t)}function Uh(t,e,i){Xh(t,e),e.set(t,i)}function Xh(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Hh(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var Yh=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){return t(this,o),a.apply(this,arguments)}return r(o,[{key:"resetCanvas",value:function(t){if(t){t.height=t.height,t.width=t.width;var e=t.getContext("2d"),i=this.getCurrentRatio();e.scale(i,i),e.imageSmoothingEnabled=!0,e.imageSmoothingQuality="high"}}},{key:"resetSvg",value:function(t){if(t){var e=this.getCurrentRatio(),i=t.clientWidth/e,n=t.clientHeight/e;t.setAttribute("viewBox","0 0 ".concat(i," ").concat(n)),t.innerHTML=""}}}]),o}($n),jh=new WeakMap,Vh=new WeakMap,zh=new WeakMap,Gh=new WeakMap,Kh=new WeakMap,Zh=new WeakMap,Jh=new WeakMap,qh=new WeakMap,$h=new WeakMap,Qh=new WeakMap,tu=new WeakSet,eu=new WeakSet,iu=new WeakSet,nu=new WeakSet,au=new WeakSet,ru=new WeakSet,ou=new WeakSet,su=new WeakSet,lu=new WeakSet,cu=new WeakSet,hu=new WeakSet,uu=new WeakSet,fu=new WeakSet,du=new WeakSet,pu=new WeakSet,vu=function(){function e(){t(this,e),Wh(this,pu),Wh(this,du),Wh(this,fu),Wh(this,uu),Wh(this,hu),Wh(this,cu),Wh(this,lu),Wh(this,su),Wh(this,ou),Wh(this,ru),Wh(this,au),Wh(this,nu),Wh(this,iu),Wh(this,eu),Wh(this,tu),Uh(this,jh,{writable:!0,value:void 0}),Uh(this,Vh,{writable:!0,value:void 0}),Uh(this,zh,{writable:!0,value:void 0}),Uh(this,Gh,{writable:!0,value:void 0}),Uh(this,Kh,{writable:!0,value:void 0}),Uh(this,Zh,{writable:!0,value:void 0}),Uh(this,Jh,{writable:!0,value:void 0}),Uh(this,qh,{writable:!0,value:void 0}),Uh(this,$h,{writable:!0,value:void 0}),Uh(this,Qh,{writable:!0,value:void 0})}return r(e,[{key:"init",value:function(t,e,i){Kn(this,Jh,[]),Kn(this,Kh,t),Kn(this,Zh,e),Kn(this,$h,0),Kn(this,Qh,0),Hh(this,tu,_u).call(this,i)}},{key:"setPart",value:function(t){Kn(this,qh,t)}},{key:"getExprees",value:function(){return Gn(this,Jh)}},{key:"getData",value:function(){return Gn(this,Zh)}},{key:"translate",value:function(t,e){Kn(this,$h,t),Kn(this,Qh,e)}},{key:"addLine",value:function(t,e,i,n,a,r){t+=Gn(this,$h),i+=Gn(this,$h);var o=t,l=e+=Gn(this,Qh),c=i,h=n+=Gn(this,Qh);n<e&&(o=i,l=n,c=t,h=e);var u=parseInt(l/Gn(this,jh)),f=l%Gn(this,jh),d=o,p=h-l+f,v=c-o+o;if(Gn(this,qh)==s.CONTENT_PART_BODY)for(var _=Gn(this,jh)-Gn(this,Gh),E=Gn(this,zh);p>0;){var g=Gn(this,jh)*u;Hh(this,eu,Eu).call(this,d,g+Math.max(E,f),v,g+Math.min(_,p),a,r),Hh(this,lu,mu).call(this,u,d,Math.max(E,f),v,Math.min(_,p),a,r),p-=Gn(this,jh),f=0,u++}else(Gn(this,qh)==s.CONTENT_PART_HEADER||Gn(this,qh)==s.CONTENT_PART_FOOTER)&&(Hh(this,eu,Eu).call(this,o,l,c,h,a,r),Hh(this,lu,mu).call(this,u,d,f,v,p,a,r))}},{key:"addLine2",value:function(t,e,i,n,a,r){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;t+=Gn(this,$h),i+=Gn(this,$h);var l=t,c=e+=Gn(this,Qh),h=i,u=n+=Gn(this,Qh);n<e&&(l=i,c=n,h=t,u=e);var f=parseInt(c/Gn(this,jh)),d=c%Gn(this,jh),p=l,v=u-c+d,_=h-l+l;Hh(this,eu,Eu).call(this,l,c,h,u,a,r,o,s),Hh(this,lu,mu).call(this,f,p,d,_,v,a,r,o)}},{key:"addText",value:function(t,e,i,n,a,r,o,s,l){e+=Gn(this,$h),i+=Gn(this,Qh);var c=parseInt(i/Gn(this,jh)),h=i%Gn(this,jh),u=e;Hh(this,iu,gu).call(this,e,i,t,r,n,a,o,s,l),Hh(this,cu,Tu).call(this,c,u,h,t,r,n,a,o,s,l)}},{key:"addText2",value:function(t,e,i,n,a,r){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0;e+=Gn(this,$h),i+=Gn(this,Qh),Hh(this,iu,gu).call(this,e,i,t,r,n,a,o,s,"",l,c)}},{key:"addImage",value:function(t,e,i,n,a){e+=Gn(this,$h),i+=Gn(this,Qh);var r=parseInt(i/Gn(this,jh)),o=i%Gn(this,jh),s=e;Hh(this,nu,Cu).call(this,t,e,i,n,a),Hh(this,hu,bu).call(this,r,s,o,t,n,a)}},{key:"addImage2",value:function(t,e,i,n,a,r){Hh(this,nu,Cu).call(this,t,e,i,n,a,r)}},{key:"addFullRect",value:function(t,e,i,n,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=Gn(this,$h),s=Gn(this,Qh),l=Gn(this,Kh).getContext("2d");l.save(),l.fillStyle=t,l.globalAlpha=r,l.fillRect(e+o,i+s,n,a),l.restore()}},{key:"addStrokeRect",value:function(t,e,i,n,a,r){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;t+=Gn(this,$h),e+=Gn(this,Qh);var l=parseInt(e/Gn(this,jh)),c=e%Gn(this,jh),h=t;Hh(this,au,yu).call(this,t,e,i,n,a,r,o,s),Hh(this,uu,Ou).call(this,l,h,c,i,n,a,r)}},{key:"addStrokeEllipse",value:function(t,e,i,n,a,r){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;t+=Gn(this,$h),e+=Gn(this,Qh);var s=parseInt(e/Gn(this,jh)),l=e%Gn(this,jh),c=t;Hh(this,ru,Su).call(this,t,e,i,n,a,r,o),Hh(this,fu,Au).call(this,s,c,l,i,n,a,r)}},{key:"addStrokeTriangle",value:function(t,e,i,n,a,r,o,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1;t+=Gn(this,$h),e+=Gn(this,Qh),i+=Gn(this,$h),n+=Gn(this,Qh),a+=Gn(this,$h),r+=Gn(this,Qh);var c=parseInt(Math.min(e,n,r)/Gn(this,jh)),h=e%Gn(this,jh),u=t,f=n%Gn(this,jh),d=i,p=r%Gn(this,jh),v=a;Hh(this,su,wu).call(this,t,e,i,n,a,r,o,s,l),Hh(this,pu,ku).call(this,c,u,h,d,f,v,p,o,s)}},{key:"addFillEllipse",value:function(t,e,i,n,a,r){t+=Gn(this,$h),e+=Gn(this,Qh);var o=parseInt(e/Gn(this,jh)),s=e%Gn(this,jh),l=t;Hh(this,ou,Lu).call(this,t,e,i,n,a,r),Hh(this,du,Ru).call(this,o,l,s,i,n,a,r)}},{key:"addWaterMark",value:function(t,e,i){var n=Gn(this,$h),a=Gn(this,Qh);Mh.drawCanvas(Gn(this,Kh),t,e+n,i+a)}},{key:"clearRect",value:function(t,e,i,n){var a=Gn(this,$h),r=Gn(this,Qh),o=Gn(this,Kh).getContext("2d");o.save(),o.clearRect(t+a,e+r,i,n),o.restore()}},{key:"drawAnchor",value:function(t,e,i,n,a){var r=Gn(this,$h),o=Gn(this,Qh),s=Gn(this,Kh).getContext("2d");s.save(),s.strokeStyle=t,s.fillStyle=t,s.lineWidth=e,s.beginPath(),s.moveTo(i+r,n+o),s.lineTo(i+r+a,n+o),s.lineTo(i+r+a,n+o-a),s.stroke(),s.beginPath(),s.moveTo(i+r,n),s.lineTo(i+r+a/3,n+o+a/3),s.lineTo(i+r+a/3,n+o-a/3),s.fill(),s.restore()}}]),e}();function _u(t){var e=t.getPageSize();Kn(this,jh,e.pxHeight),Kn(this,Vh,e.pxWidth),Kn(this,zh,e.pxHeaderHeight),Kn(this,Gh,e.pxFooterHeight)}function Eu(t,e,i,n,a,r){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l=Gn(this,Kh).getContext("2d");l.save(),l.globalAlpha=s,l.strokeStyle=a,l.lineWidth=r,l.setLineDash(o),l.beginPath(),l.moveTo(t,e),l.lineTo(i,n),l.stroke(),l.restore()}function gu(t,e,i,n,a,r,o,s,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"left",h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"alphabetic",u=Gn(this,Kh).getContext("2d");u.save(),u.fillStyle=n,u.textAlign=c,u.textBaseline=h,u.font=Dh.createFontStyle(i,a,10*parseInt(r/10),o,s,l),u.fillText(i,parseInt(t),parseInt(e)),u.restore()}function Cu(t,e,i,n,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=Gn(this,Kh).getContext("2d");o.save(),o.globalAlpha=r,o.drawImage(t.view,e,i,n,a),o.restore()}function yu(t,e,i,n,a,r){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l=(Gn(this,$h),Gn(this,Qh),Gn(this,Kh).getContext("2d"));l.save(),l.globalAlpha=s,l.lineWidth=r,l.setLineDash(o),l.strokeStyle=a,l.lineCap="round",l.lineJoin="round",l.rect(t,e,i,n),l.stroke(),l.restore()}function Su(t,e,i,n,a,r){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=Gn(this,Kh).getContext("2d");s.save(),s.globalAlpha=o,s.lineWidth=r,s.strokeStyle=a,s.beginPath(),s.ellipse(t,e,i,n,0,0,2*Math.PI),s.stroke(),s.restore()}function Lu(t,e,i,n,a,r){var o=Gn(this,Kh).getContext("2d");o.save(),o.lineWidth=r,o.fillStyle=a,o.beginPath(),o.ellipse(t,e,i,n,0,0,2*Math.PI),o.fill(),o.restore()}function wu(t,e,i,n,a,r,o,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,c=Gn(this,Kh).getContext("2d");c.save(),c.lineWidth=s,c.globalAlpha=l,c.strokeStyle=o,c.beginPath(),c.moveTo(t,e),c.lineTo(i,n),c.lineTo(a,r),c.closePath(),c.stroke(),c.restore()}function mu(t,e,i,n,a,r,o,s){Gn(this,Jh).push({cls:"line",pageNum:t,pageX1:e,pageY1:i,pageX2:n,pageY2:a,color:r,weight:o,dash:s})}function Tu(t,e,i,n,a,r,o,s,l,c){Gn(this,Jh).push({cls:"text",pageNum:t,pageX:e,pageY:i,code:n,color:a,font:r,size:o,bold:s,italic:l,script:c})}function bu(t,e,i,n,a,r){Gn(this,Jh).push({cls:"image",pageNum:t,pageX:e,pageY:i,code:n.base64,width:a,height:r})}function Ou(t,e,i,n,a,r,o){Gn(this,Jh).push({cls:"strokerect",pageNum:t,pageX:e,pageY:i,width:n,height:a,style:r,linewidth:o})}function Au(t,e,i,n,a,r,o){Gn(this,Jh).push({cls:"strokeellipse",pageNum:t,pageX:e,pageY:i,width:n,height:a,style:r,linewidth:o})}function Ru(t,e,i,n,a,r,o){Gn(this,Jh).push({cls:"fillellipse",pageNum:t,pageX:e,pageY:i,width:n,height:a,style:r,linewidth:o})}function ku(t,e,i,n,a,r,o,s,l){Gn(this,Jh).push({cls:"stroketriangle",pageNum:t,pageX1:e,pageY1:i,pageX2:n,pageY2:a,pageX3:r,pageY3:o,style:s,linewidth:l})}function Iu(t,e){Du(t,e),e.add(t)}function Du(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xu(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}o(vu,"FILTER_FILL_STYLE","rgba(255, 255, 255, 0.59)");var Mu=new WeakMap,Pu=new WeakSet,Nu=new WeakSet,Bu=new WeakSet,Fu=new WeakSet,Wu=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e,i,n,r;return t(this,o),Iu(Xn(e=a.call(this)),Fu),Iu(Xn(e),Bu),Iu(Xn(e),Nu),Iu(Xn(e),Pu),r={writable:!0,value:void 0},Du(i=Xn(e),n=Mu),n.set(i,r),Kn(Xn(e),Mu,new vu),e}return r(o,[{key:"draw",value:function(t,e,i,n,a){this.resetCanvas(t),Gn(this,Mu).init(t,n,e),xu(this,Pu,Uu).call(this,t,n,i,a),xu(this,Nu,Xu).call(this,t,i),xu(this,Bu,Hu).call(this,t,n)}}]),o}(Yh);function Uu(t,e,i,n){var a=this;0==i.length&&fn.isRevision(n)&&fn.revisionLocation(e,n).forEach((function(t){var e=t._size,i=t._offset,n=i.offsetX,r=i.offsetY+i.height-i.baseLine/2-(e.fontHeight+i.baseLine/2+i.descent),o=i.offsetX+e.width+e.dispersedspac+e.justifyspac,l=i.offsetY+i.height-i.baseLine/2;Gn(a,Mu).addFullRect(s.COLOR_REVISION_BG,n,r,o-n,l-r)}))}function Xu(t,e){var i=this;e.forEach((function(t){var e=t._offset,n=t._size;if(t.property.type==fn.TYPE_STRUCT)if(fn.isHideCell(t));else{var a=s.STYLE_ANCHOR_WIDTH;Gn(i,Mu).addFullRect(s.COLOR_SELECT_BG,e.offsetX,e.offsetY,a+n.surplus,e.height)}else t.property.type==fn.TYPE_TEXT&&Gn(i,Mu).addFullRect(s.COLOR_SELECT_BG,e.offsetX,e.offsetY,n.width+n.dispersedspac+n.justifyspac,e.height)}))}function Hu(t,e){var i=this;Zi.isFocussable()&&(e.header.forEach((function(e){e.modular.type==fn.MODULAR_TYPE_COMP&&xu(i,Fu,Yu).call(i,t,e)})),e.footer.forEach((function(e){e.modular.type==fn.MODULAR_TYPE_COMP&&xu(i,Fu,Yu).call(i,t,e)})),e.body.forEach((function(e){e.modular.type==fn.MODULAR_TYPE_COMP&&xu(i,Fu,Yu).call(i,t,e)})))}function Yu(t,e){var i=Zi.getConfig(),n=e._offset,a=e._size;if([fn.COMP_CLASS_TEXTBOX,fn.COMP_CLASS_MULTIPLETEXTFIELD].includes(e.modular.dataClass));else{var r=a.fontHeight+a.descent;Gn(this,Mu).addFullRect(i.compTextBGColor,n.offsetX,n.offsetY+n.height-n.baseLine-r,a.width+a.dispersedspac+a.justifyspac,r)}}function ju(t,e){Vu(t,e),e.add(t)}function Vu(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zu(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var Gu=new WeakMap,Ku=new WeakSet,Zu=new WeakSet,Ju=new WeakSet,qu=new WeakSet,$u=new WeakSet,Qu=new WeakSet,tf=new WeakSet,ef=new WeakSet,nf=new WeakSet,af=new WeakSet,rf=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e,i,n,r;return t(this,o),ju(Xn(e=a.call(this)),af),ju(Xn(e),nf),ju(Xn(e),ef),ju(Xn(e),tf),ju(Xn(e),Qu),ju(Xn(e),$u),ju(Xn(e),qu),ju(Xn(e),Ju),ju(Xn(e),Zu),ju(Xn(e),Ku),r={writable:!0,value:void 0},Vu(i=Xn(e),n=Gu),n.set(i,r),Kn(Xn(e),Gu,new vu),e}return r(o,[{key:"draw",value:function(t,e,i,n,a,r,o,s,l,c,h){this.resetCanvas(t),Gn(this,Gu).init(t,i,e),zu(this,Ku,of).call(this,a,r,n,l,h),zu(this,Zu,sf).call(this,c),zu(this,Ju,lf).call(this,o),zu(this,qu,cf).call(this,s)}}]),o}(Yh);function of(t,e,i,n,a){if(0==i.length&&a){var r=t._offset,o=t._size,l=1.2*n.size;if(t===e){var c=r.offsetX,h=r.offsetY+r.height-r.baseLine,u=r.offsetX,f=r.offsetY+r.height-r.baseLine-l;Gn(this,Gu).addLine2(c,h,u,f,s.COLOR_CURSOR,s.WIDTH_CURSOR,s.LINE_SOLID)}else{var d=r.offsetX+o.width,p=r.offsetY+r.height-r.baseLine,v=r.offsetX+o.width,_=r.offsetY+r.height-r.baseLine-l;Gn(this,Gu).addLine2(d,p,v,_,s.COLOR_CURSOR,s.WIDTH_CURSOR,s.LINE_SOLID)}}}function sf(t){var e=t.getObject();if(t.getType()==s.DRAG_VIEW_LINE_H)t.isActive()&&Gn(this,Gu).addLine2(rf.LINE_MIN_LEN,e.offsetY,rf.LINE_MAX_LEN,e.offsetY,s.COLOR_CURSOR,s.WIDTH_CURSOR,s.LINE_DASHED_1);else if(t.getType()==s.DRAG_VIEW_LINE_V)t.isActive()&&Gn(this,Gu).addLine2(e.offsetX,rf.LINE_MIN_LEN,e.offsetX,rf.LINE_MAX_LEN,s.COLOR_CURSOR,s.WIDTH_CURSOR,s.LINE_DASHED_1);else if(t.getType()==s.DRAG_VIEW_IMAGE&&t.isActive()){var i=e._drag_size,n=e._drag_offset;Gn(this,Gu).addImage2(e.extend,n.offsetX,n.offsetY,i.width,i.height,.5)}}function lf(t){if(fn.isImageBlock(t))zu(this,$u,hf).call(this,t);else if(fn.isLineObject(t)){var e=t.property,i=t._drag_offset;zu(this,Qu,uf).call(this,i.x1,i.y1,i.x2,i.y2,e.lineWidth,e.lineColor)}else if(fn.isRectObject(t)){var n=t.property,a=t._drag_offset;zu(this,tf,ff).call(this,a.x1,a.y1,a.x2,a.y2,n.lineWidth,n.lineColor),n.classify==fn.OBJECT_SHAPE_RECT?zu(this,ef,df).call(this,a.x1,a.y1,a.x2,a.y2,n.lineWidth,n.lineColor):n.classify==fn.OBJECT_SHAPE_ELLIPSE?zu(this,nf,pf).call(this,a.x1,a.y1,a.x2,a.y2,n.lineWidth,n.lineColor):n.classify==fn.OBJECT_SHAPE_TRIANGLE&&zu(this,af,vf).call(this,a.x1,a.y1,a.x2,a.y2,n.lineWidth,n.lineColor)}}function cf(t){if(fn.isLineObject(t)){var e=t.property,i=t._drag_offset;zu(this,Qu,uf).call(this,i.x1,i.y1,i.x2,i.y2,e.lineWidth,e.lineColor)}else if(fn.isRectObject(t)){var n=t.property,a=t._drag_offset;zu(this,tf,ff).call(this,a.x1,a.y1,a.x2,a.y2,n.lineWidth,n.lineColor),n.classify==fn.OBJECT_SHAPE_RECT?zu(this,ef,df).call(this,a.x1,a.y1,a.x2,a.y2,n.lineWidth,n.lineColor):n.classify==fn.OBJECT_SHAPE_ELLIPSE?zu(this,nf,pf).call(this,a.x1,a.y1,a.x2,a.y2,n.lineWidth,n.lineColor):n.classify==fn.OBJECT_SHAPE_TRIANGLE&&zu(this,af,vf).call(this,a.x1,a.y1,a.x2,a.y2,n.lineWidth,n.lineColor)}}function hf(t){var e=this,i=t._drag_size,n=t._drag_offset;ki.getBlockDragRect(n,i,s.LEN_BLOCK_DRAG).forEach((function(t){Gn(e,Gu).addFullRect(s.COLOR_BLOCK_DRAG,t.x,t.y,t.w,t.h)})),Gn(this,Gu).addStrokeRect(n.offsetX,n.offsetY,i.width,i.height,s.COLOR_BLOCK_BORDER,s.WIDTH_LINE_DEFUALT,s.LINE_DASHED_1)}function uf(t,e,i,n,a,r){var o=this;ki.getLineObjectDrag(t,e,i,n,s.LEN_BLOCK_DRAG).forEach((function(t){Gn(o,Gu).addFullRect(s.COLOR_BLOCK_DRAG,t.x,t.y,t.w,t.h)})),Gn(this,Gu).addLine2(t,e,i,n,r,a,[],.5)}function ff(t,e,i,n,a,r){var o=this;ki.getRectObjectDrag(t,e,i,n,s.LEN_BLOCK_DRAG).forEach((function(t){Gn(o,Gu).addFullRect(r,t.x,t.y,t.w,t.h,.5)}))}function df(t,e,i,n,a,r){Gn(this,Gu).addStrokeRect(t,e,i-t,n-e,r,a,[],.5)}function pf(t,e,i,n,a,r){var o=(i-t)/2,s=(n-e)/2;Gn(this,Gu).addStrokeEllipse(t+o,e+s,Math.abs(o),Math.abs(s),r,a,.5)}function vf(t,e,i,n,a,r){var o=(i-t)/2;Gn(this,Gu).addStrokeTriangle(t+o,e,i,n,t,n,r,a,.5)}function _f(t,e,i){return gf(t,e),i}function Ef(t,e,i){return gf(t,e),function(t,e){if(void 0===t)throw new TypeError("attempted to get private static field before its declaration")}(i),function(t,e){return e.get?e.get.call(t):e.value}(t,i)}function gf(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}o(rf,"LINE_MIN_LEN",0),o(rf,"LINE_MAX_LEN",9999999999);var Cf=function(){function e(){t(this,e)}return r(e,null,[{key:"getStr",value:function(){var t=this,i=[Ef(this,e,Sf),Ef(this,e,Lf),Ef(this,e,wf),Ef(this,e,mf),Ef(this,e,Tf),Ef(this,e,bf),Ef(this,e,Of),Ef(this,e,Af),Ef(this,e,Rf),Ef(this,e,kf),Ef(this,e,If),Ef(this,e,Df),Ef(this,e,xf),Ef(this,e,Mf),Ef(this,e,Pf)].map((function(i){return _f(t,e,yf).call(t,i+Ef(t,e,Nf))})).join(""),n=[Ef(this,e,Bf),Ef(this,e,Ff),Ef(this,e,Wf),Ef(this,e,Uf),Ef(this,e,Xf),Ef(this,e,Hf),Ef(this,e,Yf),Ef(this,e,jf),Ef(this,e,Vf),Ef(this,e,zf),Ef(this,e,Gf),Ef(this,e,Kf),Ef(this,e,Zf),Ef(this,e,Jf)],a=[Ef(this,e,qf),Ef(this,e,$f),Ef(this,e,Qf),Ef(this,e,td),Ef(this,e,ed),Ef(this,e,id),Ef(this,e,nd),Ef(this,e,ad),Ef(this,e,rd),Ef(this,e,od),Ef(this,e,sd),Ef(this,e,ld),Ef(this,e,cd),Ef(this,e,hd),Ef(this,e,ud),Ef(this,e,fd),Ef(this,e,dd),Ef(this,e,pd),Ef(this,e,vd),Ef(this,e,_d),Ef(this,e,Ed),Ef(this,e,gd)];return[i,n.map((function(i){return _f(t,e,yf).call(t,i+Ef(t,e,Cd))})).join("")+a.map((function(i){return _f(t,e,yf).call(t,i+Ef(t,e,Cd))})).join("")]}}]),e}();function yf(t){return String.fromCharCode(t)}var Sf={writable:!0,value:30},Lf={writable:!0,value:51},wf={writable:!0,value:47},mf={writable:!0,value:49},Tf={writable:!0,value:54},bf={writable:!0,value:19},Of={writable:!0,value:50},Af={writable:!0,value:55},Rf={writable:!0,value:66},kf={writable:!0,value:61},If={writable:!0,value:64},Df={writable:!0,value:25166},xf={writable:!0,value:26365},Mf={writable:!0,value:25853},Pf={writable:!0,value:25295},Nf={writable:!0,value:50},Bf={writable:!0,value:28},Ff={writable:!0,value:29},Wf={writable:!0,value:51},Uf={writable:!0,value:52},Xf={writable:!0,value:53},Hf={writable:!0,value:54},Yf={writable:!0,value:67},jf={writable:!0,value:68},Vf={writable:!0,value:69},zf={writable:!0,value:70},Gf={writable:!0,value:57},Kf={writable:!0,value:58},Zf={writable:!0,value:31},Jf={writable:!0,value:32},qf={writable:!0,value:55},$f={writable:!0,value:56},Qf={writable:!0,value:33},td={writable:!0,value:34},ed={writable:!0,value:35},id={writable:!0,value:62},nd={writable:!0,value:63},ad={writable:!0,value:64},rd={writable:!0,value:65},od={writable:!0,value:66},sd={writable:!0,value:59},ld={writable:!0,value:60},cd={writable:!0,value:30},hd={writable:!0,value:36},ud={writable:!0,value:37},fd={writable:!0,value:45},dd={writable:!0,value:46},pd={writable:!0,value:47},vd={writable:!0,value:48},_d={writable:!0,value:49},Ed={writable:!0,value:50},gd={writable:!0,value:61},Cd={writable:!0,value:20};function yd(t,e){wd(t,e),e.add(t)}function Sd(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function Ld(t,e,i){wd(t,e),e.set(t,i)}function wd(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}var md=new WeakMap,Td=new WeakMap,bd=new WeakMap,Od=new WeakMap,Ad=new WeakMap,Rd=new WeakMap,kd=new WeakMap,Id=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e;return t(this,o),Ld(Xn(e=a.call(this)),md,{writable:!0,value:void 0}),Ld(Xn(e),Td,{writable:!0,value:void 0}),Ld(Xn(e),bd,{writable:!0,value:void 0}),Ld(Xn(e),Od,{writable:!0,value:void 0}),Ld(Xn(e),Ad,{writable:!0,value:void 0}),Ld(Xn(e),Rd,{writable:!0,value:void 0}),Ld(Xn(e),kd,{writable:!0,value:void 0}),Kn(Xn(e),md,new Pp),Kn(Xn(e),bd,new zp),Kn(Xn(e),Od,new $d),Kn(Xn(e),Td,new Lp),Kn(Xn(e),kd,new Zp),Kn(Xn(e),Ad,new vu),Kn(Xn(e),Rd,new vu),e}return r(o,[{key:"draw",value:function(t,e,i,n,a,r){this.resetCanvas(t),this.resetCanvas(e),this.drawCanvas(t,e,i,n,a,r)}},{key:"drawCanvas",value:function(t,e,i,n,a,r){var o=Zi.getConfig().license,s=Zi.getConfig().licensee;Gn(this,Ad).init(t,i,n),Gn(this,Rd).init(e,i,n),Gn(this,md).init(Gn(this,Ad),Gn(this,Rd),o,s),Gn(this,bd).init(Gn(this,Ad),Gn(this,Rd),o,s),Gn(this,Od).init(Gn(this,Ad),Gn(this,Rd),o,s),Gn(this,Td).init(Gn(this,Ad),Gn(this,Rd),o,s),Gn(this,kd).init(Gn(this,Ad),Gn(this,Rd),o,s),Gn(this,bd).drawBelow(n),Gn(this,Od).drawBody(n),Gn(this,bd).drawAbove(n),Gn(this,Od).clearContent(n),Gn(this,Od).drawNumber(n,i.page),Gn(this,Od).drawHeaderFooter(n),Gn(this,Td).drawFilter(n,a),Gn(this,md).draw(n,i),Gn(this,kd).draw(i,n,r),i.info.canvasdpi=Ri.getHtmlDpi()[0],i.info.pagecount=n.getModelSize().pageCount,i.view=Gn(this,Ad).getExprees()}}]),o}(Yh),Dd=new WeakMap,xd=new WeakMap,Md=new WeakSet,Pd=new WeakSet,Nd=new WeakSet,Bd=new WeakSet,Fd=new WeakSet,Wd=new WeakSet,Ud=new WeakSet,Xd=new WeakSet,Hd=new WeakSet,Yd=new WeakSet,jd=new WeakSet,Vd=new WeakSet,zd=new WeakSet,Gd=new WeakSet,Kd=new WeakSet,Zd=new WeakSet,Jd=new WeakSet,qd=new WeakSet,$d=function(){function e(){t(this,e),yd(this,qd),yd(this,Jd),yd(this,Zd),yd(this,Kd),yd(this,Gd),yd(this,zd),yd(this,Vd),yd(this,jd),yd(this,Yd),yd(this,Hd),yd(this,Xd),yd(this,Ud),yd(this,Wd),yd(this,Fd),yd(this,Bd),yd(this,Nd),yd(this,Pd),yd(this,Md),Ld(this,Dd,{writable:!0,value:void 0}),Ld(this,xd,{writable:!0,value:void 0})}return r(e,[{key:"init",value:function(t,e){Kn(this,Dd,t),Kn(this,xd,e)}},{key:"drawBody",value:function(t){Gn(this,Dd).setPart(s.CONTENT_PART_BODY),Gn(this,xd).setPart(s.CONTENT_PART_BODY),Sd(this,Md,Qd).call(this,t.getBodyModel())}},{key:"drawHeaderFooter",value:function(t){for(var e=t.getModelSize(),i=t.getPageSize(),n=0;n<e.pageCount;n++){var a=n*i.pxHeight;Gn(this,Dd).translate(0,a),Gn(this,Dd).setPart(s.CONTENT_PART_HEADER),Gn(this,xd).setPart(s.CONTENT_PART_HEADER),Sd(this,Md,Qd).call(this,t.getHeaderModel()),Gn(this,Dd).setPart(s.CONTENT_PART_FOOTER),Gn(this,xd).setPart(s.CONTENT_PART_FOOTER),Sd(this,Md,Qd).call(this,t.getFooterModel()),Sd(this,Kd,dp).call(this,t,n),Gn(this,Dd).translate(0,0)}}},{key:"drawNumber",value:function(t,e){if("0"!=e.number&&e.align!=s.ALIGN_NONE)for(var i=t.getModelSize(),n=t.getPageSize(),a=0;a<i.pageCount;a++){var r={c:i.pageCount,n:a+1},o=a*n.pxHeight+n.pxHeight-n.pxFooterBottom,l=Ni.replaceVariables(e.format,r),c=l.length*e.size,h=parseInt(e.size),u=n.pxLeft;e.align==s.ALIGN_CENTER?u=(n.pxWidth-c)/2:e.align==s.ALIGN_RIGHT&&(u=n.pxWidth-n.pxRight-c),Gn(this,Dd).addText(l,u,o+h,e.family,e.size,"#000000",!1,!1,s.SCRIPT_NOR)}}},{key:"clearContent",value:function(t){for(var e=t.getModelSize(),i=t.getPageSize(),n=0;n<e.pageCount;n++){var a=n*i.pxHeight;Gn(this,Dd).clearRect(0,a,i.pxWidth,i.pxHeaderHeight),Gn(this,Dd).clearRect(0,a+i.pxHeight-i.pxFooterHeight,i.pxWidth,i.pxFooterHeight)}}}]),e}();function Qd(t){var e=this;t.getChapters().forEach((function(t){t.getType()==Il.TYPE_MODEL_PARAG?Sd(e,Pd,tp).call(e,t):t.getType()==Il.TYPE_MODEL_TABLE&&Sd(e,Nd,ep).call(e,t)}))}function tp(t){var e=this;t.getLines().forEach((function(t){Sd(e,Bd,ip).call(e,t)}))}function ep(t){var e=this,i=t.getVisibleField(),n=t.getTableSize();i.forEach((function(t){Sd(e,Fd,np).call(e,t,n,i),Sd(e,Md,Qd).call(e,t)}))}function ip(t){var e=this;t.elements.forEach((function(t,i){t.property.type==fn.TYPE_STRUCT?t.property.classify==fn.CLS_DIVDER?Sd(e,Ud,rp).call(e,t):Sd(e,Wd,ap).call(e,t):t.property.classify==fn.CLS_TEXT_CHAR?Sd(e,Xd,op).call(e,t):t.property.classify==fn.CLS_TEXTBOX_BORDER?Sd(e,Yd,lp).call(e,t):t.property.classify==fn.CLS_TEXTBOX_BORDER_M?Sd(e,jd,cp).call(e,t):t.property.classify==fn.CLS_EXPRE?Sd(e,Gd,fp).call(e,t):t.property.classify==fn.CLS_CHECKBOX_BOTTON?Sd(e,Vd,hp).call(e,t):t.property.classify==fn.CLS_RADIOBOX_BOTTON?Sd(e,zd,up).call(e,t):fn.isImageBlock(t)&&Sd(e,Hd,sp).call(e,t)}))}function np(t,e,i){var n=t.getFieldIndex();if(n.visible){var a=t.getOffset(),r=t.getFieldBorder(),o=Di.getListLenValue(e.colWidths,n.col-n.colspan+1,n.col),s=Di.getListLenValue(e.rowHeights,n.row-n.rowspan+1,n.row)+Di.getListLenValue(e.rowPagings,n.row-n.rowspan+2,n.row);if(r[0].visible)for(var l=a.offsetX,c=a.offsetY-r[0].width/2,h=a.offsetY-r[0].width/2,u=0;u<n.colspan;u++){var f=e.colWidths[n.col-n.colspan+1+u],d=Di.getAdjoinCellBorder(i,n.row-n.rowspan,n.col-n.colspan+1+u);if(d){var p=d.getFieldBorder();(!p[2].visible||p[2].width<r[0].width)&&Gn(this,Dd).addLine(l,c,l+f,h,r[0].color,r[0].width)}else Gn(this,Dd).addLine(l,c,l+f,h,r[0].color,r[0].width);l+=f}if(r[1].visible)for(var v=a.offsetY,_=a.offsetX+o-r[1].width/2,E=a.offsetX+o-r[1].width/2,g=0;g<n.rowspan;g++){var C=e.rowHeights[n.row-n.rowspan+1+g],y=isNaN(e.rowPagings[n.row-n.rowspan+2+g])?0:e.rowPagings[n.row-n.rowspan+2+g],S=Di.getAdjoinCellBorder(i,n.row-n.rowspan+1+g,n.col+1);if(S){var L=S.getFieldBorder();(!L[3].visible||L[3].width<=r[1].width)&&Gn(this,Dd).addLine(_,v,E,v+C+y,r[1].color,r[1].width)}else Gn(this,Dd).addLine(_,v,E,v+C+y,r[1].color,r[1].width);v+=C+y}if(r[2].visible)for(var w=a.offsetX,m=a.offsetY-r[2].width/2+s,T=a.offsetY-r[2].width/2+s,b=0;b<n.colspan;b++){var O=e.colWidths[n.col-n.colspan+1+b],A=Di.getAdjoinCellBorder(i,n.row+1,n.col-n.colspan+1+b);if(A){var R=A.getFieldBorder();(!R[0].visible||R[0].width<=r[2].width)&&Gn(this,Dd).addLine(w,m,w+O,T,r[2].color,r[2].width)}else Gn(this,Dd).addLine(w,m,w+O,T,r[2].color,r[2].width);w+=O}if(r[3].visible)for(var k=a.offsetY,I=a.offsetX-r[3].width/2,D=a.offsetX-r[3].width/2,x=0;x<n.rowspan;x++){var M=e.rowHeights[n.row-n.rowspan+1+x],P=isNaN(e.rowPagings[n.row-n.rowspan+2+x])?0:e.rowPagings[n.row-n.rowspan+2+x],N=Di.getAdjoinCellBorder(i,n.row-n.rowspan+1+x,n.col-n.colspan);if(N){var B=N.getFieldBorder();(!B[1].visible||B[1].width<r[3].width)&&Gn(this,Dd).addLine(I,k,D,k+M+P,r[3].color,r[3].width)}else Gn(this,Dd).addLine(I,k,D,k+M+P,r[3].color,r[3].width);k+=M+P}}}function ap(t){}function rp(t){var e=t._offset,i=t._size,n=s.COLOR_DIVDER,a=s.WIDTH_DIVDER_1;if(t.property.divderType.toString().startsWith("1")){var r=[];"11"==t.property.divderType||("12"==t.property.divderType?r=s.LINE_DASHED_1:"13"==t.property.divderType?r=s.LINE_DASHED_2:"14"==t.property.divderType&&(r=s.LINE_DASHED_3));var o=e.offsetX,l=e.offsetY+e.height/2,c=e.offsetX+i.width,h=e.offsetY+e.height/2;Gn(this,Dd).addLine2(o,l,c,h,n,a,r)}else if(t.property.divderType.toString().startsWith("2")){var u=[];"21"==t.property.divderType||"22"==t.property.divderType&&(u=[20,20]);var f=e.offsetY+(e.height-3*s.WIDTH_DIVDER_1)/2,d=f+2*s.WIDTH_DIVDER_1,p=e.offsetX,v=f,_=e.offsetX+i.width,E=f;Gn(this,Dd).addLine2(p,v,_,E,n,a,u),p=e.offsetX,v=d,_=e.offsetX+i.width,E=d,Gn(this,Dd).addLine2(p,v,_,E,n,a,u)}}function op(t){var e=t._size,i=t._offset,n=t.property.code,a=t.textStyle.color,r=t.textStyle.font,o=t.textStyle.size,l=t.textStyle.bold,c=t.textStyle.italic,h=t.textStyle.script;if(("1"==t.modular.revision||"2"==t.modular.revision)&&(a=s.COLOR_REVISION_WORD),t.textStyle.script==s.SCRIPT_SUP){var u=i.offsetX,f=i.offsetY+i.height-i.baseLine-i.descent-e.fontHeight/2;t.property.placeholder?Gn(this,xd).addText(n,u,f,r,o,s.COLOR_TEXTBOX_PHR,l,c,h):Gn(this,Dd).addText(n,u,f,r,o,a,l,c,h)}else{var d=i.offsetX,p=i.offsetY+i.height-i.baseLine-i.descent;t.property.placeholder?Gn(this,xd).addText(n,d,p,r,o,s.COLOR_TEXTBOX_PHR,l,c,h):Gn(this,Dd).addText(n,d,p,r,o,a,l,c,h)}if("2"==t.modular.revision){var v=s.WIDTH_STRIKETHROUGH,_=i.offsetX,E=i.offsetY+i.height-i.baseLine-i.descent-e.fontHeight/3,g=i.offsetX+e.width+e.dispersedspac+e.justifyspac,C=i.offsetY+i.height-i.baseLine-i.descent-e.fontHeight/3;Gn(this,Dd).addLine2(_,E,g,C,a,v)}else if(t.textStyle.strikethrough){var y=s.WIDTH_STRIKETHROUGH,S=i.offsetX,L=i.offsetY+i.height-i.baseLine-i.descent-e.fontHeight/3,w=i.offsetX+e.width+e.dispersedspac+e.justifyspac,m=i.offsetY+i.height-i.baseLine-i.descent-e.fontHeight/3;Gn(this,Dd).addLine2(S,L,w,m,a,y)}var T=!1;if(t.modular.type==fn.MODULAR_TYPE_COMP&&(T=fn.getResourceCompInfo(Gn(this,Dd).getData(),t.modular.dataID).property.underline),t.textStyle.underline||T){var b=s.WIDTH_UNDERLINE,O=t.textStyle.color,A=i.offsetX,R=i.offsetY+i.height-i.baseLine,k=i.offsetX+e.width+e.dispersedspac+e.justifyspac,I=i.offsetY+i.height-i.baseLine;Gn(this,Dd).addLine2(A,R,k,I,O,b)}if(t.modular.type==fn.MODULAR_TYPE_COMP&&(fn.getResourceCompInfo(Gn(this,Dd).getData(),t.modular.dataID),t.modular.dataClass==fn.COMP_CLASS_TEXTBOX)){var D=s.WIDTH_COMP_BORDER,x=s.COLOR_COMP_BR,M=i.offsetX,P=i.offsetY+30,N=i.offsetX+e.width+e.dispersedspac+e.justifyspac,B=i.offsetY+i.height-30;Gn(this,Dd).addLine2(M,P,N,P,x,D),Gn(this,Dd).addLine2(M,B,N,B,x,D)}}function sp(t){var e=t._size,i=t._offset;Gn(this,Dd).addImage(t.extend,i.offsetX,i.offsetY,e.width,e.height)}function lp(t){var e=s.WIDTH_COMP_BORDER,i=s.COLOR_COMP_BR,n=t._size,a=t._offset,r=a.offsetY+30,o=a.offsetY+a.height-30;if("0"==t.property.code){var l=a.offsetX+n.width/2,c=a.offsetX+n.width;Gn(this,Dd).addLine2(l,r,l,o,i,e),Gn(this,Dd).addLine2(l,r,c,r,i,e),Gn(this,Dd).addLine2(l,o,c,o,i,e)}else if("1"==t.property.code){var h=a.offsetX,u=a.offsetX+n.width/2;Gn(this,Dd).addLine2(u,r,u,o,i,e),Gn(this,Dd).addLine2(h,r,u,r,i,e),Gn(this,Dd).addLine2(h,o,u,o,i,e)}}function cp(t){var e=s.WIDTH_COMP_BORDER,i=(s.COLOR_COMP_BR,t._size),n=t._offset,a=n.offsetY+n.height-n.baseLine-i.fontHeight,r=n.offsetY+n.height-n.baseLine,o=Zi.getConfig().multTextBDColor;if("0"==t.property.code){var l=n.offsetX+i.width/2,c=n.offsetX+i.width;Gn(this,xd).addLine2(l,a,l,r,o,e),Gn(this,xd).addLine2(l,a,c,a,o,e),Gn(this,xd).addLine2(l,r,c,r,o,e)}else if("1"==t.property.code){var h=n.offsetX,u=n.offsetX+i.width/2;Gn(this,xd).addLine2(u,a,u,r,o,e),Gn(this,xd).addLine2(h,a,u,a,o,e),Gn(this,xd).addLine2(h,r,u,r,o,e)}}function hp(t){var e=s.WIDTH_COMP_BORDER,i=s.COLOR_COMP_BR,n=t.textStyle.size,a=t._size,r=t._offset,o=r.offsetY+r.height-r.baseLine,l=o-n,c=r.offsetX+parseInt(.2*n),h=r.offsetX+a.width-parseInt(.2*n),u=h-c,f=o-l;Gn(this,Dd).addStrokeRect(c,l,u,f,i,e),t.property.code==s.VALUE_BOOL_TRUE&&(Gn(this,Dd).addLine2(c,o-f/2,c+u/3,o,i,e),Gn(this,Dd).addLine2(c+u/3,o,h,l,i,e))}function up(t){var e=s.WIDTH_COMP_BORDER,i=s.COLOR_COMP_BR,n=t.textStyle.size,a=t._size,r=t._offset,o=r.offsetY+r.height-r.baseLine,l=o-n,c=r.offsetX+parseInt(.2*n),h=(r.offsetX+a.width-parseInt(.2*n)-c)/2,u=(o-l)/2;Gn(this,Dd).addStrokeEllipse(c+h,l+u,h,u,i,e),fn.getResourceCompInfo(Gn(this,Dd).getData(),t.modular.dataID).property.value==t.property.code&&Gn(this,Dd).addFillEllipse(c+h,l+u,h/2,u/2,i,e)}function fp(t){switch(t.extend.type){case fn.EXP_MH:Sd(this,Zd,pp).call(this,t);break;case fn.EXP_TM:Sd(this,Jd,vp).call(this,t);break;case fn.EXP_FN:Sd(this,qd,_p).call(this,t)}}function dp(t,e){var i=t.getHeaderModel(),n=t.getPageSize();if(Zi.getConfig().headerDivider&&i.getElements().length>1){var a=i.getHeight();Gn(this,Dd).addLine2(n.pxLeft,a,n.pxWidth-n.pxRight,a,s.COLOR_HEADER_LINE,s.WIDTH_HEADER_LINE)}}function pp(t){var e=t.extend,i=t._size,n=t._offset,a=t.textStyle.color,r=t.textStyle.font,o=parseInt(t.textStyle.size),l=n.offsetX,c=n.offsetY+n.height-n.baseLine,h=c-i.fontHeight/2+o/2,u=c-i.fontHeight/2,f=c-i.fontHeight/2+o,d="".concat(e.field7,"岁"),p="".concat(e.field3,"-").concat(e.field4),v="".concat(e.field5,"-").concat(e.field6),_="".concat(e.field8),E="".concat(e.field2),g=p.length>v.length?p:v,C="0"==e.field1?_:d;Gn(this,Dd).addText("".concat(e.field2,"岁"),l,h,r,o,a,!1,!1,s.SCRIPT_NOR);var y=l+parseInt(o*(E.length+2)/2),S=y+parseInt(o*g.length/2);Gn(this,Dd).addText(p,y,u,r,o,a,!1,!1,s.SCRIPT_NOR),Gn(this,Dd).addText(v,y,f,r,o,a,!1,!1,s.SCRIPT_NOR),Gn(this,Dd).addLine2(y,u,S,u,a,s.WIDTH_EXP_LINE),Gn(this,Dd).addText(C,S,h,r,o,a,!1,!1,s.SCRIPT_NOR)}function vp(t){var e=this,i=t.extend,n=t._size,a=t._offset,r=t.textStyle.color,o=t.textStyle.font,l=parseInt(t.textStyle.size),c=a.offsetX,h=a.offsetX+n.width,u=a.offsetY+a.height-n.baseLine,f=u-n.fontHeight,d=function(t){var e=0;return t.forEach((function(t){t.show&&("r"==t.numerary||"l"==t.numerary?e+=parseInt(3*l/2+1*l/3):e+=l/2,t.surface.length>0&&(e+=t.surface.join(",").length*l*1/3))})),e},p=function(t,i,n){var a=0;t.forEach((function(t){t.show&&("r"==t.numerary?(Gn(e,Dd).addText("(".concat(t.name),i+a,n,o,l,r,!1,!1,s.SCRIPT_NOR),a+=parseInt(l),Gn(e,Dd).addText("S",i+a,n-l/2,o,l,r,!1,!1,s.SCRIPT_SUP),a+=parseInt(1*l/3),Gn(e,Dd).addText(")",i+a,n,o,l,r,!1,!1,s.SCRIPT_NOR),a+=parseInt(l/2)):"l"==t.numerary?(Gn(e,Dd).addText("(",i+a,n,o,l,r,!1,!1,s.SCRIPT_NOR),a+=parseInt(l/2),Gn(e,Dd).addText("S",i+a,n-l/2,o,l,r,!1,!1,s.SCRIPT_SUP),a+=parseInt(1*l/3),Gn(e,Dd).addText("".concat(t.name,")"),i+a,n,o,l,r,!1,!1,s.SCRIPT_NOR),a+=parseInt(l)):(Gn(e,Dd).addText("".concat(t.name),i+a,n,o,l,r,!1,!1,s.SCRIPT_NOR),a+=l/2),t.surface.length>0&&(Gn(e,Dd).addText("".concat(t.surface.join(",")),i+a,n-l/2,o,l,r,!1,!1,s.SCRIPT_SUP),a+=t.surface.join(",").length*l/3))}))},v=d(i.top.left),_=d(i.bot.left),E=c+l/4,g=E+Math.max(v,_)+l/4,C=g+l/4,y=u-n.fontHeight/2,S=y-.3*l,L=u-.1*l;p(i.top.left,E,S),p(i.top.right,C,S),p(i.bot.left,E,L),p(i.bot.right,C,L),Gn(this,Dd).addLine2(c,y,h,y,r,s.WIDTH_EXP_LINE),Gn(this,Dd).addLine2(g,f,g,u,r,s.WIDTH_EXP_LINE)}function _p(t){var e=t.extend,i=t._size,n=t._offset,a=t.textStyle.color,r=t.textStyle.font,o=parseInt(t.textStyle.size),l=n.offsetX,c=(n.offsetX,i.width,n.offsetY+n.height-i.baseLine),h=c-i.fontHeight,u=l+.1*o,f=u+o/2+.1*o,d=f+o/2+.1*o,p=d+.1*o,v=p+o/2+.1*o,_=c-o,E=_-o,g=function(t){return t?"+":"-"};Gn(this,Dd).addText(g(e.field1),f,E,r,o,a,!1,!1,s.SCRIPT_NOR),Gn(this,Dd).addText(g(e.field2),p,E,r,o,a,!1,!1,s.SCRIPT_NOR),Gn(this,Dd).addText(g(e.field3),f,_,r,o,a,!1,!1,s.SCRIPT_NOR),Gn(this,Dd).addText(g(e.field4),p,_,r,o,a,!1,!1,s.SCRIPT_NOR),Gn(this,Dd).addText(g(e.field5),f,c,r,o,a,!1,!1,s.SCRIPT_NOR),Gn(this,Dd).addText(g(e.field6),p,c,r,o,a,!1,!1,s.SCRIPT_NOR),Gn(this,Dd).addText("-",u,_,r,o,a,!1,!1,s.SCRIPT_NOR),Gn(this,Dd).addText("-",v,_,r,o,a,!1,!1,s.SCRIPT_NOR),Gn(this,Dd).addLine2(d,c,d,h,a,s.WIDTH_EXP_LINE)}var Ep=new WeakMap,gp=new WeakMap,Cp=new WeakSet,yp=new WeakSet,Sp=new WeakSet,Lp=function(){function e(){t(this,e),yd(this,Sp),yd(this,yp),yd(this,Cp),Ld(this,Ep,{writable:!0,value:void 0}),Ld(this,gp,{writable:!0,value:void 0})}return r(e,[{key:"init",value:function(t,e){Kn(this,Ep,t),Kn(this,gp,e)}},{key:"drawFilter",value:function(t,e){if(Zi.isFocussable())for(var i=t.getModelSize(),n=t.getPageSize(),a=0;a<i.pageCount;a++){var r=a*n.pxHeight;e==s.CONTENT_PART_HEADER?Sd(this,Cp,wp).call(this,r,n):e==s.CONTENT_PART_FOOTER?Sd(this,yp,mp).call(this,r,n):Sd(this,Sp,Tp).call(this,r,n)}}}]),e}();function wp(t,e){var i=t+e.pxHeaderHeight;Gn(this,gp).addFullRect(vu.FILTER_FILL_STYLE,0,i,e.pxWidth,e.pxHeight-e.pxHeaderHeight),Gn(this,gp).addLine2(0,i,e.pxWidth,i,s.COLOR_PAGE_SEG,s.WIDTH_PAGE_SEG,[4,4,4,4]),Gn(this,gp).addText2("页眉",30,i+s.STYLE_LINE_HEIGHT,"SimSun",180,"#363636")}function mp(t,e){var i=t+e.pxHeight-e.pxFooterHeight;Gn(this,gp).addFullRect(vu.FILTER_FILL_STYLE,0,t,e.pxWidth,e.pxHeight-e.pxFooterHeight),Gn(this,gp).addLine2(0,i,e.pxWidth,i,s.COLOR_PAGE_SEG,s.WIDTH_PAGE_SEG,[4,4,4,4]),Gn(this,gp).addText2("页脚",30,i-30,"SimSun",180,"#363636")}function Tp(t,e){Gn(this,gp).addFullRect(vu.FILTER_FILL_STYLE,0,t,e.pxWidth,e.pxHeaderHeight),Gn(this,gp).addFullRect(vu.FILTER_FILL_STYLE,0,t+e.pxHeight-e.pxFooterHeight,e.pxWidth,e.pxFooterHeight)}var bp=new WeakMap,Op=new WeakMap,Ap=new WeakMap,Rp=new WeakMap,kp=new WeakSet,Ip=new WeakSet,Dp=new WeakSet,xp=new WeakSet,Mp=new WeakSet,Pp=function(){function e(){t(this,e),yd(this,Mp),yd(this,xp),yd(this,Dp),yd(this,Ip),yd(this,kp),Ld(this,bp,{writable:!0,value:void 0}),Ld(this,Op,{writable:!0,value:void 0}),Ld(this,Ap,{writable:!0,value:void 0}),Ld(this,Rp,{writable:!0,value:void 0})}return r(e,[{key:"init",value:function(t,e,i,n){Kn(this,bp,t),Kn(this,Op,e),Kn(this,Ap,i),Kn(this,Rp,n)}},{key:"draw",value:function(t,e){Sd(this,kp,Np).call(this,t,e)}}]),e}();function Np(t,e){for(var i=t.getModelSize(),n=0;n<i.pageCount;n++)Sd(this,Ip,Bp).call(this,t,n),Sd(this,Dp,Fp).call(this,e.watermark,t.getPageSize(),n),Sd(this,xp,Wp).call(this,t.getPageInfo(),t.getPageSize(),n)}function Bp(t,e){if(Zi.isCopy()){var i=t.getHeaderModel(),n=t.getFooterModel(),a=t.getPageSize(),r=s.STYLE_LINE_HEIGHT,o=a.pxHeight*(e+1),l=a.pxHeight*e,c=a.pxWidth,h=a.pxLeft,u=a.pxRight,f=a.pxHeaderHeight,d=a.pxFooterHeight;Gn(this,Op).addLine2(0,o,c,o,s.COLOR_PAGEBORDER,s.WIDTH_PAGEBORDER);var p=Zi.getConfig().headerDivider,v=Zi.getConfig().footerDivider;p&&1!=i.getElements().length||(Gn(this,Op).addLine2(h,l+f,h-r,l+f,s.COLOR_BINDLINE,s.WIDTH_BINDLINE),Gn(this,Op).addLine2(h,l+f,h,l+f-r,s.COLOR_BINDLINE,s.WIDTH_BINDLINE),Gn(this,Op).addLine2(c-u+r,l+f,c-u,l+f,s.COLOR_BINDLINE,s.WIDTH_BINDLINE),Gn(this,Op).addLine2(c-u,l+f,c-u,l+f-r,s.COLOR_BINDLINE,s.WIDTH_BINDLINE)),v&&1!=n.getElements().length||(Gn(this,Op).addLine2(h-r,o-d,h,o-d,s.COLOR_BINDLINE,s.WIDTH_BINDLINE),Gn(this,Op).addLine2(h,o-d,h,o-d+r,s.COLOR_BINDLINE,s.WIDTH_BINDLINE),Gn(this,Op).addLine2(c-u+r,o-d,c-u,o-d,s.COLOR_BINDLINE,s.WIDTH_BINDLINE),Gn(this,Op).addLine2(c-u,o-d,c-u,o-d+r,s.COLOR_BINDLINE,s.WIDTH_BINDLINE))}}function Fp(t,e,i){if(t&&"9"!=t.style){var n=e.pxHeight*(i+.5),a=e.pxWidth/2;Gn(this,Op).addWaterMark(t,a,n),Gn(this,bp).addWaterMark(t,a,n)}}function Wp(t,e,i){var n=e.pxHeight*(i+1)-100,a=s.FontFamilys[0].value,r=s.FontSizes[9].value,o=Cf.getStr();Gn(this,Rp).length>0&&Sd(this,Mp,Up).call(this,o[1])==Gn(this,Ap)?(f.setParam(1,1),hn.info("licensee:"+Gn(this,Rp))):Gn(this,bp).addText(o[0],200,n,a,r,s.TABLE_FIELD_BORDER_COLOR)}function Up(t){for(var e,i,n,a=t.length,r=t.split(""),o="",s=0;s<Gn(this,Rp).length;s++)o+=r[(e=((e=((e=Gn(this,Rp).charCodeAt(s))-(i=e%a))/a)-(n=e%a))/a)%a]+r[n]+r[i];return o}var Xp=new WeakMap,Hp=new WeakMap,Yp=new WeakMap,jp=new WeakMap,Vp=new WeakSet,zp=function(){function e(){t(this,e),yd(this,Vp),Ld(this,Xp,{writable:!0,value:void 0}),Ld(this,Hp,{writable:!0,value:void 0}),Ld(this,Yp,{writable:!0,value:void 0}),Ld(this,jp,{writable:!0,value:void 0})}return r(e,[{key:"init",value:function(t,e,i,n){Kn(this,Xp,t),Kn(this,Hp,e),Kn(this,Yp,i),Kn(this,jp,n)}},{key:"drawBelow",value:function(t){Sd(this,Vp,Gp).call(this,t.getPageInfo().below)}},{key:"drawAbove",value:function(t){Sd(this,Vp,Gp).call(this,t.getPageInfo().above)}}]),e}();function Gp(t){var e=this;t.forEach((function(t){var i=t.property,n=t.offset;if(fn.isLineObject(t))Gn(e,Xp).addLine2(n.x1,n.y1,n.x2,n.y2,i.lineColor,i.lineWidth);else if(fn.isRectObject(t))if(i.classify==fn.OBJECT_SHAPE_RECT)Gn(e,Xp).addStrokeRect(n.x1,n.y1,n.x2-n.x1,n.y2-n.y1,i.lineColor,i.lineWidth);else if(i.classify==fn.OBJECT_SHAPE_ELLIPSE){var a=(n.x2-n.x1)/2,r=(n.y2-n.y1)/2;Gn(e,Xp).addStrokeEllipse(n.x1+a,n.y1+r,Math.abs(a),Math.abs(r),i.lineColor,i.lineWidth)}else if(i.classify==fn.OBJECT_SHAPE_TRIANGLE){var o=(n.x2-n.x1)/2;Gn(e,Xp).addStrokeTriangle(n.x1+o,n.y1,n.x2,n.y2,n.x1,n.y2,i.lineColor,i.lineWidth)}}))}var Kp=new WeakMap,Zp=function(){function e(){t(this,e),Ld(this,Kp,{writable:!0,value:void 0})}return r(e,[{key:"init",value:function(t,e){Kn(this,Kp,e)}},{key:"draw",value:function(t,e,i){var n=this;if(0!=i.getList().length){t.body.forEach((function(t){if(t.modular.comments.length>0){var e=t._size,i=t._offset,a=s.WIDTH_UNDERLINE,r=s.COLOR_COMMENTS_LINE,o=i.offsetX,l=i.offsetY+i.height-i.baseLine/2,c=i.offsetX+e.width+e.dispersedspac+e.justifyspac,h=i.offsetY+i.height-i.baseLine/2;Gn(n,Kp).addLine2(o,l,c,h,r,a)}}));var a=e.getPageSize(),r=a.pxWidth-a.pxRight,o=a.pxWidth;i.getList().forEach((function(e){e.getId();var i=t.body.findLast((function(t){if(t.modular.comments.length>0&&t.modular.comments.includes(e.getId()))return!0}));if(i){var a=i._size,l=i._offset,c=s.WIDTH_UNDERLINE,h=s.COLOR_COMMENTS_LINE,u=l.offsetX+a.width+a.dispersedspac+a.justifyspac,f=l.offsetY+l.height-l.baseLine/2,d=l.offsetY+l.height-l.baseLine/2,p=e.getTop();Gn(n,Kp).addLine2(u,f,r,d,h,c,[20,20]),Gn(n,Kp).addLine2(r,f,o,p,h,c,[20,20])}}))}}}]),e}();function Jp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Vn(t);if(e){var a=Vn(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return jn(this,i)}}function qp(t,e,i){$p(t,e),e.set(t,i)}function $p(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}var Qp=new WeakMap,tv=new WeakMap,ev=new WeakMap,iv=new WeakSet,nv=function(e){Yn(n,e);var i=Jp(n);function n(){var e,a,r;t(this,n);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return $p(a=Xn(e=i.call.apply(i,[this].concat(s))),r=iv),r.add(a),qp(Xn(e),Qp,{writable:!0,value:[]}),qp(Xn(e),tv,{writable:!0,value:[]}),qp(Xn(e),ev,{writable:!0,value:void 0}),e}return r(n,[{key:"hasComments",value:function(t){var e=this;Kn(this,tv,[]);var i=Zi.getCommentsModel();return t.resources.comments.forEach((function(n){if(i==s.COMMENTS_SHOW_UN){if(n.state==s.COMMENTS_STATE_DE||n.state==s.COMMENTS_STATE_DO)return}else{if(i!=s.COMMENTS_SHOW_DO)return;if(n.state==s.COMMENTS_STATE_DE||n.state==s.COMMENTS_STATE_UN)return}var a=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}(e,iv,av).call(e,t.body,n.id);a.find&&(n.offset=a.offset,Gn(e,tv).push(n))})),Gn(this,tv).length>0}},{key:"render",value:function(t){var e=this;t.innerHTML="",Kn(this,Qp,[]),Gn(this,tv).forEach((function(t){var i=new vv(t);i.setChangeState(Gn(e,ev)),i.setOffset(t.offset),Gn(e,Qp).push(i)})),Gn(this,Qp).sort((function(t,e){return t.getOffset()-e.getOffset()})),Gn(this,Qp).forEach((function(e){t.appendChild(e.getDom())}));var i=0;Gn(this,Qp).forEach((function(t){var e=t.getOffset();t.refreshLocat(Math.max(e,i)),i=Math.max(i+t.getClientHeight()+3,t.getOffset()+t.getClientHeight()+3)}))}},{key:"setChangeCommentsState",value:function(t){Kn(this,ev,t)}},{key:"getList",value:function(){return Gn(this,Qp)}}]),n}($n);function av(t,e){var i=0,n=!1,a=this.getCurrentRatio();return t.forEach((function(t){var r=t.modular.comments;r.length>0&&r.includes(e)&&t._offset&&(i=Math.max(t._offset.offsetY*a,i),n=!0)})),{find:n,offset:i}}var rv=new WeakMap,ov=new WeakMap,sv=new WeakMap,lv=new WeakMap,cv=new WeakMap,hv=new WeakMap,uv=new WeakMap,fv=new WeakMap,dv=new WeakMap,pv=new WeakMap,vv=function(e){Yn(n,e);var i=Jp(n);function n(e){var a;return t(this,n),qp(Xn(a=i.call(this)),rv,{writable:!0,value:void 0}),qp(Xn(a),ov,{writable:!0,value:void 0}),qp(Xn(a),sv,{writable:!0,value:void 0}),qp(Xn(a),lv,{writable:!0,value:void 0}),qp(Xn(a),cv,{writable:!0,value:void 0}),qp(Xn(a),hv,{writable:!0,value:void 0}),qp(Xn(a),uv,{writable:!0,value:void 0}),qp(Xn(a),fv,{writable:!0,value:void 0}),qp(Xn(a),dv,{writable:!0,value:void 0}),qp(Xn(a),pv,{writable:!0,value:void 0}),Kn(Xn(a),rv,e.id),Kn(Xn(a),ov,document.createElement("div")),Kn(Xn(a),sv,document.createElement("div")),Kn(Xn(a),lv,document.createElement("div")),Kn(Xn(a),cv,document.createElement("div")),Kn(Xn(a),hv,document.createElement("div")),Kn(Xn(a),uv,document.createElement("div")),Gn(Xn(a),ov).append(Gn(Xn(a),sv)),Gn(Xn(a),sv).append(Gn(Xn(a),lv)),Gn(Xn(a),sv).append(Gn(Xn(a),hv)),Gn(Xn(a),sv).append(Gn(Xn(a),cv)),Gn(Xn(a),ov).append(Gn(Xn(a),uv)),Gn(Xn(a),ov).classList.add("comments-panel"),Gn(Xn(a),sv).classList.add("comments-title"),Gn(Xn(a),lv).classList.add("comments-title-lab"),Gn(Xn(a),cv).classList.add("comments-title-btn"),Gn(Xn(a),hv).classList.add("comments-title-btn"),Gn(Xn(a),uv).classList.add("comments-content"),Gn(Xn(a),ov).id=e.id,Gn(Xn(a),lv).innerHTML=e.username,e.state==s.COMMENTS_STATE_UN?(Gn(Xn(a),hv).innerHTML='<i class="layui-icon layui-icon-pass"></i>',Gn(Xn(a),hv).title="处理".concat(e.username,"批注"),Gn(Xn(a),hv).addEventListener("click",(function(){Gn(Xn(a),pv).call(Xn(a),e.id,s.COMMENTS_STATE_DO,e.useraccount)}))):(Gn(Xn(a),hv).innerHTML='<i class="layui-icon layui-icon-cancel"></i>',Gn(Xn(a),hv).title="取消处理".concat(e.username,"批注"),Gn(Xn(a),hv).addEventListener("click",(function(){Gn(Xn(a),pv).call(Xn(a),e.id,s.COMMENTS_STATE_UN,e.useraccount)}))),Gn(Xn(a),cv).innerHTML='<i class="layui-icon layui-icon-delete"></i>',Gn(Xn(a),cv).title="删除".concat(e.username,"批注"),Gn(Xn(a),cv).addEventListener("click",(function(){Gn(Xn(a),pv).call(Xn(a),e.id,s.COMMENTS_STATE_DE,e.useraccount)})),Gn(Xn(a),uv).innerHTML=e.text,a}return r(n,[{key:"setChangeState",value:function(t){Kn(this,pv,t)}},{key:"setOffset",value:function(t){Kn(this,fv,t)}},{key:"getOffset",value:function(){return Gn(this,fv)}},{key:"getId",value:function(){return Gn(this,rv)}},{key:"getDom",value:function(){return Gn(this,ov)}},{key:"getClientHeight",value:function(){return Gn(this,ov).clientHeight}},{key:"getTop",value:function(){var t=this.getCurrentRatio();return Gn(this,dv)/t}},{key:"refreshLocat",value:function(t){Kn(this,dv,t),Gn(this,ov).style.top="".concat(t,"px")}}]),n}($n);function _v(t,e){gv(t,e),e.add(t)}function Ev(t,e,i){gv(t,e),e.set(t,i)}function gv(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Cv(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var yv=new WeakMap,Sv=new WeakMap,Lv=new WeakMap,wv=new WeakMap,mv=new WeakMap,Tv=new WeakMap,bv=new WeakMap,Ov=new WeakMap,Av=new WeakSet,Rv=new WeakSet,kv=new WeakSet,Iv=function(){function e(){t(this,e),_v(this,kv),_v(this,Rv),_v(this,Av),Ev(this,yv,{writable:!0,value:void 0}),Ev(this,Sv,{writable:!0,value:void 0}),Ev(this,Lv,{writable:!0,value:void 0}),Ev(this,wv,{writable:!0,value:void 0}),Ev(this,mv,{writable:!0,value:void 0}),Ev(this,Tv,{writable:!0,value:void 0}),Ev(this,bv,{writable:!0,value:void 0}),Ev(this,Ov,{writable:!0,value:void 0})}return r(e,[{key:"init",value:function(t){Kn(this,yv,t),Cv(this,Av,Dv).call(this),Cv(this,Rv,xv).call(this)}},{key:"setPrintAction",value:function(t){Kn(this,Ov,t)}},{key:"show",value:function(){Gn(this,yv).style.display="flex"}},{key:"setMinBound",value:function(t,e){Kn(this,bv,e),Gn(this,yv).style.width="".concat(t,"px"),Gn(this,yv).style.height="".concat(e,"px")}}]),e}();function Dv(){Kn(this,Sv,document.createElement("div")),Gn(this,Sv).classList.add("mark-panel"),Kn(this,Lv,document.createElement("div")),Gn(this,Lv).classList.add("btns-panel"),Kn(this,wv,document.createElement("div")),Gn(this,wv).classList.add("drag-panel"),Gn(this,wv).draggable=!1,Kn(this,mv,document.createElement("button")),Gn(this,mv).classList.add("drag-panel-btn"),Gn(this,mv).textContent="续打",Kn(this,Tv,document.createElement("button")),Gn(this,Tv).classList.add("drag-panel-btn"),Gn(this,Tv).textContent="取消",Gn(this,Lv).append(Gn(this,mv)),Gn(this,Lv).append(Gn(this,Tv)),Gn(this,yv).draggable=!1,Gn(this,yv).append(Gn(this,Sv)),Gn(this,yv).append(Gn(this,Lv)),Gn(this,yv).append(Gn(this,wv))}function xv(){var t=this,e=void 0;Gn(this,Tv).addEventListener("click",(function(){Gn(t,yv).style.display="none"})),Gn(this,mv).addEventListener("click",(function(){var e=Gn(t,yv).getBoundingClientRect();Gn(t,yv).style.display="none",Gn(t,Ov).call(t,e.height)})),Gn(this,wv).addEventListener("mousedown",(function(i){e=i;var n=function(i){Cv(t,kv,Mv).call(t,i.clientY-e.clientY),e=i};document.addEventListener("mousemove",n),document.addEventListener("mouseup",(function t(e){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",t)}))}))}function Mv(t){var e=Gn(this,yv).getBoundingClientRect();e.height+t>=Gn(this,bv)&&(Gn(this,yv).style.height="".concat(e.height+t,"px"))}function Pv(t,e){Bv(t,e),e.add(t)}function Nv(t,e,i){Bv(t,e),e.set(t,i)}function Bv(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Fv(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var Wv=new WeakMap,Uv=new WeakMap,Xv=new WeakMap,Hv=new WeakMap,Yv=new WeakMap,jv=new WeakMap,Vv=new WeakMap,zv=new WeakMap,Gv=new WeakMap,Kv=new WeakMap,Zv=new WeakMap,Jv=new WeakMap,qv=new WeakMap,$v=new WeakMap,Qv=new WeakMap,t_=new WeakMap,e_=new WeakMap,i_=new WeakMap,n_=new WeakMap,a_=new WeakMap,r_=new WeakMap,o_=new WeakMap,s_=new WeakMap,l_=new WeakMap,c_=new WeakMap,h_=new WeakMap,u_=new WeakMap,f_=new WeakMap,d_=new WeakMap,p_=new WeakMap,v_=new WeakMap,__=new WeakMap,E_=new WeakMap,g_=new WeakMap,C_=new WeakMap,y_=new WeakMap,S_=new WeakSet,L_=new WeakSet,w_=new WeakSet,m_=new WeakSet,T_=new WeakSet,b_=new WeakSet,O_=new WeakSet,A_=new WeakSet,R_=new WeakSet,k_=new WeakSet,I_=new WeakSet,D_=new WeakSet,x_=new WeakSet,M_=new WeakSet,P_=new WeakSet,N_=new WeakSet,B_=new WeakSet,F_=new WeakSet,W_=new WeakSet,U_=new WeakSet,X_=new WeakSet,H_=new WeakSet,Y_=new WeakSet,j_=new WeakSet,V_=new WeakSet,z_=new WeakSet,G_=new WeakSet,K_=new WeakSet,Z_=new WeakSet,J_=new WeakSet,q_=new WeakSet,$_=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e;return t(this,o),Pv(Xn(e=a.call(this)),q_),Pv(Xn(e),J_),Pv(Xn(e),Z_),Pv(Xn(e),K_),Pv(Xn(e),G_),Pv(Xn(e),z_),Pv(Xn(e),V_),Pv(Xn(e),j_),Pv(Xn(e),Y_),Pv(Xn(e),H_),Pv(Xn(e),X_),Pv(Xn(e),U_),Pv(Xn(e),W_),Pv(Xn(e),F_),Pv(Xn(e),B_),Pv(Xn(e),N_),Pv(Xn(e),P_),Pv(Xn(e),M_),Pv(Xn(e),x_),Pv(Xn(e),D_),Pv(Xn(e),I_),Pv(Xn(e),k_),Pv(Xn(e),R_),Pv(Xn(e),A_),Pv(Xn(e),O_),Pv(Xn(e),b_),Pv(Xn(e),T_),Pv(Xn(e),m_),Pv(Xn(e),w_),Pv(Xn(e),L_),Pv(Xn(e),S_),Nv(Xn(e),Wv,{writable:!0,value:void 0}),Nv(Xn(e),Uv,{writable:!0,value:void 0}),Nv(Xn(e),Xv,{writable:!0,value:void 0}),Nv(Xn(e),Hv,{writable:!0,value:void 0}),Nv(Xn(e),Yv,{writable:!0,value:void 0}),Nv(Xn(e),jv,{writable:!0,value:void 0}),Nv(Xn(e),Vv,{writable:!0,value:void 0}),Nv(Xn(e),zv,{writable:!0,value:void 0}),Nv(Xn(e),Gv,{writable:!0,value:void 0}),Nv(Xn(e),Kv,{writable:!0,value:void 0}),Nv(Xn(e),Zv,{writable:!0,value:void 0}),Nv(Xn(e),Jv,{writable:!0,value:void 0}),Nv(Xn(e),qv,{writable:!0,value:void 0}),Nv(Xn(e),$v,{writable:!0,value:void 0}),Nv(Xn(e),Qv,{writable:!0,value:void 0}),Nv(Xn(e),t_,{writable:!0,value:void 0}),Nv(Xn(e),e_,{writable:!0,value:void 0}),Nv(Xn(e),i_,{writable:!0,value:void 0}),Nv(Xn(e),n_,{writable:!0,value:void 0}),Nv(Xn(e),a_,{writable:!0,value:void 0}),Nv(Xn(e),r_,{writable:!0,value:void 0}),Nv(Xn(e),o_,{writable:!0,value:void 0}),Nv(Xn(e),s_,{writable:!0,value:void 0}),Nv(Xn(e),l_,{writable:!0,value:void 0}),Nv(Xn(e),c_,{writable:!0,value:void 0}),Nv(Xn(e),h_,{writable:!0,value:void 0}),Nv(Xn(e),u_,{writable:!0,value:void 0}),Nv(Xn(e),f_,{writable:!0,value:void 0}),Nv(Xn(e),d_,{writable:!0,value:void 0}),Nv(Xn(e),p_,{writable:!0,value:void 0}),Nv(Xn(e),v_,{writable:!0,value:void 0}),Nv(Xn(e),__,{writable:!0,value:void 0}),Nv(Xn(e),E_,{writable:!0,value:void 0}),Nv(Xn(e),g_,{writable:!0,value:void 0}),Nv(Xn(e),C_,{writable:!0,value:void 0}),Nv(Xn(e),y_,{writable:!0,value:void 0}),Kn(Xn(e),f_,new Array),Kn(Xn(e),n_,new Il),Kn(Xn(e),Jv,new oo),Kn(Xn(e),qv,new ar),Kn(Xn(e),$v,new ka),Kn(Xn(e),t_,new Qo),Kn(Xn(e),Qv,new hs),Kn(Xn(e),e_,new Xo),Kn(Xn(e),zv,new Id),Kn(Xn(e),Kv,new rf),Kn(Xn(e),Gv,new Wu),Kn(Xn(e),__,new Os),Kn(Xn(e),E_,new vs),Kn(Xn(e),g_,new nv),Kn(Xn(e),a_,new rl),e}return r(o,[{key:"load",value:function(t){var e=this,i=Zi.showMask(!0);Vs.loadData(t,(function(t){Zi.showMask(!0,t)}),(function(t){e.compatibility(t),Kn(e,p_,s.CONTENT_PART_BODY),Fv(e,w_,eE).call(e,Gn(e,i_).body[0],Gn(e,i_).body[0]),Fv(e,R_,sE).call(e),Fv(e,m_,iE).call(e),Fv(e,A_,oE).call(e,Zi.isFocussable()),Zi.showMask(!1,i)}))}},{key:"create",value:function(t,e){Kn(this,C_,t),Kn(this,y_,e),Fv(this,S_,Q_).call(this),Fv(this,L_,tE).call(this)}},{key:"loadMacroData",value:function(t,e){Kn(this,r_,t),this.changeFileInfo(e),this.changeCompValue(t)}},{key:"refresh",value:function(){Fv(this,A_,oE).call(this,Zi.isFocussable())}},{key:"compatibility",value:function(t){Kn(this,i_,t),Gn(this,i_).resources=Object.assign(Fn.getDefalueResources(),Gn(this,i_).resources),fn.compatibility(Gn(this,i_).body),fn.compatibility(Gn(this,i_).header),fn.compatibility(Gn(this,i_).footer)}},{key:"getTextStyle",value:function(){return hn.debug("getTextStyle"),Object.assign({},Gn(this,o_))}},{key:"getParagStyle",value:function(){return hn.debug("getParagStyle"),Fv(this,J_,AE).call(this),Object.assign({},Gn(this,t_).getParagStyle())}},{key:"getPaperInfo",value:function(){return Object.assign({},Gn(this,i_).paper)}},{key:"getViewInfo",value:function(){var t={view:Gn(this,i_).view,paper:Gn(this,i_).paper,info:Gn(this,i_).info,page:Gn(this,i_).page};return Vs.compressJson(t)}},{key:"getUsedColors",value:function(){return Gn(this,t_).getUsedColors()}},{key:"getViewSize",value:function(){var t=Gn(this,n_).getModelSize();return{width:t.width*s.SYS_STANDARD_RATIO,height:t.height*s.SYS_STANDARD_RATIO}}},{key:"getPageNumInfo",value:function(){return{number:Gn(this,i_).page.number,format:Gn(this,i_).page.format,align:Gn(this,i_).page.align,size:Gn(this,i_).page.size,family:Gn(this,i_).page.family}}},{key:"getCompInfo",value:function(t){return fn.getResourceCompInfo(Gn(this,i_),t)}},{key:"getCompValues",value:function(){return fn.getResourceCompValues(Gn(this,i_))}},{key:"getStructure",value:function(){return fn.getDocumentStructure(Gn(this,i_))}},{key:"getWateMark",value:function(){return Object.assign(Fn.getDefalueWatermark(),Gn(this,i_).watermark)}},{key:"fileDownload",value:function(){var t="".concat(Gn(this,i_).info.name,"-").concat(Date.now(),".emr");Vs.fileDownload(Gn(this,i_),t,!0)}},{key:"fileImport",value:function(t){hn.debug("load"),hn.debug("字节大小：".concat(t.length)),this.load(Vs.extractJson(t))}},{key:"fileExport",value:function(){return Vs.compressData(Gn(this,i_))}},{key:"filePreview",value:function(){Vs.filePreview(Gn(this,i_))}},{key:"fileSave",value:function(){Zi.saveAction(this.fileExport())}},{key:"filePrint",value:function(){Vs.filePrint(Gn(this,i_))}},{key:"fileContinuePrint",value:function(){Gn(this,Zv).show()}},{key:"fileExpImage",value:function(){Vs.fileExpImage(Gn(this,Uv),Gn(this,i_))}},{key:"fileOutlineDownload",value:function(){var t=fn.getResourceCompValues(Gn(this,i_)),e="".concat(Gn(this,i_).info.name,"-文档数据-").concat(Date.now(),".json");Vs.fileDownload(JSON.stringify(t),e,!1)}},{key:"prevStack",value:function(){Fv(this,I_,cE).call(this,Gn(this,a_).prev())}},{key:"nextStack",value:function(){Fv(this,I_,cE).call(this,Gn(this,a_).next())}},{key:"changeFileInfo",value:function(t){Gn(this,i_).info.name=t.name,Gn(this,i_).info.createuser=t.username,Gn(this,i_).info.createusername=t.username,Gn(this,i_).info.createtime=Date.now()}},{key:"changeTextStyle",value:function(t){hn.debug("changeTextStyle"),Fv(this,J_,AE).call(this),Gn(this,t_).changeTextStyle(t),Object.assign(Gn(this,o_),t)}},{key:"changeParagStyle",value:function(t){hn.debug("changeParagStyle"),Fv(this,J_,AE).call(this),Gn(this,t_).changeParagStyle(t),Object.assign(Gn(this,s_),t)}},{key:"changeFontColor",value:function(t){hn.debug("setTextStyle"),Fv(this,J_,AE).call(this),Gn(this,t_).changeFontColor(t),Object.assign(Gn(this,o_),{color:t})}},{key:"changePageNum",value:function(t){hn.debug("changePageNum"),Fv(this,q_,RE).call(this),Gn(this,e_).changePageNum(t)}},{key:"changePaperInfo",value:function(t){Fv(this,q_,RE).call(this),Gn(this,e_).changePaperInfo(t)}},{key:"changeWateMark",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).changeWateMark(t)}},{key:"changeEditPart",value:function(t){Fv(this,q_,RE).call(this),Gn(this,e_).changeEditPart(t)}},{key:"changeCompInfo",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).changeCompInfo(t)}},{key:"changeCompValue",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).changeCompValue(t)}},{key:"changeDatePickerValue",value:function(t,e){Fv(this,G_,TE).call(this),Gn(this,qv).changeDatePickerValue(t,e)}},{key:"changeTextFieldValue",value:function(t,e){Fv(this,G_,TE).call(this),Gn(this,qv).changeTextFieldValue(t,e)}},{key:"changeSingleFieldValue",value:function(t,e){Fv(this,G_,TE).call(this),Gn(this,qv).changeSingleFieldValue(t,e)}},{key:"changeMultipleFieldValue",value:function(t,e){Fv(this,G_,TE).call(this),Gn(this,qv).changeMultipleFieldValue(t,e)}},{key:"changeExpressionValue",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).changeExpressionValue(t)}},{key:"changeCommentsView",value:function(t){Fv(this,q_,RE).call(this),Gn(this,e_).changeCommentsView(t)}},{key:"commitRevision",value:function(t){Zi.commitRevisionAction(this.fileExport(),t),Fv(this,A_,oE).call(this,!0)}},{key:"commitVersion",value:function(t){this.verifiCommitVersion()&&(fn.cleanComments(Gn(this,i_)),Zi.commitVersionAction(this.fileExport(),t),Fv(this,A_,oE).call(this,!0))}},{key:"verifiCommitVersion",value:function(){var t=this,e=fn.revisionVerify(Gn(this,i_));if(!(e>0)){var i=fn.commentsVerify(Gn(this,i_));if(i.length>0)return Zi.showMessage(1,"有".concat(i.length,"条批注未处理不能提交版本！"),(function(){Fv(t,A_,oE).call(t,!0)})),!1;var n=fn.compVerify(Gn(this,i_));if(n.length>0){var a=n.map((function(t){return"[".concat(t.describe,"]")})).join(",");return Zi.showMessage(1,"有编码".concat(a,"未填写不能提交版本！"),(function(){Fv(t,A_,oE).call(t,!0)})),!1}return!0}Zi.showMessage(1,"有".concat(e,"处修订未处理不能提交版本！"),(function(){Fv(t,A_,oE).call(t,!0)}))}},{key:"acceptRevision",value:function(){Fv(this,G_,TE).call(this),Gn(this,qv).acceptRevision()}},{key:"refuseRevision",value:function(){Fv(this,G_,TE).call(this),Gn(this,qv).refuseRevision()}},{key:"previousRevision",value:function(){var t=this,e=this.getCurrentPartData(Gn(this,i_),Gn(this,p_)),i=fn.prevRevision(e,Gn(this,c_));i?(Fv(this,w_,eE).call(this,i,i),Fv(this,A_,oE).call(this,!0)):Zi.showMessage(1,"已经到了文档开头！",(function(){Fv(t,A_,oE).call(t,!0)}))}},{key:"nextRevision",value:function(){var t=this,e=this.getCurrentPartData(Gn(this,i_),Gn(this,p_)),i=fn.nextRevision(e,Gn(this,c_));i?(Fv(this,w_,eE).call(this,i,i),Fv(this,A_,oE).call(this,!0)):Zi.showMessage(1,"已经到了文档尾部！",(function(){Fv(t,A_,oE).call(t,!0)}))}},{key:"setZoom",value:function(t){s.SYS_ZOOM=t,Fv(this,m_,iE).call(this),Fv(this,A_,oE).call(this,Zi.isFocussable())}},{key:"insertWord",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).insertWord(t)}},{key:"insertLinefeel",value:function(){Fv(this,G_,TE).call(this),Gn(this,qv).insertLinefeel()}},{key:"inserTab",value:function(){Fv(this,G_,TE).call(this),Gn(this,qv).inserTab()}},{key:"insertTable",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).insertTable(t)}},{key:"insertImage",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).insertImage(t)}},{key:"insertDatePicker",value:function(t,e){Fv(this,G_,TE).call(this),Gn(this,qv).insertDatePicker(t,e)}},{key:"insertSignature",value:function(t,e){Fv(this,G_,TE).call(this),Gn(this,qv).insertSignature(t,e)}},{key:"insertDivder",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).insertDivder(t)}},{key:"insertGraphicCode",value:function(t,e){Fv(this,G_,TE).call(this),Gn(this,qv).insertGraphicCode(t,e)}},{key:"insertPageNumber",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).insertPageNumber(t)}},{key:"insertShape",value:function(t){Kn(this,u_,fn.createShape(t)),Fv(this,A_,oE).call(this,!0)}},{key:"insertTextBox",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).insertTextBox(t)}},{key:"insertCheckbox",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).insertCheckbox(t)}},{key:"insertRadioGroup",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).insertRadioGroup(t)}},{key:"insertTextField",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).insertTextField(t)}},{key:"insertMultTextField",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).insertMultTextField(t)}},{key:"insertSingleField",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).insertSingleField(t)}},{key:"insertMultipleField",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).insertMultipleField(t)}},{key:"insertExpression",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).insertExpression(t)}},{key:"insertComments",value:function(t){Fv(this,G_,TE).call(this),Gn(this,qv).insertComments(t)}},{key:"insertRevision",value:function(){Fv(this,G_,TE).call(this),Gn(this,qv).insertRevision()}},{key:"backspaceText",value:function(){Fv(this,G_,TE).call(this),Gn(this,qv).backspaceText()}},{key:"deleteText",value:function(){Fv(this,G_,TE).call(this),Gn(this,qv).deleteText()}},{key:"copyText",value:function(t){if(Gn(this,f_).length>0){var e=fn.getElementChars(Gn(this,i_),Gn(this,f_)).join(""),i={component:Gn(this,i_).resources.component,elements:Gn(this,f_)};try{var n=t.clipboardData||window.clipboardData;n.setData("text/plain",e),n.setData("application/peach-copy-data",Vs.compressJson(i)),hn.info("剪贴板数据设置成功")}catch(t){hn.error("剪贴板设置操作失败:",t),Ks.copy(e,i)}}}},{key:"pasteText",value:function(t){try{var e=t.clipboardData||window.clipboardData,i=e.getData("application/peach-copy-data");if(i){var n=Vs.extractJson(i);Fv(this,G_,TE).call(this),Gn(this,qv).pasteObj(n)}else{var a=e.getData("text/plain");this.insertWord(a)}hn.info("剪贴板数据获取成功")}catch(t){hn.error("剪贴板获取操作失败:",t)}}},{key:"cutText",value:function(t,e){if(Gn(this,f_).length>0){hn.debug("cutText"),Fv(this,G_,TE).call(this);var i=Gn(this,f_).map((function(t){return t.property.code})).join("");Gn(this,qv).cutText(),Ks.copy(i).then((function(){}))}}},{key:"findText",value:function(t){return Fv(this,G_,TE).call(this),Gn(this,qv).findText(t)}},{key:"arrow",value:function(t,e){hn.debug("arrow:key=".concat(t,",shiftKey=").concat(e)),Fv(this,K_,bE).call(this),Gn(this,$v).action(t,e)}},{key:"tableMerge",value:function(){Fv(this,Z_,OE).call(this),Gn(this,Qv).tableMerge()}},{key:"tableDeleteRow",value:function(){Fv(this,Z_,OE).call(this),Gn(this,Qv).tableDeleteRow()}},{key:"tableDeleteCol",value:function(){Fv(this,Z_,OE).call(this),Gn(this,Qv).tableDeleteCol()}},{key:"tableDelete",value:function(){Fv(this,Z_,OE).call(this),Gn(this,Qv).tableDelete()}},{key:"tableInsertRowAbove",value:function(){Fv(this,Z_,OE).call(this),Gn(this,Qv).tableInsertCell(s.TABLE_INSERT_ABOVE)}},{key:"tableInsertRowBelow",value:function(){Fv(this,Z_,OE).call(this),Gn(this,Qv).tableInsertCell(s.TABLE_INSERT_BELOW)}},{key:"tableInsertColLeft",value:function(){Fv(this,Z_,OE).call(this),Gn(this,Qv).tableInsertCell(s.TABLE_INSERT_LEFT)}},{key:"tableInsertColRight",value:function(){Fv(this,Z_,OE).call(this),Gn(this,Qv).tableInsertCell(s.TABLE_INSERT_RIGHT)}},{key:"tableSplit",value:function(t){Fv(this,Z_,OE).call(this),Gn(this,Qv).tableSplit(t)}},{key:"tableDeleteCell",value:function(t){Fv(this,Z_,OE).call(this),Gn(this,Qv).tableDeleteCell(t)}},{key:"tableBorderChange",value:function(t){Fv(this,Z_,OE).call(this),Gn(this,Qv).tableBorderChange(t)}},{key:"tableBorderVisible",value:function(t){Fv(this,Z_,OE).call(this),Gn(this,Qv).tableBorderVisible(t)}},{key:"tableCellInfo",value:function(){return Fv(this,Z_,OE).call(this),Gn(this,Qv).tableCellInfo()}}]),o}($n);function Q_(){var t=Zi.getAppDom();t.innerHTML="",Kn(this,jv,document.createElement("input")),Gn(this,jv).classList.add("editor-input"),Kn(this,Vv,document.createElement("div")),Gn(this,Vv).classList.add("editor-popup"),Kn(this,Hv,document.createElement("canvas")),Gn(this,Hv).classList.add("editor-background-canvas"),Kn(this,Uv,document.createElement("canvas")),Gn(this,Uv).classList.add("editor-textground-canvas"),Kn(this,Xv,document.createElement("canvas")),Gn(this,Xv).classList.add("editor-maskground-canvas"),Kn(this,Yv,document.createElement("canvas")),Gn(this,Yv).classList.add("editor-foreground-canvas"),Kn(this,Wv,document.createElement("div")),Gn(this,Wv).classList.add("editor-continue-print"),Kn(this,Zv,new Iv),Gn(this,Zv).init(Gn(this,Wv)),t.append(Gn(this,jv)),t.append(Gn(this,Hv)),t.append(Gn(this,Uv)),t.append(Gn(this,Xv)),t.append(Gn(this,Yv)),t.append(Gn(this,Vv)),t.append(Gn(this,Wv))}function tE(){var t=this;Gn(this,Zv).setPrintAction((function(e){var i=t.getCurrentRatio();Vs.fileContinuePrint(Gn(t,i_),Gn(t,n_),e/i)})),Gn(this,g_).setChangeCommentsState((function(e,i,n){var a=Gn(t,i_).info.createuser;i==s.COMMENTS_STATE_DE?Zi.deleteCommentsAction(a,n)&&(Fv(t,G_,TE).call(t),Gn(t,qv).changeCommentsState(e,i)):(Fv(t,G_,TE).call(t),Gn(t,qv).changeCommentsState(e,i))})),Gn(this,__).setRefresh((function(e){Zi.isFocussable()&&Fv(t,N_,pE).call(t,e)})),Gn(this,C_).call(this,"mouseup",(function(){Zi.isFocussable()&&Gn(t,E_).isActive()&&Fv(t,U_,gE).call(t)})),Gn(this,Yv).addEventListener("dblclick",(function(e){Zi.isFocussable()&&Fv(t,Y_,SE).call(t,e)})),Gn(this,Yv).addEventListener("mousedown",(function(e){Zi.isFocussable()&&(0==e.button?(e.preventDefault(),Fv(t,B_,vE).call(t,e)):(e.preventDefault(),Fv(t,F_,_E).call(t,e)))})),Gn(this,Yv).addEventListener("mousemove",(function(e){e.preventDefault(),Zi.isFocussable()&&(Gn(t,E_).isActive()?Fv(t,W_,EE).call(t,e):Fv(t,H_,yE).call(t,e))})),Gn(this,Yv).addEventListener("mouseup",(function(e){Zi.isFocussable()&&Fv(t,U_,gE).call(t,e)})),Gn(this,Yv).addEventListener("contextmenu",(function(e){return e.preventDefault(),Zi.isFocussable()&&Fv(t,X_,CE).call(t,e),!1})),Gn(this,Yv).addEventListener("click",(function(t){t.preventDefault()})),Gn(this,y_).call(this,"paste",function(){var e=Un(Jn().mark((function e(i){return Jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gn(t,v_)&&Zi.isFocussable()&&(i.preventDefault(),t.pasteText(i));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Gn(this,y_).call(this,"copy",function(){var e=Un(Jn().mark((function e(i){return Jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gn(t,v_)&&Zi.isFocussable()&&(i.preventDefault(),t.copyText(i));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Gn(this,y_).call(this,"cut",function(){var e=Un(Jn().mark((function e(i){return Jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gn(t,v_)&&Zi.isFocussable()&&(i.preventDefault(),t.cutText());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Gn(this,jv).addEventListener("blur",(function(){Zi.isFocussable()&&(Gn(t,__).pause(),Fv(t,A_,oE).call(t,!1))})),Gn(this,jv).addEventListener("input",(function(e){if(!e.isComposing&&Zi.isFocussable()){var i=e.data;e.target.value="",t.insertWord(i)}})),Gn(this,jv).addEventListener("compositionend",(function(e){if(Zi.isFocussable()){var i=e.data;e.target.value="",t.insertWord(i)}})),Gn(this,jv).addEventListener("keydown",(function(e){if(Zi.isFocussable()){var i=[s.KEY_ARROWDOWN,s.KEY_ARROWUP,s.KEY_ARROWLEFT,s.KEY_ARROWRIGHT];if(e.ctrlKey){var n=function(t){t.preventDefault()};e.key==s.KEY_Z?(n(e),Fv(t,I_,cE).call(t,Gn(t,a_).prev())):e.key==s.KEY_A?(n(e),Fv(t,j_,LE).call(t)):e.key==s.KEY_B?(n(e),t.changeTextStyle({bold:!0})):e.key==s.KEY_F?(n(e),Zi.synchroData({action:"findText"})):e.key==s.KEY_I?(n(e),t.changeTextStyle({italic:!0})):e.key==s.KEY_U?(n(e),t.changeTextStyle({underline:!0})):e.key==s.KEY_P?(n(e),t.filePreview()):e.key==s.KEY_S?(n(e),t.fileSave()):e.key==s.KEY_E?(n(e),t.changeParagStyle({align:s.ALIGN_CENTER})):e.key==s.KEY_J?(n(e),t.changeParagStyle({align:s.ALIGN_BOTH})):e.key==s.KEY_L?(n(e),t.changeParagStyle({align:s.ALIGN_LEFT})):e.key==s.KEY_R&&(n(e),t.changeParagStyle({align:s.ALIGN_RIGHT}))}else e.shiftKey?i.includes(e.key)&&(e.preventDefault(),t.arrow(e.key,e.shiftKey)):e.key==s.KEY_ENTER?t.insertLinefeel():e.key==s.KEY_TAB?(e.preventDefault(),t.inserTab()):e.key==s.KEY_BACKSPACE?t.backspaceText():e.key==s.KEY_DELETE?t.deleteText():e.key==s.KEY_ESC?t.changeEditPart(s.CONTENT_PART_BODY):i.includes(e.key)&&(e.preventDefault(),t.arrow(e.key,e.shiftKey))}}))}function eE(t,e,i,n){var a=this;Kn(this,l_,t),Kn(this,c_,e),Kn(this,h_,i),Gn(this,l_)._cursor=n;var r=this.getCurrentPartData(Gn(this,i_),Gn(this,p_)),o=r.findIndex((function(t){return t===Gn(a,c_)}));if(o<0&&(o=Math.min(Gn(this,c_)._count,r.length-1),Kn(this,c_,r[o]),Kn(this,l_,Gn(this,c_))),0==o||r[o-1].property.type==fn.TYPE_STRUCT){var s=fn.findElementStyle(r,Gn(this,c_));Kn(this,o_,s.textStyle),Kn(this,s_,s.paragStyle)}else{var l=fn.findElementStyle(r,r[o-1]);Kn(this,o_,l.textStyle),Kn(this,s_,l.paragStyle)}Zi.synchroStyle(Gn(this,o_),Gn(this,s_))}function iE(){Kn(this,d_,!0)}function nE(t){Gn(this,Yv).style.cursor=t}function aE(t){Kn(this,p_,t)}function rE(){Kn(this,h_,Gn(this,u_)),Gn(this,i_).resources.objects.above.push(Gn(this,u_)),Gn(this,f_).splice(0,Gn(this,f_).length),Kn(this,u_,void 0),Fv(this,m_,iE).call(this),Fv(this,A_,oE).call(this,!0)}function oE(t){Fv(this,M_,fE).call(this,0),Fv(this,x_,uE).call(this,t),Fv(this,P_,dE).call(this),Fv(this,D_,hE).call(this)}function sE(){Gn(this,a_).reset(),Fv(this,k_,lE).call(this)}function lE(t,e){Gn(this,a_).save(t,e,Gn(this,i_),Gn(this,p_),Gn(this,f_),Gn(this,c_),Gn(this,l_)),Zi.synchroStack(Gn(this,a_).stackSize(),Gn(this,a_).recycleSize())}function cE(t){Zi.synchroStack(Gn(this,a_).stackSize(),Gn(this,a_).recycleSize()),t&&(Kn(this,i_,t.data),Kn(this,f_,t.selects),Fv(this,w_,eE).call(this,t.cursor,t.insert),Fv(this,m_,iE).call(this)),Fv(this,A_,oE).call(this,!0)}function hE(){var t=this.getCurrentPartData(Gn(this,i_),s.CONTENT_PART_BODY),e=Gn(this,n_).getModelSize(),i=Gn(this,n_).getPageSize(),n=Math.ceil(Gn(this,l_)._offset.offsetY/i.pxHeight),a=Fn.getDocumentCharCount(t);Zi.synchroPageInfo(n,e.pageCount,a)}function uE(t){if(Kn(this,v_,t),Mi.isUndefined(Gn(this,h_))){if(Gn(this,f_).length>0);else{var e=Gn(this,l_)._offset,i=Gn(this,l_)._size,n=this.getCurrentRatio(),a=(e.offsetY+i.height)*n,r=e.offsetX*n;Gn(this,jv).style.top="".concat(Gn(this,Yv).offsetTop+a,"px"),Gn(this,jv).style.left="".concat(Gn(this,Yv).offsetLeft+r,"px");var o=Zi.getAppScroll();a>o.scrollTop+o.clientHeight-s.SYS_SCROLL_RED&&(o.scrollTop=a+s.SYS_SCROLL_RED-o.clientHeight),a<o.scrollTop&&(o.scrollTop=a-2*s.SYS_SCROLL_RED),r>o.scrollLeft+o.clientWidth-s.SYS_SCROLL_RED&&(o.scrollLeft=r+s.SYS_SCROLL_RED-o.clientWidth),r<o.scrollLeft&&(o.scrollLeft=r+2*s.SYS_SCROLL_RED)}t&&0==Gn(this,f_).length?(Gn(this,jv).focus(),Gn(this,__).switch(!0),Gn(this,__).start(1e3),Fv(this,N_,pE).call(this,!0)):(Gn(this,__).switch(!1),Fv(this,N_,pE).call(this,!1))}else Gn(this,__).switch(!1),Fv(this,N_,pE).call(this,!1)}function fE(t){if(Gn(this,d_)){Kn(this,d_,!1),Gn(this,n_).struct(Gn(this,i_));var e=Gn(this,n_).getPageSize(),i=Gn(this,n_).getModelSize(),n=this.getCurrentRatio(),a=e.pxHeaderHeight*n,r=i.height*n,o=i.width*n,l=t/n;Gn(this,Uv).height=r,Gn(this,Uv).width=o,Gn(this,Hv).height=r,Gn(this,Hv).width=o,Gn(this,Yv).height=r,Gn(this,Yv).width=o,Gn(this,Xv).height=r,Gn(this,Xv).width=o,Gn(this,Zv).setMinBound(o,a),Zi.getAppScroll();var c=Zi.getAppDom(),h=Zi.getComments();c.style.width="".concat(o,"px"),c.style.height="".concat(r,"px");var u=Zi.getComments();Zi.getCommentsModel()!=s.COMMENTS_HIDE&&Gn(this,g_).hasComments(Gn(this,i_))?(h.style.width="150px",h.style.height="".concat(r,"px")):(h.style.width="0px",h.style.height="".concat(r,"px")),Gn(this,g_).render(u),Gn(this,zv).draw(Gn(this,Uv),Gn(this,Xv),Gn(this,i_),Gn(this,n_),Gn(this,p_),Gn(this,g_),l)}}function dE(){Gn(this,Gv).draw(Gn(this,Hv),Gn(this,n_),Gn(this,f_),Gn(this,i_),Gn(this,c_))}function pE(t){Gn(this,Kv).draw(Gn(this,Yv),Gn(this,n_),Gn(this,i_),Gn(this,f_),Gn(this,l_),Gn(this,c_),Gn(this,h_),Gn(this,u_),Gn(this,o_),Gn(this,E_),t)}function vE(t){Gn(this,E_).setState(!0),Fv(this,z_,mE).call(this),Gn(this,Jv).mousedown(t,!0)}function _E(t){}function EE(t){Fv(this,z_,mE).call(this),Gn(this,Jv).mousemove(t)}function gE(t){Fv(this,z_,mE).call(this),Gn(this,Jv).mouseup(t),Gn(this,E_).setState(!1)}function CE(t){Fv(this,z_,mE).call(this),Gn(this,Jv).mousemenu(t)}function yE(t){Fv(this,z_,mE).call(this),Gn(this,Jv).mousecursor(t)}function SE(t){Fv(this,z_,mE).call(this),Gn(this,Jv).mousedblclick(t)}function LE(){Fv(this,z_,mE).call(this),Gn(this,Jv).selectall()}function wE(t){var e=this;t.setCursorCallBack((function(t,i,n,a){Fv(e,w_,eE).call(e,t,i,n,a)})),t.setChangeCallBack((function(){Fv(e,m_,iE).call(e)})),t.setRefreshCallBack((function(t){Fv(e,A_,oE).call(e,t)})),t.setSaveMirrorCallBack((function(t,i){Fv(e,k_,lE).call(e,t,i)})),t.setCursorStyleCallBack((function(t){Fv(e,T_,nE).call(e,t)})),t.setContextMenuCallBack((function(t){Zi.showContextMenu(t)})),t.setLocateInputCallBack((function(){Fv(e,x_,uE).call(e,!0)})),t.setPopMenuCallBack((function(t){Zi.showPopMenu(t)})),t.setChangePartCallBack((function(t){Fv(e,b_,aE).call(e,t)}))}function mE(){var t=this;Gn(this,Jv).init(Gn(this,i_),Gn(this,n_),Gn(this,f_),Gn(this,l_),Gn(this,c_),Gn(this,h_),Gn(this,u_),Gn(this,E_),Gn(this,p_),Gn(this,r_)),Fv(this,V_,wE).call(this,Gn(this,Jv)),Gn(this,Jv).setPendingCallBack((function(){Fv(t,O_,rE).call(t)}))}function TE(){Gn(this,__).pause(),Gn(this,qv).init(Gn(this,i_),Gn(this,n_),Gn(this,f_),Gn(this,c_),Gn(this,h_),Gn(this,o_),Gn(this,s_),Gn(this,p_)),Fv(this,V_,wE).call(this,Gn(this,qv))}function bE(){Gn(this,__).pause(),Gn(this,$v).init(Gn(this,i_),Gn(this,n_),Gn(this,f_),Gn(this,l_),Gn(this,c_),Gn(this,p_)),Fv(this,V_,wE).call(this,Gn(this,$v))}function OE(){Gn(this,__).pause(),Gn(this,Qv).init(Gn(this,i_),Gn(this,n_),Gn(this,f_),Gn(this,l_),Gn(this,c_),Gn(this,p_)),Fv(this,V_,wE).call(this,Gn(this,Qv))}function AE(){Gn(this,t_).init(Gn(this,i_),Gn(this,f_),Gn(this,c_),Gn(this,p_)),Fv(this,V_,wE).call(this,Gn(this,t_))}function RE(){Gn(this,e_).init(Gn(this,i_),Gn(this,f_),Gn(this,p_)),Fv(this,V_,wE).call(this,Gn(this,e_))}function kE(t,e){DE(t,e),e.add(t)}function IE(t,e,i){DE(t,e),e.set(t,i)}function DE(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xE(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var ME=new WeakMap,PE=new WeakMap,NE=new WeakMap,BE=new WeakMap,FE=new WeakMap,WE=new WeakMap,UE=new WeakMap,XE=new WeakMap,HE=new WeakMap,YE=new WeakMap,jE=new WeakMap,VE=new WeakMap,zE=new WeakSet,GE=new WeakSet,KE=new WeakSet,ZE=new WeakSet,JE=new WeakSet,qE=new WeakSet,$E=new WeakSet,QE=new WeakSet,tg=new WeakSet,eg=new WeakSet,ig=new WeakSet,ng=new WeakSet,ag=function(){function e(){var i=this;t(this,e),kE(this,ng),kE(this,ig),kE(this,eg),kE(this,tg),kE(this,QE),kE(this,$E),kE(this,qE),kE(this,JE),kE(this,ZE),kE(this,KE),kE(this,GE),kE(this,zE),IE(this,ME,{writable:!0,value:void 0}),IE(this,PE,{writable:!0,value:void 0}),IE(this,NE,{writable:!0,value:void 0}),IE(this,BE,{writable:!0,value:void 0}),IE(this,FE,{writable:!0,value:void 0}),IE(this,WE,{writable:!0,value:void 0}),IE(this,UE,{writable:!0,value:void 0}),IE(this,XE,{writable:!0,value:void 0}),IE(this,HE,{writable:!0,value:!1}),IE(this,YE,{writable:!0,value:function(t){xE(i,KE,sg).call(i,t)}}),IE(this,jE,{writable:!0,value:function(t){xE(i,ZE,lg).call(i,t)}}),IE(this,VE,{writable:!0,value:function(){xE(i,JE,cg).call(i)}}),Kn(this,NE,window.devicePixelRatio||1),Kn(this,PE,"black"),Kn(this,HE,!1),Kn(this,BE,2),Kn(this,FE,6),Kn(this,WE,1.5),Kn(this,UE,20),Kn(this,XE,[])}return r(e,[{key:"create",value:function(t){Kn(this,ME,document.getElementById(t.signatureid)),Gn(this,ME).width=400,Gn(this,ME).height=200,xE(this,zE,rg).call(this)}},{key:"destroy",value:function(){/Android|iPhone|iPad|Mobile/i.test(navigator.userAgent)&&("ontouchstart"in window||navigator.maxTouchPoints)?(window.removeEventListener("touchcancel",Gn(this,VE)),window.removeEventListener("touchend",Gn(this,VE))):window.removeEventListener("mouseup",Gn(this,VE))}},{key:"getBase64",value:function(){return Gn(this,ME).toDataURL("image/png",1)}}]),e}();function rg(){Gn(this,ME).style.touchAction="none",/Android|iPhone|iPad|Mobile/i.test(navigator.userAgent)&&("ontouchstart"in window||navigator.maxTouchPoints)?(Gn(this,ME).addEventListener("touchstart",Gn(this,YE)),Gn(this,ME).addEventListener("touchmove",Gn(this,jE)),window.addEventListener("touchcancel",Gn(this,VE)),window.addEventListener("touchend",Gn(this,VE))):(Gn(this,ME).addEventListener("mousedown",Gn(this,YE)),Gn(this,ME).addEventListener("mousemove",Gn(this,jE)),window.addEventListener("mouseup",Gn(this,VE)))}function og(t){var e=Date.now(),i=Gn(this,XE).slice(-1)[0];if(!i||i.t!==e){var n=Gn(this,ME).getBoundingClientRect(),a=t.touches&&t.touches[0]||t,r=a.clientX-n.left,o=a.clientY-n.top;if(!i||i.x!==r||i.y!==o){var s={x:r,y:o,t:e};if(i){var l=Gn(this,XE).slice(-2,-1)[0];if(s.distance=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2)),s.speed=s.distance/(s.t-i.t||.1),s.lineWidth=xE(this,$E,ug).call(this,s.speed),l&&l.lineWidth&&i.lineWidth){var c=(s.lineWidth-i.lineWidth)/i.lineWidth,h=Gn(this,UE)/100;if(h=h>1?1:h<.01?.01:h,Math.abs(c)>h){var u=c>0?h:-h;s.lineWidth=i.lineWidth*(1+u)}}}Gn(this,XE).push(s),Kn(this,XE,Gn(this,XE).slice(-3))}}}function sg(t){t.preventDefault(),Kn(this,HE,!0),Gn(this,ME).getContext("2d").strokeStyle=Gn(this,PE),xE(this,GE,og).call(this,t)}function lg(t){var e=this;if(t.preventDefault(),Gn(this,HE)&&(xE(this,GE,og).call(this,t),!(Gn(this,XE).length<2))){var i=Gn(this,XE).slice(-1)[0],n=Gn(this,XE).slice(-2,-1)[0];window.requestAnimationFrame?window.requestAnimationFrame((function(){return xE(e,qE,hg).call(e,n,i)})):xE(this,qE,hg).call(this,n,i)}}function cg(){Gn(this,HE)&&(Kn(this,HE,!1),Kn(this,XE,[]))}function hg(t,e){xE(this,eg,pg).call(this,t,e)}function ug(t){var e=Gn(this,WE)>10?10:Gn(this,WE)<1?1:Gn(this,WE),i=(Gn(this,FE)-Gn(this,BE))*t/e,n=Math.max(Gn(this,FE)-i,Gn(this,BE));return Math.min(n,Gn(this,FE))}function fg(t,e,i,n){var a=i-t,r=n-e;if(0===a)return{val:0,pos:-1};if(0===r)return{val:0,pos:1};var o=Math.abs(Math.atan(r/a));return i>t&&n<e||i<t&&n>e?{val:o,pos:1}:{val:o,pos:-1}}function dg(t,e,i,n){if(0===t.val)return 1===t.pos?[{x:e,y:i+n},{x:e,y:i-n}]:[{y:i,x:e+n},{y:i,x:e-n}];var a=Math.sin(t.val)*n,r=Math.cos(t.val)*n;return 1===t.pos?[{x:e+a,y:i+r},{x:e-a,y:i-r}]:[{x:e+a,y:i-r},{x:e-a,y:i+r}]}function pg(t,e){var i=e.x-t.x,n=e.y-t.y;if(Math.abs(i)+Math.abs(n)<=Gn(this,NE)?(e.lastX1=e.lastX2=t.x+.5*i,e.lastY1=e.lastY2=t.y+.5*n):(e.lastX1=t.x+.3*i,e.lastY1=t.y+.3*n,e.lastX2=t.x+.7*i,e.lastY2=t.y+.7*n),e.perLineWidth=(t.lineWidth+e.lineWidth)/2,"number"==typeof t.lastX1){if(xE(this,ig,vg).call(this,t.lastX2,t.lastY2,t.x,t.y,e.lastX1,e.lastY1,e.perLineWidth),t.isFirstPoint)return;if(t.lastX1===t.lastX2&&t.lastY1===t.lastY2)return;var a=xE(this,QE,fg).call(this,t.lastX1,t.lastY1,t.lastX2,t.lastY2),r=xE(this,tg,dg).call(this,a,t.lastX1,t.lastY1,t.perLineWidth/2),o=xE(this,tg,dg).call(this,a,t.lastX2,t.lastY2,e.perLineWidth/2);xE(this,ng,_g).call(this,r[0],o[0],o[1],r[1])}else e.isFirstPoint=!0}function vg(t,e,i,n,a,r,o){var s=Gn(this,ME).getContext("2d");s.lineWidth=Number(o.toFixed(1)),s.beginPath(),s.moveTo(Number(t.toFixed(1)),Number(e.toFixed(1))),s.quadraticCurveTo(Number(i.toFixed(1)),Number(n.toFixed(1)),Number(a.toFixed(1)),Number(r.toFixed(1))),s.stroke()}function _g(t,e,i,n){var a=Gn(this,ME).getContext("2d");a.beginPath(),a.moveTo(Number(t.x.toFixed(1)),Number(t.y.toFixed(1))),a.lineTo(Number(e.x.toFixed(1)),Number(e.y.toFixed(1))),a.lineTo(Number(i.x.toFixed(1)),Number(i.y.toFixed(1))),a.lineTo(Number(n.x.toFixed(1)),Number(n.y.toFixed(1))),a.fillStyle=Gn(this,PE),a.fill()}function Eg(t,e){Cg(t,e),e.add(t)}function gg(t,e,i){Cg(t,e),e.set(t,i)}function Cg(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yg(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var Sg=function(){function e(){t(this,e)}return r(e,null,[{key:"drawMSh",value:function(t,e,i,n){var a=new xg;a.parse(e,i),a.paint(t,n)}}]),e}(),Lg=function(){function e(){t(this,e)}return r(e,[{key:"parse",value:function(t,e){}},{key:"paint",value:function(t,e){}}]),e}(),wg=new WeakMap,mg=new WeakMap,Tg=new WeakMap,bg=new WeakMap,Og=new WeakMap,Ag=new WeakMap,Rg=new WeakMap,kg=new WeakMap,Ig=new WeakSet,Dg=new WeakSet,xg=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Eg(Xn(e=a.call.apply(a,[this].concat(n))),Dg),Eg(Xn(e),Ig),gg(Xn(e),wg,{writable:!0,value:void 0}),gg(Xn(e),mg,{writable:!0,value:void 0}),gg(Xn(e),Tg,{writable:!0,value:void 0}),gg(Xn(e),bg,{writable:!0,value:void 0}),gg(Xn(e),Og,{writable:!0,value:void 0}),gg(Xn(e),Ag,{writable:!0,value:void 0}),gg(Xn(e),Rg,{writable:!0,value:void 0}),gg(Xn(e),kg,{writable:!0,value:void 0}),e}return r(o,[{key:"parse",value:function(t,e){Kn(this,wg,t),Kn(this,mg,e.ba),Kn(this,Tg,e.st1),Kn(this,bg,e.st2),Kn(this,Og,e.ce1),Kn(this,Ag,e.ce2),Kn(this,Rg,e.am),Kn(this,kg,e.la)}},{key:"paint",value:function(t){var e=t.getContext("2d"),i=yg(this,Ig,Mg).call(this,"".concat(Gn(this,mg),"岁")),n=yg(this,Ig,Mg).call(this,"".concat(Gn(this,Tg),"~").concat(Gn(this,bg))),a=yg(this,Ig,Mg).call(this,"".concat(Gn(this,Og),"~").concat(Gn(this,Ag))),r=yg(this,Ig,Mg).call(this,"".concat(Gn(this,Rg)?Gn(this,kg)+"岁":Gn(this,kg))),o=(n.height+a.height)/2;e.save(),e.strokeStyle=Gn(this,wg).color,e.lineWidth=s.WIDTH_UNDERLINE,e.font=yg(this,Dg,Pg).call(this),e.fillText(i.str,0,o+i.height/2),e.fillText(n.str,i.width,o),e.fillText(a.str,i.width,o+a.height),e.fillText(r.str,i.width+Math.max(n.width,a.width),o+r.height/4),e.moveTo(i.width,o),e.lineTo(i.width+Math.max(n.width,a.width),o),e.stroke(),e.restore()}}]),o}(Lg);function Mg(t){var e=this,i={width:0,height:0,str:t};return t.forEach((function(t){var n=hl.character(t,s.SCRIPT_NOR,Gn(e,wg).size,Gn(e,wg).rowspac);i.width+=n.width,i.height+=n.height})),i}function Pg(){var t=[];return Gn(this,wg).bold&&t.push("bold"),Gn(this,wg).italic&&t.push("italic"),t.push("".concat(Gn(this,wg).size,"px")),t.push("".concat(Gn(this,wg).font)),t.join(" ")}var Ng=new WeakMap,Bg=function(){function e(){var i,n,a;t(this,e),a={writable:!0,value:void 0},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(i=this,n=Ng),n.set(i,a)}return r(e,[{key:"create",value:function(t){var e=this,i=new Fg(t.platter);i.draw(),i.triggerclick((function(i){Kn(e,Ng,"#".concat(i.r.toString(16)).concat(i.g.toString(16)).concat(i.b.toString(16))),t.show.style.backgroundColor=Gn(e,Ng)}));var n=new Wg(t.barhelper);n.draw(),n.triggerclick((function(n){i.update(n);var a=i.getPickColor();Kn(e,Ng,"#".concat(a.r.toString(16)).concat(a.g.toString(16)).concat(a.b.toString(16))),t.show.style.backgroundColor=Gn(e,Ng)}))}},{key:"getColor",value:function(){return Gn(this,Ng)}}]),e}(),Fg=function(){function e(i){var n=this;t(this,e),o(this,"canvas",void 0),o(this,"ctx",void 0),o(this,"sR",void 0),o(this,"sG",void 0),o(this,"sB",void 0),o(this,"xScale",void 0),o(this,"yScale",void 0),o(this,"scaleWidth",void 0),o(this,"scaleHeight",void 0),o(this,"pickPoint",void 0),o(this,"callback",void 0),this.sR=0,this.sG=255,this.sB=255,this.canvas=i,this.ctx=this.canvas.getContext("2d"),this.xScale=Math.ceil(this.canvas.width/128),this.yScale=Math.ceil(this.canvas.height/128),this.scaleWidth=this.canvas.width/this.xScale,this.scaleHeight=this.canvas.height/this.yScale,this.canvas.onmousedown=function(t){n.setPickPoint(t)}}return r(e,[{key:"triggerclick",value:function(t){this.callback=t}},{key:"draw",value:function(){this.canvas.width,this.canvas.height;for(var t=this.xScale,e=this.yScale,i=this.scaleWidth,n=this.scaleHeight,a=0;a<i;a++)for(var r=0;r<n;r++){var o=this.getScaleColor(a,r),s="rgb("+o.r+","+o.g+","+o.b+")";this.ctx.fillStyle=s,this.ctx.fillRect(a*t,r*e,t,e)}}},{key:"dragGlobal",value:function(){this.ctx.beginPath(),this.ctx.strokeStyle="#000",this.ctx.arc(this.pickPoint.x,this.pickPoint.y,4,0,2*Math.PI),this.ctx.stroke()}},{key:"getScaleColor",value:function(t,e){var i=this.scaleWidth,n=this.scaleHeight,a=this.sR,r=this.sG,o=this.sB,s=a>r?a:r,l=s>o?s:o,c=255-t*((255-(s=s>o?o:s))/i),h=255-t*((255-(a+r+o-s-l))/i),u=255-t*((255-l)/i),f=c/n,d=Math.floor(c-e*f);f=h/n;var p=Math.floor(h-e*f);f=u/n;var v=Math.floor(u-e*f);return{r:a===l?v:a===s?d:p,g:r===l?v:r===s?d:p,b:o===l?v:o===s?d:p}}},{key:"getColor",value:function(t,e){return this.getScaleColor(t/this.xScale,e/this.yScale)}},{key:"update",value:function(t){this.sR=t.r,this.sG=t.g,this.sB=t.b,this.draw(),this.dragGlobal()}},{key:"setPickPoint",value:function(t){this.pickPoint={x:t.offsetX,y:t.offsetY},this.draw(),this.dragGlobal(),this.callback(this.getPickColor())}},{key:"getPickColor",value:function(){if(this.pickPoint)return this.getColor(this.pickPoint.x,this.pickPoint.y)}}]),e}(),Wg=function(){function e(i){var n=this;t(this,e),o(this,"canvas",void 0),o(this,"ctx",void 0),o(this,"pickLineWidth",void 0),o(this,"rainWidth",void 0),o(this,"rainHeight",void 0),o(this,"pickLineY",void 0),o(this,"callback",void 0),this.canvas=i,this.ctx=this.canvas.getContext("2d"),this.pickLineWidth=10,this.rainWidth=this.canvas.width-2*this.pickLineWidth,this.rainHeight=this.canvas.height-this.pickLineWidth,this.canvas.onclick=function(t){n.dragLine(t)}}return r(e,[{key:"triggerclick",value:function(t){this.callback=t}},{key:"draw",value:function(){for(var t=this.rainWidth,e=this.rainHeight,i=this.ctx,n=this.pickLineWidth/2,a=0;a<=e;a++){var r=this.getColor(a),o="rgb("+r.r+","+r.g+","+r.b+")";i.strokeStyle=o,i.beginPath(),i.moveTo(this.pickLineWidth,a+n),i.lineTo(this.pickLineWidth+t,a+n),i.stroke()}}},{key:"getColor",value:function(t){var e=this.rainHeight,i=255/(e/6),n=255,a=0,r=0;return t<=e/3?(t<=e/6?((r=Math.floor(i*t))>255&&(r=255),n=255):((n=255-Math.floor(i*(t-e/6)))<0&&(n=0),r=255),a=0):t<=2*e/3?(t<3*e/6?((a=Math.floor(i*(t-2*e/6)))>255&&(a=255),r=255):((r=255-Math.floor(i*(t-3*e/6)))<0&&(r=0),a=255),n=0):(t<5*e/6?((n=Math.floor(i*(t-4*e/6)))>255&&(n=255),a=255):((a=255-Math.floor(i*(t-5*e/6)))<0&&(a=0),n=255),r=0),{r:n,g:a,b:r}}},{key:"drawPickLine",value:function(t){this.pickLineY=t;var e=this.pickLineWidth,i=(this.canvas.height,this.canvas.height),n=this.canvas.width,a=this.ctx;a.clearRect(0,0,e,i),a.clearRect(n-e,0,e,i),a.fillStyle="#ffaaaa",a.beginPath(),a.moveTo(0,t),a.lineTo(e,t+e/2),a.lineTo(0,t+e),a.fill(),a.beginPath(),a.moveTo(n,t),a.lineTo(n-e,t+e/2),a.lineTo(n,t+e),a.fill()}},{key:"getPickColor",value:function(){return this.getColor(this.pickLineY)}},{key:"updatePickLine",value:function(t){var e=this.pickLineWidth,i=this.canvas.height-e;t<0?t=0:t>i&&(t=i),this.drawPickLine(t)}},{key:"dragLine",value:function(t){var e=t.offsetY;this.updatePickLine(e),this.callback(this.getPickColor())}}]),e}(),Ug=r((function e(){t(this,e)}));o(Ug,"ELE_DIV","DIV"),o(Ug,"ELE_SPAN","SPAN"),o(Ug,"ELE_TABLE","TABLE"),o(Ug,"ELE_TR","TR"),o(Ug,"ELE_TD","TD"),o(Ug,"ELE_SELECT","SELECT"),o(Ug,"ELE_TEXTAREA","TEXTAREA"),o(Ug,"ELE_INPUT","INPUT"),o(Ug,"ELE_LABEL","LABEL"),o(Ug,"ELE_OPTION","OPTION"),o(Ug,"ELE_BUTTON","BUTTON"),o(Ug,"ELE_IFRAME","IFRAME"),o(Ug,"ELE_IMAGE","IMG"),o(Ug,"ELE_DATALIST","DATALIST"),o(Ug,"ELE_FIELDSET","fieldset"),o(Ug,"ELE_LEGEND","legend"),o(Ug,"ELE_CANVAS","canvas"),o(Ug,"CLASS_ICON","icon"),o(Ug,"CLASS_LAYUI_ICON","layui-icon"),o(Ug,"CLASS_COL_FIXED","flex-col-fiexed"),o(Ug,"CLASS_COL_SPREAD","flex-col-spead"),o(Ug,"CLASS_ROW_FIXED","flex-row-fixed"),o(Ug,"CLASS_ROW_SPREAD","flex-row-spead"),o(Ug,"CLASS_FLEX_ROW","flex-row"),o(Ug,"CLASS_FLEX_COL","flex-col"),o(Ug,"CLASS_FLEX_CENTER","flex-center"),o(Ug,"CLASS_ITEM_ICON","item-icon"),o(Ug,"CLASS_ITEM_TEXT","item-text"),o(Ug,"CLASS_ITEM_ARROW","item-arrow"),o(Ug,"CLASS_UNSELECTED","unselected"),o(Ug,"CLASS_MENU_COMP","menu-comp"),o(Ug,"CLASS_MENU_HIDE","menu-hide"),o(Ug,"CLASS_FORM_LAYOUT","form-layout"),o(Ug,"CLASS_FORM_LAYOUT_ITEM","form-layout-item"),o(Ug,"CLASS_FORM_LAYOUT_FIELD","form-layout-field"),o(Ug,"CLASS_FORM_BUTTON_PANEL","form-button-panel"),o(Ug,"CLASS_FORM_LABEL","form-label"),o(Ug,"CLASS_FORM_SELECT","form-select"),o(Ug,"CLASS_FORM_INPUT","form-input"),o(Ug,"CLASS_FORM_NUMBER","form-number"),o(Ug,"CLASS_FORM_CHECKBOX","form-checkbox"),o(Ug,"CLASS_FORM_TEXTAREA","form-textarea"),o(Ug,"CLASS_INPUT_LABEL","form-input-label"),o(Ug,"CLASS_BUTTON_NORMAL","form-button-normal"),o(Ug,"CLASS_POP","pop"),o(Ug,"CLASS_POP_PANEL","pop-panel"),o(Ug,"CLASS_POP_ITEM","pop-item"),o(Ug,"CLASS_POP_ITEM_CHECKBOX","pop-item-checkbox"),o(Ug,"CLASS_POP_ITEM_LABEL","pop-item-label"),o(Ug,"CLASS_MSG_IFRAME","form-iframe"),o(Ug,"VALUE_CHECKBOX","checkbox"),o(Ug,"VALUE_RADIO","radio"),o(Ug,"VALUE_ABSOLUTE","absolute"),o(Ug,"VALUE_RELATIVE","relative"),o(Ug,"VALUE_BLACK","#000000"),o(Ug,"VALUE_CLICK","click"),o(Ug,"VALUE_CHANGE","change"),o(Ug,"VALUE_INPUT","input"),o(Ug,"VALUE_NONE","none"),o(Ug,"VALUE_BLOCK","block"),o(Ug,"VALUE_MOUSEENTER","mouseenter"),o(Ug,"VALUE_MOUSELEAVE","mouseleave");var Xg=function(){function e(){t(this,e)}return r(e,null,[{key:"create",value:function(t,e){var i=document.createElement(t);return i.addClass=function(t){Array.isArray(t)?t.forEach((function(t){return i.classList.add(t)})):i.classList.add(t)},i.removeClass=function(t){Array.isArray(t)?t.forEach((function(t){return i.classList.remove(t)})):i.classList.remove(t)},e&&i.addClass(e),i}},{key:"createDiv",value:function(t){return this.create(Ug.ELE_DIV,t)}},{key:"createImg",value:function(t){return this.create(Ug.ELE_IMAGE,t)}},{key:"createSpan",value:function(t){return this.create(Ug.ELE_SPAN,t)}},{key:"createSelect",value:function(t){return this.create(Ug.ELE_SELECT,t)}},{key:"createInput",value:function(t){return this.create(Ug.ELE_INPUT,t)}},{key:"createFieldset",value:function(t){return this.create(Ug.ELE_FIELDSET,t)}},{key:"createLegend",value:function(t){return this.create(Ug.ELE_LEGEND,t)}},{key:"createOption",value:function(t,e,i){var n=this.create(Ug.ELE_OPTION,i);return n.textContent=t,n.value=e,n}},{key:"createTable",value:function(t){return this.create(Ug.ELE_TABLE,t)}},{key:"createTableTR",value:function(t){return this.create(Ug.ELE_TR,t)}},{key:"createTableTD",value:function(t){return this.create(Ug.ELE_TD,t)}},{key:"correctOffset",value:function(t,e,i){var n=window.innerWidth||document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight,r=t.getBoundingClientRect();r.bottom>a&&(t.style.top=this.toPx(i-(r.bottom-a))),r.right>n&&(t.style.left=this.toPx(e-(r.right-n)))}},{key:"toPx",value:function(t){return"".concat(t,"px")}}]),e}(),Hg=function(){function e(){t(this,e)}return r(e,[{key:"toSizeUnit",value:function(t){return Xg.toPx(t)}},{key:"setReadOnly",value:function(t){t.readOnly=!0,t.style.backgroundColor="#f0f0f0",t.style.cursor="not-allowed"}},{key:"unsetReadOnly",value:function(t){t.readOnly=!1,t.style.backgroundColor="",t.style.cursor=""}}]),e}();function Yg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Vn(t);if(e){var a=Vn(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return jn(this,i)}}function jg(t,e){zg(t,e),e.add(t)}function Vg(t,e,i){zg(t,e),e.set(t,i)}function zg(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gg(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var Kg=new WeakMap,Zg=new WeakMap,Jg=new WeakMap,qg=new WeakMap,$g=new WeakMap,Qg=new WeakMap,tC=new WeakMap,eC=new WeakMap,iC=new WeakMap,nC=new WeakMap,aC=new WeakMap,rC=new WeakMap,oC=new WeakMap,sC=new WeakMap,lC=new WeakMap,cC=new WeakMap,hC=new WeakSet,uC=new WeakSet,fC=new WeakSet,dC=new WeakSet,pC=function(e){Yn(n,e);var i=Yg(n);function n(e){var a;return t(this,n),jg(Xn(a=i.call(this)),dC),jg(Xn(a),fC),jg(Xn(a),uC),jg(Xn(a),hC),Vg(Xn(a),Kg,{writable:!0,value:"dialog"}),Vg(Xn(a),Zg,{writable:!0,value:"dialog-mask"}),Vg(Xn(a),Jg,{writable:!0,value:"dialog-header"}),Vg(Xn(a),qg,{writable:!0,value:"dialog-title"}),Vg(Xn(a),$g,{writable:!0,value:"dialog-icon"}),Vg(Xn(a),Qg,{writable:!0,value:"dialog-body"}),Vg(Xn(a),tC,{writable:!0,value:"dialog-footer"}),Vg(Xn(a),eC,{writable:!0,value:"footer-btn"}),Vg(Xn(a),iC,{writable:!0,value:void 0}),Vg(Xn(a),nC,{writable:!0,value:void 0}),Vg(Xn(a),aC,{writable:!0,value:void 0}),Vg(Xn(a),rC,{writable:!0,value:void 0}),Vg(Xn(a),oC,{writable:!0,value:void 0}),Vg(Xn(a),sC,{writable:!0,value:void 0}),Vg(Xn(a),lC,{writable:!0,value:void 0}),Vg(Xn(a),cC,{writable:!0,value:void 0}),Kn(Xn(a),iC,Object.assign(Gg(Xn(a),dC,gC).call(Xn(a)),e)),Gg(Xn(a),hC,vC).call(Xn(a)),Gg(Xn(a),uC,_C).call(Xn(a)),a}return r(n,[{key:"beforShow",value:function(){}},{key:"aftershow",value:function(){}},{key:"show",value:function(){Gn(this,oC).innerHTML="",Gn(this,oC).appendChild(this.createBody()),this.beforShow(),Gn(this,iC).modal&&document.body.appendChild(Gn(this,aC)),document.body.appendChild(Gn(this,nC)),this.aftershow()}},{key:"close",value:function(){Gn(this,iC).modal&&document.body.removeChild(Gn(this,aC)),document.body.removeChild(Gn(this,nC)),Gn(this,iC).closeAction()}},{key:"center",value:function(){var t=document.body.clientWidth,e=document.body.clientHeight,i=Gn(this,nC).clientWidth,n=Gn(this,nC).clientHeight;Kn(this,sC,(e-n)/2),Kn(this,lC,(t-i)/2),Gn(this,nC).style.top=this.toSizeUnit(Gn(this,sC)),Gn(this,nC).style.left=this.toSizeUnit(Gn(this,lC))}},{key:"createBody",value:function(){return Xg.create(Ug.ELE_DIV)}},{key:"setTitle",value:function(t){Gn(this,rC).textContent=t}},{key:"setSize",value:function(t,e){Gn(this,nC).style.width=this.toSizeUnit(t),Gn(this,nC).style.height=this.toSizeUnit(e)}},{key:"addEventListenter",value:function(t,e){Gn(this,cC).set(t,e)}},{key:"getEventListenter",value:function(t){return Gn(this,cC).get(t)?Gn(this,cC).get(t):function(){}}}]),n}(Hg);function vC(){var t=this;Kn(this,cC,new Map),Kn(this,aC,Xg.create(Ug.ELE_DIV,[Gn(this,Zg)])),Kn(this,nC,Xg.create(Ug.ELE_DIV,[Gn(this,Kg)]));var e=Xg.create(Ug.ELE_DIV,[Gn(this,Jg)]);Gn(this,nC).appendChild(e),Kn(this,oC,Xg.create(Ug.ELE_DIV,[Gn(this,Qg)])),Gn(this,nC).appendChild(Gn(this,oC));var i=Xg.create(Ug.ELE_DIV,[Gn(this,tC)]);Gn(this,iC).footer&&Gn(this,nC).appendChild(i),Kn(this,rC,Xg.create(Ug.ELE_DIV,[Gn(this,qg),Ug.CLASS_UNSELECTED]));var n=Xg.create(Ug.ELE_DIV,[Ug.CLASS_FLEX_CENTER,Gn(this,$g),Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,"layui-icon-close"]);e.appendChild(Gn(this,rC)),e.appendChild(n),Gn(this,iC).btns.forEach((function(e){var n=Xg.create(Ug.ELE_BUTTON,[Gn(t,eC)]);n.textContent=e.text,n.addEventListener(Ug.VALUE_CLICK,e.action),i.appendChild(n)})),Gn(this,rC).addEventListener("mousedown",(function(e){Gg(t,fC,EC).call(t,e)})),n.addEventListener(Ug.VALUE_CLICK,(function(){t.close()}))}function _C(){this.setTitle(Gn(this,iC).title),this.setSize(Gn(this,iC).width,Gn(this,iC).height)}function EC(t){var e=this,i=!0,n=t;window.onmousemove=function(t){if(i){var a=t.pageX-n.pageX,r=t.pageY-n.pageY;Kn(e,lC,Gn(e,lC)+a),Kn(e,sC,Gn(e,sC)+r),Gn(e,nC).style.top=e.toSizeUnit(Gn(e,sC)),Gn(e,nC).style.left=e.toSizeUnit(Gn(e,lC)),n=t}},window.onmouseup=function(t){i&&(i=!1)}}function gC(){var t=this;return{title:"信息",modal:!0,footer:!0,btns:[{text:"关闭",action:function(){t.close()}}],closeAction:function(){}}}var CC=new WeakMap,yC=new WeakMap,SC=function(e){Yn(n,e);var i=Yg(n);function n(){var e;return t(this,n),Vg(Xn(e=i.call(this,{title:"信息",width:340,height:90,btns:[{text:"确定",action:function(){e.getEventListenter("c")(),e.close()}}]})),CC,{writable:!0,value:"msg-conetnt"}),Vg(Xn(e),yC,{writable:!0,value:void 0}),e}return r(n,[{key:"setMessage",value:function(t){Gn(this,yC).textContent=t}},{key:"createBody",value:function(){return Kn(this,yC,Xg.create(Ug.ELE_DIV,[Gn(this,CC)]))}}],[{key:"showMessagebox",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=new n;i.show(),i.addEventListenter("c",e),i.center(),i.setMessage(t)}}]),n}(pC),LC=new WeakMap,wC=new WeakMap,mC=function(e){Yn(n,e);var i=Yg(n);function n(){var e;return t(this,n),e=i.call(this,{title:"信息",width:340,height:160,btns:[{text:"确定",action:function(){e.getEventListenter("c")(Gn(Xn(e),wC).value)&&e.close()}},{text:"取消",action:function(){e.close()}}]}),Vg(Xn(e),LC,{writable:!0,value:"msg-textarea"}),Vg(Xn(e),wC,{writable:!0,value:void 0}),e}return r(n,[{key:"aftershow",value:function(){Gn(this,wC).focus()}},{key:"createBody",value:function(){return Kn(this,wC,Xg.create(Ug.ELE_TEXTAREA,[Gn(this,LC)])),Gn(this,wC)}}],[{key:"showPromptbox",value:function(t,e){var i=new n;i.setTitle(t),i.show(),i.center(),i.addEventListenter("c",(function(t){return e(t)}))}}]),n}(pC);function TC(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),i}var bC=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){return t(this,o),a.apply(this,arguments)}return r(o,null,[{key:"createButton",value:function(t){var e="selected",i="disabled",n=Object.assign({text:"",icon:"",switch:!1,title:void 0,onclick:function(){}},t),a=this.createDiv([Ug.CLASS_UNSELECTED,Ug.CLASS_MENU_COMP,"menu-button"]);a.style.position=Ug.VALUE_RELATIVE,n.title&&(a.title=n.title);var r=this.createDiv(["menu-icon",Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,n.icon]);if(a.dataicon=n.icon,a.appendChild(r),n.text){var o=this.createSpan(["menu-text"]);o.textContent=n.text,a.appendChild(o)}return a.addEventListener(Ug.VALUE_CLICK,(function(t){a.isDisabled()||(n.switch?a.isSelected()?(a.removeClass(e),n.onclick(t,!1)):(a.addClass(e),n.onclick(t,!0)):n.onclick(t,!1))})),a.setIcon=function(t){r.removeClass(a.dataicon),r.addClass(t),a.dataicon=t},a.setTitle=function(t){a.title=t},a.setSelected=function(t){t?a.addClass(e):a.removeClass(e)},a.setDisabled=function(t){t?a.addClass(i):a.removeClass(i)},a.isSelected=function(){return a.classList.contains(e)},a.isDisabled=function(){return a.classList.contains(i)},a}},{key:"createSeparator",value:function(){return this.createDiv([Ug.CLASS_UNSELECTED,"menu-sep"])}},{key:"createFontColor",value:function(t){return TC(this,o,OC).call(this,t,(function(t){return'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1752652279735" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5223" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20"><path d="M453.1484375 697.44270833H222.425v-32.7375c46.153125-6.5390625 81.253125-42.5671875 105.46875-108L515.7546875 111.45833333h42.8625l217.51875 497.6015625c13.1625 37.125 39.571875 55.6875 79.1015625 55.6875v32.6953125h-303.24375v-32.7375h32.990625c35.1 2.19375 51.5953125-7.59375 49.4015625-29.446875 0-4.3453125-1.096875-13.078125-3.290625-26.1984375 2.19375 8.7328125 1.096875 6.5390625-3.290625-6.5390625L584.984375 507.59895833H400.4140625l-26.409375 65.4328125c-6.58125 10.96875-10.96875 28.3921875-13.1625 52.396875 2.1515625 26.15625 18.646875 39.234375 49.44375 39.234375h42.8203125v32.7796875z m112.05-235.7015625l-75.8109375-176.765625-72.5203125 176.765625h148.33125z" fill="#2c2c2c" p-id="5224"></path><path d="M92.1875 732.59375h840.09375v177.75H92.1875z" fill="'.concat(t,'" p-id="5225"></path></svg>')}))}},{key:"createImageList",value:function(t){var e=this,i=Object.assign({text:"",title:void 0,panelWidth:100,list:[],onclick:function(){}},t),n=this.createDiv([Ug.CLASS_UNSELECTED,Ug.CLASS_MENU_COMP,"menu-list"]);n.style.position=Ug.VALUE_RELATIVE;var a=this.createDiv(["list-trigger"]);i.title&&(a.title=i.title);var r=this.createDiv(["list-icon",Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,i.icon]);a.appendChild(r);var s=TC(this,o,RC).call(this,i.list,i.panelWidth,(function(){}));return n.appendChild(a),n.appendChild(s),n.addEventListener(Ug.VALUE_MOUSEENTER,(function(){s.style.display=Ug.VALUE_BLOCK;var t=window.innerWidth||document.documentElement.clientWidth,i=s.getBoundingClientRect();i.right>t&&(s.style.left=e.toPx(t-i.right))})),n.addEventListener(Ug.VALUE_MOUSELEAVE,(function(){s.style.display=Ug.VALUE_NONE,s.style.left=e.toPx(0)})),n}},{key:"createMenuList",value:function(t){var e=this,i=Object.assign({text:"",title:void 0,panelWidth:100,list:[],onselected:function(){}},t),n=this.createDiv([Ug.CLASS_UNSELECTED,Ug.CLASS_MENU_COMP,"menu-list"]);n.style.position=Ug.VALUE_RELATIVE;var a=this.createDiv(["list-trigger"]);i.title&&(a.title=i.title);var r=this.createDiv(["list-icon",Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,i.icon]);a.appendChild(r);var s=TC(this,o,kC).call(this,i.list,i.panelWidth,(function(t){s.style.display=Ug.VALUE_NONE,i.onselected(t)}));return n.appendChild(a),n.appendChild(s),n.addEventListener(Ug.VALUE_MOUSEENTER,(function(){s.style.display=Ug.VALUE_BLOCK;var t=window.innerWidth||document.documentElement.clientWidth,i=s.getBoundingClientRect();i.right>t&&(s.style.left=e.toPx(t-i.right))})),n.addEventListener(Ug.VALUE_MOUSELEAVE,(function(){s.style.display=Ug.VALUE_NONE,s.style.left=e.toPx(0)})),n.setValue=function(t){s.select(t)},n}},{key:"createTableDown",value:function(t){var e=Object.assign({text:"",title:void 0,onclick:function(){}},t),i=this.createDiv([Ug.CLASS_UNSELECTED,Ug.CLASS_MENU_COMP,"menu-table"]);i.style.position=Ug.VALUE_RELATIVE;var n=this.createDiv(["table-trigger"]);e.title&&(n.title=e.title);var a=this.createDiv(["table-icon",Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,e.icon]);n.appendChild(a);var r=TC(this,o,IC).call(this,(function(t){e.onclick(t),r.style.display=Ug.VALUE_NONE}));return i.appendChild(n),i.appendChild(r),i.addEventListener(Ug.VALUE_MOUSEENTER,(function(){r.clear(),r.style.display=Ug.VALUE_BLOCK})),i.addEventListener(Ug.VALUE_MOUSELEAVE,(function(){r.style.display=Ug.VALUE_NONE})),i}},{key:"createPopMenu",value:function(t,e){var i=Object.assign({children:[],panelWidth:100,text:"",title:void 0,onclick:function(){}},t),n=TC(this,o,DC).call(this,"menu-pop",i.children,i.panelWidth,(function(t){i.onclick(t)}));return n.style.display=Ug.VALUE_BLOCK,document.addEventListener("click",(function(t){n.isConnected&&!n.contains(t.target)&&n.hide()})),document.addEventListener("contextmenu",(function(t){n.isConnected&&e!==t&&n.hide()})),document.body.appendChild(n),n.hide=function(){n.isConnected&&document.body.removeChild(n)},n.style.top=this.toPx(e.pageY),n.style.left=this.toPx(e.pageX),this.correctOffset(n,e.pageX,e.pageY),n}},{key:"createDorpDown",value:function(t){var e=this,i=Object.assign({children:[],panelWidth:100,text:"",title:void 0,onclick:function(){}},t),n=this.createDiv([Ug.CLASS_UNSELECTED,Ug.CLASS_MENU_COMP,"menu-dorpdown"]);n.style.position=Ug.VALUE_RELATIVE;var a=this.createDiv(["dorpdown-trigger"]);i.title&&(a.title=i.title);var r=this.createDiv(["dorpdown-icon",Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,i.icon]);a.appendChild(r);var s=TC(this,o,DC).call(this,"bottom",i.children,i.panelWidth,(function(t){i.onclick(t),s.style.display=Ug.VALUE_NONE}));return n.appendChild(a),n.appendChild(s),n.addEventListener(Ug.VALUE_MOUSEENTER,(function(){s.style.display=Ug.VALUE_BLOCK,s.correction(n.getBoundingClientRect(),!1)})),n.addEventListener(Ug.VALUE_MOUSELEAVE,(function(){s.style.display=Ug.VALUE_NONE,s.style.left=e.toPx(0)})),n}},{key:"createFontSize",value:function(t){return TC(this,o,xC).call(this,t)}},{key:"createFontFamily",value:function(t){var e=TC(this,o,xC).call(this,t);return e.optionlist.forEach((function(t){t.style.fontFamily=t.datavalue})),e}},{key:"createFileInput",value:function(t){var e=Object.assign({filetype:"*",onload:function(){}},t),i=Xg.createInput([Ug.CLASS_MENU_HIDE]);return i.accept=e.filetype,i.type="file",i.addEventListener(Ug.VALUE_CHANGE,(function(){var t=i.files[0],n=new FileReader;n.onload=function(){2==n.readyState&&e.onload(n.result)},n.readAsDataURL(t)})),document.body.appendChild(i),i}}]),o}(Xg);function OC(t,e){var i=Object.assign({options:[],cls:"",width:100,value:"#000",onselect:function(){}},t),n=this.createDiv([Ug.CLASS_MENU_COMP,"menu-color"]);n.style.position=Ug.VALUE_RELATIVE;var a=this.createDiv(["color-trigger"]);i.title&&(a.title=i.title);var r=this.createDiv(["color-text",Ug.CLASS_FLEX_CENTER]);r.innerHTML=e(i.value),a.appendChild(r);var o=TC(this,bC,AC).call(this,(function(t){r.innerHTML=e(t),o.style.display=Ug.VALUE_NONE,i.onselect(t)}),(function(){o.style.display=Ug.VALUE_NONE}));return n.appendChild(a),n.appendChild(o),n.addEventListener(Ug.VALUE_MOUSEENTER,(function(){o.style.display=Ug.VALUE_BLOCK})),n.addEventListener(Ug.VALUE_MOUSELEAVE,(function(){o.style.display=Ug.VALUE_NONE})),n.setValue=function(t){r.innerHTML=e(t)},n}function AC(t,e){var i=this,n=this.createDiv(["color-options"]);n.style.position=Ug.VALUE_ABSOLUTE;var a=this.createTable(),r=[["ffffff","000000","44546a","5B9BD5","ED7D31","FFC000","4472C4","70AD47"],["f2f2f2","808080","D0CECE","D6DCE5","FBE5D6","FFF2CC","DAE3F3","E2F0D9"],["d9d9d9","595959","ADB9CA","BDD7EE","F8CBAD","FFE699","B4C7E7","C5E0B4"],["bfbfbf","404040","8497B0","9DC3E6","F4B183","FFD966","8FAADC","A9D18E"],["a6a6a6","262626","333F50","2E75B6","C55A11","BF9000","2F5597","548235"],["7f7f7f","0d0d0d","222A35","1F4E79","843C0B","7F6000","203864","385723"],["C00000","FF0000","FFC000","FFFF00","92D050","0070C0","002060","800080"]],o=this.createTableTR(),s=this.createTableTD(["color-cell"]),l=this.createDiv();l.style.background=Ug.VALUE_BLACK,s.appendChild(l),o.appendChild(s);var c=this.createTableTD(["color-button"]);c.textContent="自动",c.colSpan=7,o.appendChild(c),o.addEventListener(Ug.VALUE_CLICK,(function(){t(Ug.VALUE_BLACK)})),a.appendChild(o);for(var h=0;h<r.length;h++){for(var u=this.createTableTR(),f=function(e){var n=i.createTableTD(["color-cell"]),a=i.createDiv(),o="#".concat(r[h][e]);a.style.background=o,a.addEventListener(Ug.VALUE_CLICK,(function(){t(o)})),n.appendChild(a),u.appendChild(n)},d=0;d<r[h].length;d++)f(d);a.appendChild(u)}var p=this.createTableTR(),v=this.createTableTD(),_=this.createDiv([Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,"layui-icon-color"]);v.appendChild(_),p.appendChild(v);var E=this.createTableTD(["color-button"]);return E.textContent="其他颜色",E.colSpan=7,p.appendChild(E),p.addEventListener(Ug.VALUE_CLICK,(function(){e()})),a.appendChild(p),n.appendChild(a),n}function RC(t,e,i){var n=this,a=this.createDiv(["list-options"]);return a.style.position=Ug.VALUE_ABSOLUTE,a.style.width=this.toPx(e),t.forEach((function(t){var e=n.createDiv(["list-option",Ug.CLASS_FLEX_ROW]),r=n.createImg(["list-img"]);r.src=t.src,e.appendChild(r),e.addEventListener(Ug.VALUE_CLICK,(function(){i(t)})),a.appendChild(e)})),a}function kC(t,e,i){var n=this,a=this.createDiv(["list-options"]);a.style.position=Ug.VALUE_ABSOLUTE,a.style.width=this.toPx(e);var r=[];return t.forEach((function(t){var e=n.createDiv(["list-option",Ug.CLASS_FLEX_ROW]);e.datavalue=t.value;var o=n.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,Ug.CLASS_UNSELECTED,Ug.CLASS_ITEM_ICON]),s=n.createDiv([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FLEX_ROW,Ug.CLASS_UNSELECTED,Ug.CLASS_ITEM_TEXT]);s.textContent=t.text,e.appendChild(o),e.appendChild(s),e.addEventListener(Ug.VALUE_CLICK,(function(){a.select(t.value),i(t.value)})),e.selected=function(t){t?o.addClass("layui-icon-correct"):o.removeClass("layui-icon-correct")},r.push(e),a.appendChild(e)})),a.select=function(t){r.forEach((function(e){e.selected(t==e.datavalue)}))},a}function IC(t){var e=this,i=this.createDiv(["table-options"]);i.style.position=Ug.VALUE_ABSOLUTE;for(var n=this.createTable(),a=[],r=function(i){for(var r=e.createTableTR(),o=function(n){var o=e.createTableTD(["table-cell"]);o.datarow=i,o.dataccol=n,o.appendChild(e.createDiv()),o.addEventListener(Ug.VALUE_MOUSEENTER,(function(){a.forEach((function(t){t.datarow<=i&&t.dataccol<=n?t.addClass("selected"):t.removeClass("selected")}))})),o.addEventListener(Ug.VALUE_CLICK,(function(){t({rows:i+1,cols:n+1})})),r.appendChild(o),a.push(o)},s=0;s<10;s++)o(s);n.appendChild(r)},o=0;o<10;o++)r(o);return i.appendChild(n),i.clear=function(){a.forEach((function(t){t.removeClass("selected")}))},i}function DC(t,e,i,n){var a=this,r=this.createDiv([t,"dorpdown-options"]);return r.style.position=Ug.VALUE_ABSOLUTE,r.style.width=this.toPx(i),r.correction=function(t,e){var i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,o=r.getBoundingClientRect();o.right>i&&(r.style.left=e?a.toPx(i-o.right-t.width):a.toPx(i-o.right)),o.bottom>n&&(r.style.top=a.toPx(n-o.bottom))},e.forEach((function(t){if("-"==t.type){var e=a.createDiv(["dorpdown-separator"]);r.appendChild(e)}else{var o=a.createDiv(["dorpdown-option",Ug.CLASS_FLEX_ROW]);o._template_data=t,o.style.position=Ug.VALUE_RELATIVE;var s=a.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,Ug.CLASS_UNSELECTED,Ug.CLASS_ITEM_ICON]);t.icon&&s.addClass(t.icon);var l=a.createDiv([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FLEX_ROW,Ug.CLASS_UNSELECTED,Ug.CLASS_ITEM_TEXT]);if(l.textContent=t.text,o.appendChild(s),o.appendChild(l),t.children&&Array.isArray(t.children)){var c=a.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,Ug.CLASS_UNSELECTED,,Ug.CLASS_ITEM_ARROW,"layui-icon-next-m"]);o.appendChild(c);var h=TC(a,bC,DC).call(a,"right",t.children,i,n);o.appendChild(h),o.addEventListener(Ug.VALUE_MOUSEENTER,(function(){h.style.display=Ug.VALUE_BLOCK,h.correction(r.getBoundingClientRect(),!0)})),o.addEventListener(Ug.VALUE_MOUSELEAVE,(function(){h.style.display=Ug.VALUE_NONE}))}o.addEventListener(Ug.VALUE_CLICK,(function(e){n(t,e)})),r.appendChild(o)}})),r}function xC(t){var e=Object.assign({items:[],width:80,panelWidth:100,text:"",title:void 0,onclick:function(){}},t),i=this.createDiv([Ug.CLASS_UNSELECTED,Ug.CLASS_MENU_COMP,"menu-select"]);i.style.position=Ug.VALUE_RELATIVE;var n=this.createDiv(["select-trigger"]);n.style.width=Xg.toPx(e.width);var a=TC(this,bC,MC).call(this,e.items,e.panelWidth,(function(t){a.style.display=Ug.VALUE_NONE,n.textContent=t.name,e.onclick(t)}));return i.appendChild(n),i.appendChild(a),i.optionlist=a.optionlist,i.addEventListener(Ug.VALUE_MOUSEENTER,(function(){a.style.display=Ug.VALUE_BLOCK})),i.addEventListener(Ug.VALUE_MOUSELEAVE,(function(){a.style.display=Ug.VALUE_NONE})),i.setValue=function(t){var i=e.items.findIndex((function(e){return e.value==t}));i>=0&&(n.textContent=e.items[i].name)},i}function MC(t,e,i){var n=this,a=this.createDiv(["select-options"]);return a.style.position=Ug.VALUE_ABSOLUTE,a.style.width=this.toPx(e),a.optionlist=[],t.forEach((function(t){var e=n.createDiv(["select-option",Ug.CLASS_FLEX_ROW]);e.textContent=t.name,e.datavalue=t.value,e.addEventListener(Ug.VALUE_CLICK,(function(){i(t)})),a.optionlist.push(e),a.appendChild(e)})),a}var PC=function(){function e(){t(this,e)}return r(e,[{key:"isAllDigits",value:function(t){return"string"==typeof t&&/^[0-9]+$/.test(t)}}]),e}();function NC(t,e,i){BC(t,e),e.set(t,i)}function BC(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}var FC=new WeakMap,WC=new WeakMap,UC=new WeakMap,XC=new WeakSet,HC=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e,i,n;t(this,o);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return BC(i=Xn(e=a.call.apply(a,[this].concat(s))),n=XC),n.add(i),NC(Xn(e),FC,{writable:!0,value:void 0}),NC(Xn(e),WC,{writable:!0,value:void 0}),NC(Xn(e),UC,{writable:!0,value:void 0}),e}return r(o,[{key:"init",value:function(t){Kn(this,FC,t),function(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}(this,XC,YC).call(this)}},{key:"getRoot",value:function(){return Gn(this,FC)}},{key:"getContainer",value:function(){return Gn(this,WC)}},{key:"getComments",value:function(){return Gn(this,UC)}}]),o}(PC);function YC(){Gn(this,FC).addClass([Ug.CLASS_COL_SPREAD,Ug.CLASS_FLEX_ROW,"edit-content"]),Kn(this,WC,Xg.createDiv(["editor-container"])),Kn(this,UC,Xg.createDiv(["editor-comments"])),Gn(this,FC).appendChild(Gn(this,WC)),Gn(this,FC).appendChild(Gn(this,UC))}function jC(t,e){zC(t,e),e.add(t)}function VC(t,e,i){zC(t,e),e.set(t,i)}function zC(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function GC(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var KC=new WeakMap,ZC=new WeakMap,JC=new WeakMap,qC=new WeakMap,$C=new WeakMap,QC=new WeakMap,ty=new WeakMap,ey=new WeakSet,iy=new WeakSet,ny=new WeakSet,ay=new WeakSet,ry=new WeakSet,oy=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(e){var i;return t(this,o),jC(Xn(i=a.call(this)),ry),jC(Xn(i),ay),jC(Xn(i),ny),jC(Xn(i),iy),jC(Xn(i),ey),VC(Xn(i),KC,{writable:!0,value:void 0}),VC(Xn(i),ZC,{writable:!0,value:void 0}),VC(Xn(i),JC,{writable:!0,value:void 0}),VC(Xn(i),qC,{writable:!0,value:void 0}),VC(Xn(i),$C,{writable:!0,value:void 0}),VC(Xn(i),QC,{writable:!0,value:void 0}),VC(Xn(i),ty,{writable:!0,value:void 0}),Kn(Xn(i),KC,Object.assign(GC(Xn(i),ry,uy).call(Xn(i)),e)),GC(Xn(i),ey,sy).call(Xn(i)),i}return r(o,[{key:"getDom",value:function(){return Gn(this,qC)}},{key:"loadData",value:function(t){Array.isArray(t)&&(Kn(this,ZC,t),GC(this,ay,hy).call(this))}},{key:"addRowData",value:function(t){Gn(this,ZC).push(t),GC(this,ay,hy).call(this)}},{key:"deleteRow",value:function(t){Gn(this,ZC).length>t&&(Gn(this,ZC).splice(t,1),Gn(this,JC)>=Gn(this,ZC).length&&Kn(this,JC,Gn(this,ZC).length-1),GC(this,ay,hy).call(this))}},{key:"getSelectedRow",value:function(){return Gn(this,JC)}}]),o}(Hg);function sy(){Kn(this,qC,Xg.create(Ug.ELE_DIV,[Ug.CLASS_FLEX_COL,"tablegrid"])),Gn(this,qC).style.width=Xg.toPx(Gn(this,KC).width),Gn(this,qC).style.height=Xg.toPx(Gn(this,KC).height),Kn(this,ZC,[]),GC(this,iy,ly).call(this),GC(this,ny,cy).call(this),Gn(this,qC).appendChild(Gn(this,$C)),Gn(this,qC).appendChild(Gn(this,QC))}function ly(){Kn(this,$C,Xg.create(Ug.ELE_DIV,[Ug.CLASS_COL_FIXED,"head-panel"]));var t=Xg.create(Ug.ELE_TABLE,["table"]),e=Xg.create(Ug.ELE_TR);Gn(this,KC).columns.forEach((function(t){var i=Xg.create(Ug.ELE_TD);i.textContent=t.title,i.style.width=Xg.toPx(t.width),e.appendChild(i)})),t.appendChild(e),Gn(this,$C).appendChild(t)}function cy(){Kn(this,QC,Xg.create(Ug.ELE_DIV,[Ug.CLASS_COL_SPREAD,"body-panel"])),Kn(this,ty,Xg.create(Ug.ELE_TABLE,["table"])),Gn(this,QC).appendChild(Gn(this,ty))}function hy(){var t=this;Gn(this,ty).innerHTML="",Gn(this,ZC).forEach((function(e,i){var n=Xg.create(Ug.ELE_TR);Gn(t,KC).columns.forEach((function(t){var i=Xg.create(Ug.ELE_TD);i.style.width=Xg.toPx(t.width),n.appendChild(i);var a=Xg.createInput(["cell-input"]);i.appendChild(a),e.hasOwnProperty(t.field)&&(a.value=e[t.field]),a.addEventListener(Ug.VALUE_CHANGE,(function(){e[t.field]=a.value}))})),n.addEventListener(Ug.VALUE_CLICK,(function(){Gn(t,JC)>=0&&Gn(t,ty).rows[Gn(t,JC)].removeClass("selected"),Kn(t,JC,i),n.addClass("selected")})),Gn(t,JC)>=0&&Gn(t,JC)==i&&n.addClass("selected"),Gn(t,ty).appendChild(n)}))}function uy(){return{columns:[],width:100,height:100}}var fy=r((function e(){t(this,e)}));function dy(t,e){_y(t,e),e.add(t)}function py(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function vy(t,e,i){_y(t,e),e.set(t,i)}function _y(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ey(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Vn(t);if(e){var a=Vn(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return jn(this,i)}}o(fy,"Website","https://emr.jpeach.cn"),o(fy,"Version","2.0.1"),o(fy,"Product","Preach Editor编辑器"),o(fy,"QQGroup","860730604");var gy=function(e){Yn(n,e);var i=Ey(n);function n(){return t(this,n),i.call(this,{title:"关于系统",width:340,height:200,closeAction:function(){EditorDocs.refresh()}})}return r(n,[{key:"createBody",value:function(){var t=Xg.createDiv([Ug.CLASS_FLEX_COL,"editor-form-about"]),e=Xg.createDiv([Ug.CLASS_COL_FIXED,Ug.CLASS_FLEX_CENTER,"product"]);e.textContent=fy.Product,t.appendChild(e);var i=Xg.createDiv([Ug.CLASS_COL_FIXED,Ug.CLASS_FLEX_CENTER,"version"]);i.textContent="Version:".concat(fy.Version),t.appendChild(i);var n=Xg.createDiv([Ug.CLASS_COL_FIXED,Ug.CLASS_FLEX_ROW,"webinfo"]),a=Xg.createDiv([Ug.CLASS_ROW_FIXED,"info-label"]);a.textContent="官网地址：";var r=Xg.createDiv([Ug.CLASS_ROW_FIXED,"info-value"]);r.innerHTML='<a target="_blank" href="'.concat(fy.Website,'">').concat(fy.Website,"</a>"),n.appendChild(a),n.appendChild(r),t.appendChild(n);var o=Xg.createDiv([Ug.CLASS_COL_FIXED,Ug.CLASS_FLEX_ROW,"webinfo"]),s=Xg.createDiv([Ug.CLASS_ROW_FIXED,"info-label"]);s.textContent="QQ群：";var l=Xg.createDiv([Ug.CLASS_ROW_FIXED,"info-value"]);return l.innerHTML="".concat(fy.QQGroup),o.appendChild(s),o.appendChild(l),t.appendChild(o),t}}]),n}(pC),Cy=new WeakMap,yy=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"段落格式",width:400,height:360,btns:[{text:"确定",action:function(){EditorDocs.changeParagStyle(Gn(Xn(e),Cy)),e.close()}},{text:"取消",action:function(){e.close()}}],closeAction:function(){EditorDocs.refresh()}}),vy(Xn(e),Cy,{writable:!0,value:void 0}),e}return r(n,[{key:"setStyle",value:function(t){Kn(this,Cy,t)}},{key:"createBody",value:function(){var t=this,e=Xg.createDiv([Ug.CLASS_FLEX_COL,Ug.CLASS_FORM_LAYOUT]),i=Xg.createFieldset([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_FIELD]);e.appendChild(i);var n=Xg.createLegend();n.textContent="常规",i.appendChild(n);var a=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);a.textContent="对齐",i.appendChild(a);var r=Xg.createSelect([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);r.appendChild(Xg.createOption("左对齐","left")),r.appendChild(Xg.createOption("居中对齐","center")),r.appendChild(Xg.createOption("右对齐","right")),r.appendChild(Xg.createOption("两端对齐","both")),r.appendChild(Xg.createOption("分散对齐","dispersed")),r.value=Gn(this,Cy).align,r.onchange=function(){Gn(t,Cy).align=r.value},i.appendChild(r);var o=Xg.createFieldset([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_FIELD]);e.appendChild(o);var s=Xg.createLegend();s.textContent="缩进",o.appendChild(s);var l=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);l.textContent="左侧",o.appendChild(l);var c=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_NUMBER]);c.type="number",c.value=Gn(this,Cy).indentLeft,c.onchange=function(){Gn(t,Cy).indentLeft=c.value},o.appendChild(c);var h=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);h.textContent="特殊格式",o.appendChild(h);var u=Xg.createSelect([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);u.appendChild(Xg.createOption("无","0")),u.appendChild(Xg.createOption("首行缩进","1")),u.appendChild(Xg.createOption("悬挂缩进","2")),u.value=Gn(this,Cy).indentSpecialType,u.onchange=function(){Gn(t,Cy).indentSpecialType=u.value},o.appendChild(u);var f=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(f);var d=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);d.textContent="右侧",f.appendChild(d);var p=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_NUMBER]);p.type="number",p.value=Gn(this,Cy).indentRight,p.onchange=function(){Gn(t,Cy).indentRight=p.value},f.appendChild(p);var v=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);v.textContent="值",f.appendChild(v);var _=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_NUMBER]);_.type="number",_.value=Gn(this,Cy).indentSpecialvalue,_.onchange=function(){Gn(t,Cy).indentSpecialvalue=_.value},f.appendChild(_);var E=Xg.createFieldset([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_FIELD]);e.appendChild(E);var g=Xg.createLegend();g.textContent="间距",E.appendChild(g);var C=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);C.textContent="段前",E.appendChild(C);var y=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_NUMBER]);y.type="number",y.value=Gn(this,Cy).segmentSpacPre,y.onchange=function(){Gn(t,Cy).segmentSpacPre=y.value},E.appendChild(y);var S=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);S.textContent="行距",E.appendChild(S);var L=Xg.createSelect([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);L.appendChild(Xg.createOption("1",1)),L.appendChild(Xg.createOption("1.15",1.15)),L.appendChild(Xg.createOption("1.5",1.5)),L.appendChild(Xg.createOption("2",2)),L.appendChild(Xg.createOption("2.5",2.5)),L.appendChild(Xg.createOption("3",3)),L.value=Gn(this,Cy).rowspac,L.onchange=function(){Gn(t,Cy).rowspac=Number(L.value)},E.appendChild(L);var w=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(w);var m=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);m.textContent="段后",w.appendChild(m);var T=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_NUMBER]);T.type="number",T.value=Gn(this,Cy).segmentSpacAft,T.onchange=function(){Gn(t,Cy).segmentSpacAft=T.value},w.appendChild(T);var b=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);w.appendChild(b);var O=Xg.createDiv([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);return w.appendChild(O),e}}]),n}(pC),Sy=new WeakMap,Ly=new WeakMap,wy=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"页面设置",width:400,height:410,btns:[{text:"确定",action:function(){EditorDocs.changePaperInfo(Gn(Xn(e),Sy)),EditorDocs.changePageNum(Gn(Xn(e),Ly)),e.close()}},{text:"取消",action:function(){e.close()}}],closeAction:function(){EditorDocs.refresh()}}),vy(Xn(e),Sy,{writable:!0,value:void 0}),vy(Xn(e),Ly,{writable:!0,value:void 0}),e}return r(n,[{key:"setPaperInfo",value:function(t){Kn(this,Sy,t)}},{key:"setNumnerInfo",value:function(t){Kn(this,Ly,t)}},{key:"createBody",value:function(){var t=this,e=Xg.createDiv([Ug.CLASS_FLEX_COL,Ug.CLASS_FORM_LAYOUT]),i=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_NUMBER]);i.type="number",i.value=Gn(this,Sy).width,i.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Sy).width=i.value}));var n=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_NUMBER]);n.type="number",n.value=Gn(this,Sy).height,n.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Sy).height=n.value}));var a=EditorDocs.getPaperTypeList(),r=function(e){var r=a.find((function(t){return t.value==e}));r&&r.standard?(t.setReadOnly(i),t.setReadOnly(n),i.value=r.width,n.value=r.height):(t.unsetReadOnly(i),t.unsetReadOnly(n))},o=Xg.createFieldset([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_FIELD]);e.appendChild(o);var s=Xg.createLegend();s.textContent="纸张(单位:mm)",o.appendChild(s);var l=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);l.textContent="类型",o.appendChild(l);var c=Xg.createSelect([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);a.forEach((function(t){c.appendChild(Xg.createOption(t.name,t.value))})),c.value=Gn(this,Sy).type,r(c.value),c.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Sy).type=c.value,r(c.value)})),o.appendChild(c);var h=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);h.textContent="方向",o.appendChild(h);var u=Xg.createSelect([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);EditorDocs.getPaperDirecList().forEach((function(t){u.appendChild(Xg.createOption(t.name,t.value))})),u.value=Gn(this,Sy).direction,u.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Sy).direction=u.value})),o.appendChild(u);var f=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(f);var d=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);d.textContent="宽",f.appendChild(d),f.appendChild(i);var p=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);p.textContent="高",f.appendChild(p),f.appendChild(n);var v=Xg.createFieldset([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_FIELD]);e.appendChild(v);var _=Xg.createLegend();_.textContent="边距(单位:mm)",v.appendChild(_);var E=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);E.textContent="上边距",v.appendChild(E);var g=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_NUMBER]);g.type="number",g.value=Gn(this,Sy).top,g.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Sy).top=g.value})),v.appendChild(g);var C=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);C.textContent="下边距",v.appendChild(C);var y=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_NUMBER]);y.type="number",y.value=Gn(this,Sy).bottom,y.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Sy).bottom=y.value})),v.appendChild(y);var S=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(S);var L=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);L.textContent="左边距",S.appendChild(L);var w=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_NUMBER]);w.type="number",w.value=Gn(this,Sy).left,w.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Sy).left=w.value})),S.appendChild(w);var m=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);m.textContent="右边距",S.appendChild(m);var T=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_NUMBER]);T.type="number",T.value=Gn(this,Sy).right,T.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Sy).right=T.value})),S.appendChild(T);var b=EditorDocs.getPageNumAlignList(),O=EditorDocs.getPageNumPatternList(),A=EditorDocs.getFontFamilyList(),R=EditorDocs.getFontSizeList(),k=Xg.createFieldset([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_FIELD]);e.appendChild(k);var I=Xg.createLegend();I.textContent="页码",k.appendChild(I);var D=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);D.textContent="位置",k.appendChild(D);var x=Xg.createSelect([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);b.forEach((function(t){x.appendChild(Xg.createOption(t.label,t.value))})),x.value=Gn(this,Ly).align,x.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Ly).align=x.value})),k.appendChild(x);var M=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);M.textContent="格式",k.appendChild(M);var P=Xg.createSelect([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);O.forEach((function(t){P.appendChild(Xg.createOption(t.name,t.value))})),P.value=Gn(this,Ly).format,P.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Ly).format=P.value})),k.appendChild(P);var N=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(N);var B=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);B.textContent="字体",N.appendChild(B);var F=Xg.createSelect([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);A.forEach((function(t){F.appendChild(Xg.createOption(t.name,t.value))})),F.value=Gn(this,Ly).family,F.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Ly).family=F.value})),N.appendChild(F);var W=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);W.textContent="字号",N.appendChild(W);var U=Xg.createSelect([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);return R.forEach((function(t){U.appendChild(Xg.createOption(t.name,t.value))})),U.value=Gn(this,Ly).size,U.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Ly).size=U.value})),N.appendChild(U),e}}]),n}(pC),my=new WeakMap,Ty=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"日期控件设置",width:400,height:200,btns:[{text:"确定",action:function(){EditorDocs.changeCompInfo(Gn(Xn(e),my)),e.close()}},{text:"取消",action:function(){e.close()}}],closeAction:function(){EditorDocs.refresh()}}),vy(Xn(e),my,{writable:!0,value:void 0}),e}return r(n,[{key:"setComponent",value:function(t){Kn(this,my,t)}},{key:"createBody",value:function(){var t=this,e=Xg.createDiv([Ug.CLASS_FLEX_COL,Ug.CLASS_FORM_LAYOUT]),i=EditorDocs.getDataPatternList(),n=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]),a=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(a);var r=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);r.textContent="格式",a.appendChild(r);var o=Xg.createSelect([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);i.forEach((function(t){o.appendChild(Xg.createOption(t.name,t.value))})),o.value=Gn(this,my).property.format,o.addEventListener(Ug.VALUE_CHANGE,(function(){n.value=o.value})),a.appendChild(o);var s=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);s.textContent="数据编码",a.appendChild(s);var l=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);l.value=Gn(this,my).property.code,l.onchange=function(){Gn(t,my).property.code=l.value},a.appendChild(l);var c=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(c);var h=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);h.textContent="表达式",c.appendChild(h),n.value=Gn(this,my).property.format,n.onchange=function(){Gn(t,my).property.format=n.value},c.appendChild(n);var u=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(u);var f=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);f.textContent="描述说明",u.appendChild(f);var d=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);return d.value=Gn(this,my).property.describe,d.onchange=function(){Gn(t,my).property.describe=d.value},u.appendChild(d),e}}]),n}(pC),by=new WeakMap,Oy=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"文本框控件设置",width:400,height:360,btns:[{text:"确定",action:function(){EditorDocs.changeCompInfo(Gn(Xn(e),by)),e.close()}},{text:"取消",action:function(){e.close()}}],closeAction:function(){EditorDocs.refresh()}}),vy(Xn(e),by,{writable:!0,value:void 0}),e}return r(n,[{key:"setComponent",value:function(t){Kn(this,by,t)}},{key:"createBody",value:function(){var t=this,e=Xg.createDiv([Ug.CLASS_FLEX_COL,Ug.CLASS_FORM_LAYOUT]),i=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(i);var n=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);n.textContent="基础属性",i.appendChild(n);var a="TextBoxDialog-CheckBox-1",r=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);r.type=Ug.VALUE_CHECKBOX,r.id=a,r.checked=Gn(this,by).property.deletable,r.onchange=function(){Gn(t,by).property.deletable=r.checked};var o=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);o.htmlFor=a,o.textContent="可删除",i.appendChild(r),i.appendChild(o);var s="TextBoxDialog-CheckBox-2",l=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);l.type=Ug.VALUE_CHECKBOX,l.id=s,l.checked=Gn(this,by).property.required,l.onchange=function(){Gn(t,by).property.required=l.checked};var c=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);c.htmlFor=s,c.textContent="必填",i.appendChild(l),i.appendChild(c);var h="TextBoxDialog-CheckBox-3",u=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);u.type=Ug.VALUE_CHECKBOX,u.id=h,u.checked=Gn(this,by).property.border,u.onchange=function(){Gn(t,by).property.border=u.checked};var f=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);f.htmlFor=h,f.textContent="边框",i.appendChild(u),i.appendChild(f);var d=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(d);var p=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);p.textContent="数据编码",d.appendChild(p);var v=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);v.value=Gn(this,by).property.code,v.onchange=function(){Gn(t,by).property.code=v.value},d.appendChild(v);var _=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);_.textContent="描述说明",d.appendChild(_);var E=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);E.value=Gn(this,by).property.describe,E.onchange=function(){Gn(t,by).property.describe=E.value},d.appendChild(E);var g=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(g);var C=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);C.textContent="空值文本",g.appendChild(C);var y=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);return y.value=Gn(this,by).property.placeholder,y.onchange=function(){Gn(t,by).property.placeholder=y.value},g.appendChild(y),e}}]),n}(pC),Ay=new WeakMap,Ry=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"文本域控件设置",width:400,height:360,btns:[{text:"确定",action:function(){EditorDocs.changeCompInfo(Gn(Xn(e),Ay)),e.close()}},{text:"取消",action:function(){e.close()}}],closeAction:function(){EditorDocs.refresh()}}),vy(Xn(e),Ay,{writable:!0,value:void 0}),e}return r(n,[{key:"setComponent",value:function(t){Kn(this,Ay,t)}},{key:"createBody",value:function(){var t=this,e=Xg.createDiv([Ug.CLASS_FLEX_COL,Ug.CLASS_FORM_LAYOUT]),i=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(i);var n=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);n.textContent="基础属性",i.appendChild(n);var a="TextFieldDialog-CheckBox-1",r=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);r.type=Ug.VALUE_CHECKBOX,r.id=a,r.checked=Gn(this,Ay).property.deletable,r.onchange=function(){Gn(t,Ay).property.deletable=r.checked};var o=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);o.htmlFor=a,o.textContent="可删除",i.appendChild(r),i.appendChild(o);var s="TextFieldDialog-CheckBox-2",l=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);l.type=Ug.VALUE_CHECKBOX,l.id=s,l.checked=Gn(this,Ay).property.required,l.onchange=function(){Gn(t,Ay).property.required=l.checked};var c=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);c.htmlFor=s,c.textContent="必填",i.appendChild(l),i.appendChild(c);var h="TextFieldDialog-CheckBox-3",u=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);u.type=Ug.VALUE_CHECKBOX,u.id=h,u.checked=Gn(this,Ay).property.editable,u.onchange=function(){Gn(t,Ay).property.editable=u.checked};var f=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);f.htmlFor=h,f.textContent="可编辑",i.appendChild(u),i.appendChild(f);var d="TextFieldDialog-CheckBox-3",p=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);p.type=Ug.VALUE_CHECKBOX,p.id=d,p.checked=Gn(this,Ay).property.underline,p.onchange=function(){Gn(t,Ay).property.underline=p.checked};var v=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);v.htmlFor=d,v.textContent="下划线",i.appendChild(p),i.appendChild(v);var _=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(_);var E=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);E.textContent="数据编码",_.appendChild(E);var g=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);g.value=Gn(this,Ay).property.code,g.onchange=function(){Gn(t,Ay).property.code=g.value},_.appendChild(g);var C=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);C.textContent="描述说明",_.appendChild(C);var y=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);y.value=Gn(this,Ay).property.describe,y.onchange=function(){Gn(t,Ay).property.describe=y.value},_.appendChild(y);var S=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(S);var L=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);L.textContent="空值文本",S.appendChild(L);var w=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);w.value=Gn(this,Ay).property.placeholder,w.onchange=function(){Gn(t,Ay).property.placeholder=w.value},S.appendChild(w);var m=new oy({columns:[{title:"编码",width:100},{title:"说明",width:200}],width:310,height:144}),T=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]),b=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);return b.textContent="计算式",T.appendChild(b),T.appendChild(m.getDom()),e.appendChild(T),e}}]),n}(pC),ky=new WeakMap,Iy=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"多选框控件设置",width:400,height:360,btns:[{text:"确定",action:function(){EditorDocs.changeCompInfo(Gn(Xn(e),ky)),e.close()}},{text:"取消",action:function(){e.close()}}],closeAction:function(){EditorDocs.refresh()}}),vy(Xn(e),ky,{writable:!0,value:void 0}),e}return r(n,[{key:"setComponent",value:function(t){Kn(this,ky,t)}},{key:"createBody",value:function(){var t=this,e=Xg.createDiv([Ug.CLASS_FLEX_COL,Ug.CLASS_FORM_LAYOUT]),i=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(i);var n=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);n.textContent="基础属性",i.appendChild(n);var a="CheckBoxDialog-CheckBox-1",r=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);r.type=Ug.VALUE_CHECKBOX,r.id=a,r.checked=Gn(this,ky).property.deletable,r.onchange=function(){Gn(t,ky).property.deletable=r.checked};var o=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);o.htmlFor=a,o.textContent="可删除",i.appendChild(r),i.appendChild(o);var s="CheckBoxDialog-CheckBox-2",l=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);l.type=Ug.VALUE_CHECKBOX,l.id=s,l.checked=Gn(this,ky).property.required,l.onchange=function(){Gn(t,ky).property.required=l.checked};var c=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);c.htmlFor=s,c.textContent="必填",i.appendChild(l),i.appendChild(c);var h=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(h);var u=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);u.textContent="数据编码",h.appendChild(u);var f=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);f.value=Gn(this,ky).property.code,f.onchange=function(){Gn(t,ky).property.code=f.value},h.appendChild(f);var d=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);d.textContent="描述说明",h.appendChild(d);var p=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);p.value=Gn(this,ky).property.describe,p.onchange=function(){Gn(t,ky).property.describe=p.value},h.appendChild(p);var v=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(v);var _=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);_.textContent="文本说明",v.appendChild(_);var E=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);return E.value=Gn(this,ky).property.label,E.onchange=function(){Gn(t,ky).property.label=E.value},v.appendChild(E),e}}]),n}(pC),Dy=new WeakMap,xy=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"单选框控件设置",width:400,height:360,btns:[{text:"确定",action:function(){EditorDocs.changeCompInfo(Gn(Xn(e),Dy)),e.close()}},{text:"取消",action:function(){e.close()}}],closeAction:function(){EditorDocs.refresh()}}),vy(Xn(e),Dy,{writable:!0,value:void 0}),e}return r(n,[{key:"setComponent",value:function(t){Kn(this,Dy,t)}},{key:"createBody",value:function(){var t=this,e=Xg.createDiv([Ug.CLASS_FLEX_COL,Ug.CLASS_FORM_LAYOUT]),i=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(i);var n=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);n.textContent="基础属性",i.appendChild(n);var a="RadioBoxDialog-CheckBox-1",r=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);r.type=Ug.VALUE_CHECKBOX,r.id=a,r.checked=Gn(this,Dy).property.deletable,r.onchange=function(){Gn(t,Dy).property.deletable=r.checked};var o=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);o.htmlFor=a,o.textContent="可删除",i.appendChild(r),i.appendChild(o);var s="RadioBoxDialog-CheckBox-2",l=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);l.type=Ug.VALUE_CHECKBOX,l.id=s,l.checked=Gn(this,Dy).property.required,l.onchange=function(){Gn(t,Dy).property.required=l.checked};var c=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);c.htmlFor=s,c.textContent="必填",i.appendChild(l),i.appendChild(c);var h=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(h);var u=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);u.textContent="数据编码",h.appendChild(u);var f=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);f.value=Gn(this,Dy).property.code,f.onchange=function(){Gn(t,Dy).property.code=f.value},h.appendChild(f);var d=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);d.textContent="描述说明",h.appendChild(d);var p=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);p.value=Gn(this,Dy).property.describe,p.onchange=function(){Gn(t,Dy).property.describe=p.value},h.appendChild(p);var v=new oy({columns:[{title:"编码",width:100,field:"code"},{title:"说明",width:180,field:"text"}],width:310,height:144});v.loadData(Gn(this,Dy).property.options);var _=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]),E=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);E.textContent="选项";var g=Xg.createDiv([Ug.CLASS_FORM_BUTTON_PANEL]);g.appendChild(E);var C=Xg.createDiv([Ug.CLASS_BUTTON_NORMAL,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,"layui-icon-add"]);C.title="增加选项",C.onclick=function(){v.addRowData({})},g.appendChild(C);var y=Xg.createDiv([Ug.CLASS_BUTTON_NORMAL,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,"layui-icon-remove"]);return y.title="删除选项",y.onclick=function(){var t=v.getSelectedRow();t&&v.deleteRow(t)},g.appendChild(y),_.appendChild(g),_.appendChild(v.getDom()),e.appendChild(_),e}}]),n}(pC),My=new WeakMap,Py=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"单选文本域控件设置",width:400,height:390,btns:[{text:"确定",action:function(){EditorDocs.changeCompInfo(Gn(Xn(e),My)),e.close()}},{text:"取消",action:function(){e.close()}}],closeAction:function(){EditorDocs.refresh()}}),vy(Xn(e),My,{writable:!0,value:void 0}),e}return r(n,[{key:"setComponent",value:function(t){Kn(this,My,t)}},{key:"createBody",value:function(){var t=this,e=Xg.createDiv([Ug.CLASS_FLEX_COL,Ug.CLASS_FORM_LAYOUT]),i=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(i);var n=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);n.textContent="基础属性",i.appendChild(n);var a="SingleFieldDialog-CheckBox-1",r=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);r.type=Ug.VALUE_CHECKBOX,r.id=a,r.checked=Gn(this,My).property.deletable,r.onchange=function(){Gn(t,My).property.deletable=r.checked};var o=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);o.htmlFor=a,o.textContent="可删除",i.appendChild(r),i.appendChild(o);var s="SingleFieldDialog-CheckBox-2",l=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);l.type=Ug.VALUE_CHECKBOX,l.id=s,l.checked=Gn(this,My).property.required,l.onchange=function(){Gn(t,My).property.required=l.checked};var c=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);c.htmlFor=s,c.textContent="必填",i.appendChild(l),i.appendChild(c);var h=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(h);var u=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);u.textContent="数据编码",h.appendChild(u);var f=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);f.value=Gn(this,My).property.code,f.onchange=function(){Gn(t,My).property.code=f.value},h.appendChild(f);var d=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);d.textContent="描述说明",h.appendChild(d);var p=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);p.value=Gn(this,My).property.describe,p.onchange=function(){Gn(t,My).property.describe=p.value},h.appendChild(p);var v=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(v);var _=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);_.textContent="空值文本",v.appendChild(_);var E=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);E.value=Gn(this,My).property.placeholder,E.onchange=function(){Gn(t,My).property.placeholder=E.value},v.appendChild(E);var g=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(g);var C=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);C.textContent="数据源",g.appendChild(C);var y=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);y.value=Gn(this,My).property.datasource,y.onchange=function(){Gn(t,My).property.datasource=y.value},g.appendChild(y);var S=new oy({columns:[{title:"编码",width:100,field:"code"},{title:"说明",width:180,field:"text"}],width:310,height:144});S.loadData(Gn(this,My).property.options);var L=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]),w=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);w.textContent="下拉选项";var m=Xg.createDiv([Ug.CLASS_FORM_BUTTON_PANEL]);m.appendChild(w);var T=Xg.createDiv([Ug.CLASS_BUTTON_NORMAL,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,"layui-icon-add"]);T.title="增加下拉选项",T.onclick=function(){S.addRowData({})},m.appendChild(T);var b=Xg.createDiv([Ug.CLASS_BUTTON_NORMAL,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,"layui-icon-remove"]);return b.title="删除下拉选项",b.onclick=function(){var t=S.getSelectedRow();t&&S.deleteRow(t)},m.appendChild(b),L.appendChild(m),L.appendChild(S.getDom()),e.appendChild(L),e}}]),n}(pC),Ny=new WeakMap,By=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"多选文本域控件设置",width:400,height:400,btns:[{text:"确定",action:function(){EditorDocs.changeCompInfo(Gn(Xn(e),Ny)),e.close()}},{text:"取消",action:function(){e.close()}}],closeAction:function(){EditorDocs.refresh()}}),vy(Xn(e),Ny,{writable:!0,value:void 0}),e}return r(n,[{key:"setComponent",value:function(t){Kn(this,Ny,t)}},{key:"createBody",value:function(){var t=this,e=Xg.createDiv([Ug.CLASS_FLEX_COL,Ug.CLASS_FORM_LAYOUT]),i=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(i);var n=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);n.textContent="基础属性",i.appendChild(n);var a="MultipleFieldDialog-CheckBox-1",r=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);r.type=Ug.VALUE_CHECKBOX,r.id=a,r.checked=Gn(this,Ny).property.deletable,r.onchange=function(){Gn(t,Ny).property.deletable=r.checked};var o=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);o.htmlFor=a,o.textContent="可删除",i.appendChild(r),i.appendChild(o);var s="MultipleFieldDialog-CheckBox-2",l=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);l.type=Ug.VALUE_CHECKBOX,l.id=s,l.checked=Gn(this,Ny).property.required,l.onchange=function(){Gn(t,Ny).property.required=l.checked};var c=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);c.htmlFor=s,c.textContent="必填",i.appendChild(l),i.appendChild(c);var h=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(h);var u=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);u.textContent="数据编码",h.appendChild(u);var f=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);f.value=Gn(this,Ny).property.code,f.onchange=function(){Gn(t,Ny).property.code=f.value},h.appendChild(f);var d=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);d.textContent="描述说明",h.appendChild(d);var p=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);p.value=Gn(this,Ny).property.describe,p.onchange=function(){Gn(t,Ny).property.describe=p.value},h.appendChild(p);var v=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(v);var _=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);_.textContent="空值文本",v.appendChild(_);var E=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);E.value=Gn(this,Ny).property.placeholder,E.onchange=function(){Gn(t,Ny).property.placeholder=E.value},v.appendChild(E);var g=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);g.textContent="分隔符",v.appendChild(g);var C=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);C.value=Gn(this,Ny).property.separator,C.onchange=function(){Gn(t,Ny).property.separator=C.value},v.appendChild(C);var y=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(y);var S=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);S.textContent="数据源",y.appendChild(S);var L=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);L.value=Gn(this,Ny).property.datasource,L.onchange=function(){Gn(t,Ny).property.datasource=L.value},y.appendChild(L);var w=new oy({columns:[{title:"编码",width:100,field:"code"},{title:"说明",width:180,field:"text"}],width:310,height:144});w.loadData(Gn(this,Ny).property.options);var m=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]),T=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);T.textContent="下拉选项";var b=Xg.createDiv([Ug.CLASS_FORM_BUTTON_PANEL]);b.appendChild(T);var O=Xg.createDiv([Ug.CLASS_BUTTON_NORMAL,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,"layui-icon-add"]);O.title="增加下拉选项",O.onclick=function(){w.addRowData({})},b.appendChild(O);var A=Xg.createDiv([Ug.CLASS_BUTTON_NORMAL,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,"layui-icon-remove"]);return A.title="删除下拉选项",A.onclick=function(){var t=w.getSelectedRow();t&&w.deleteRow(t)},b.appendChild(A),m.appendChild(b),m.appendChild(w.getDom()),e.appendChild(m),e}}]),n}(pC),Fy=new WeakMap,Wy=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"多行文本域控件设置",width:400,height:360,btns:[{text:"确定",action:function(){EditorDocs.changeCompInfo(Gn(Xn(e),Fy)),e.close()}},{text:"取消",action:function(){e.close()}}],closeAction:function(){EditorDocs.refresh()}}),vy(Xn(e),Fy,{writable:!0,value:void 0}),e}return r(n,[{key:"setComponent",value:function(t){Kn(this,Fy,t)}},{key:"createBody",value:function(){var t=this,e=Xg.createDiv([Ug.CLASS_FLEX_COL,Ug.CLASS_FORM_LAYOUT]),i=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(i);var n=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);n.textContent="基础属性",i.appendChild(n);var a="MutlTextFieldDialog-CheckBox-1",r=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);r.type=Ug.VALUE_CHECKBOX,r.id=a,r.checked=Gn(this,Fy).property.deletable,r.onchange=function(){Gn(t,Fy).property.deletable=r.checked};var o=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);o.htmlFor=a,o.textContent="可删除",i.appendChild(r),i.appendChild(o);var s="MutlTextFieldDialog-CheckBox-2",l=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);l.type=Ug.VALUE_CHECKBOX,l.id=s,l.checked=Gn(this,Fy).property.required,l.onchange=function(){Gn(t,Fy).property.required=l.checked};var c=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);c.htmlFor=s,c.textContent="必填",i.appendChild(l),i.appendChild(c);var h="MutlTextFieldDialog-CheckBox-3",u=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);u.type=Ug.VALUE_CHECKBOX,u.id=h,u.checked=Gn(this,Fy).property.underline,u.onchange=function(){Gn(t,Fy).property.underline=u.checked};var f=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);f.htmlFor=h,f.textContent="下划线",i.appendChild(u),i.appendChild(f);var d=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(d);var p=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);p.textContent="数据编码",d.appendChild(p);var v=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);v.value=Gn(this,Fy).property.code,v.onchange=function(){Gn(t,Fy).property.code=v.value},d.appendChild(v);var _=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);_.textContent="描述说明",d.appendChild(_);var E=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);E.value=Gn(this,Fy).property.describe,E.onchange=function(){Gn(t,Fy).property.describe=E.value},d.appendChild(E);var g=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(g);var C=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);C.textContent="空值文本",g.appendChild(C);var y=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);return y.value=Gn(this,Fy).property.placeholder,y.onchange=function(){Gn(t,Fy).property.placeholder=y.value},g.appendChild(y),e}}]),n}(pC),Uy=new WeakMap,Xy=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"边框设置",width:330,height:200,btns:[{text:"确定",action:function(){EditorDocs.tableBorderChange(Gn(Xn(e),Uy)),e.close()}},{text:"取消",action:function(){e.close()}}],closeAction:function(){EditorDocs.refresh()}}),vy(Xn(e),Uy,{writable:!0,value:void 0}),e}return r(n,[{key:"setInfo",value:function(t){Kn(this,Uy,t)}},{key:"createBody",value:function(){var t=this,e=Xg.create(Ug.ELE_DIV,[Ug.CLASS_FORM_LAYOUT]),i=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]),n=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);n.textContent="应用于",i.appendChild(n);var a=Xg.createSelect([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);EditorDocs.getTableBorderRangeList().forEach((function(t){a.appendChild(Xg.createOption(t.label,t.value))})),a.value=Gn(this,Uy).range,a.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Uy).range=a.value})),i.appendChild(a),e.appendChild(i);var r=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]),o=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);o.textContent="边框",r.appendChild(o);for(var s="上右下左".split(""),l=function(e){var i=EditorDocs.stringTool("uuid"),n=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);n.type=Ug.VALUE_CHECKBOX,n.id=i,n.checked=Gn(t,Uy).border[e].visible,n.onchange=function(){Gn(t,Uy).border[e].visible=n.checked};var a=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);a.htmlFor=i,a.textContent=s[e],r.appendChild(n),r.appendChild(a)},c=0;c<4;c++)l(c);return e.appendChild(r),e}}]),n}(pC),Hy=new WeakMap,Yy=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"删除单元格",width:236,height:173,btns:[{text:"确定",action:function(){EditorDocs.tableDeleteCell(Gn(Xn(e),Hy)),e.close()}},{text:"取消",action:function(){e.close()}}]}),vy(Xn(e),Hy,{writable:!0,value:void 0}),Kn(Xn(e),Hy,"row"),e}return r(n,[{key:"createBody",value:function(){var t=this,e=Xg.create(Ug.ELE_DIV,[Ug.CLASS_FORM_LAYOUT]),i="TableDelete",n=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]),a="TableDeleteDialog-Radio-1",r=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);r.type=Ug.VALUE_RADIO,r.name=i,r.id=a,r.checked="row"==Gn(this,Hy),r.addEventListener(Ug.VALUE_CHANGE,(function(){r.checked&&Kn(t,Hy,"row")}));var o=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);o.htmlFor=a,o.textContent="删除整行",n.appendChild(r),n.appendChild(o),e.appendChild(n);var s=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]),l="TableDeleteDialog-Radio-2",c=Xg.createInput([Ug.CLASS_FORM_CHECKBOX]);c.type=Ug.VALUE_RADIO,c.id=l,c.name=i,c.checked="col"==Gn(this,Hy),c.addEventListener(Ug.VALUE_CHANGE,(function(){c.checked&&Kn(t,Hy,"col")}));var h=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_INPUT_LABEL,Ug.CLASS_UNSELECTED]);return h.htmlFor=l,h.textContent="删除整列",s.appendChild(c),s.appendChild(h),e.appendChild(s),e}}]),n}(pC),jy=new WeakMap,Vy=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"查找内容",width:300,height:160,btns:[{text:"查找下一处",action:function(){EditorDocs.stringTool("isNotBlank",Gn(Xn(e),jy).text)&&(Gn(Xn(e),jy).pos=EditorDocs.findText(Gn(Xn(e),jy)),Gn(Xn(e),jy).pos<0&&SC.showMessagebox("已经完成文档搜索！",(function(){Gn(Xn(e),jy).pos=0})))}},{text:"取消",action:function(){e.close()}}]}),vy(Xn(e),jy,{writable:!0,value:void 0}),Kn(Xn(e),jy,{pos:0}),e}return r(n,[{key:"createBody",value:function(){var t=this,e=Xg.create(Ug.ELE_DIV,[Ug.CLASS_FORM_LAYOUT]),i=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);e.appendChild(i);var n=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);return n.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,jy).text=n.value})),i.appendChild(n),e}}]),n}(pC),zy=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"文档结构化数据",width:500,height:400,btns:[{text:"确定",action:function(){}},{text:"取消",action:function(){e.close()}}]})}return r(n,[{key:"createBody",value:function(){var t=EditorDocs.getOutline(),e=Xg.create(Ug.ELE_DIV,[Ug.CLASS_FORM_LAYOUT]),i=Xg.create(Ug.ELE_TEXTAREA,[Ug.CLASS_FORM_TEXTAREA]);return i.style.height=Xg.toPx(300),i.value=JSON.stringify(t,null,"\t"),i.readOnly=!0,e.appendChild(i),e}}]),n}(pC),Gy=new WeakMap,Ky=new WeakSet,Zy=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"页面水印设置",width:380,height:290,btns:[{text:"确定",action:function(){py(Xn(e),Ky,Jy).call(Xn(e))}},{text:"取消",action:function(){e.close()}}]}),dy(Xn(e),Ky),vy(Xn(e),Gy,{writable:!0,value:void 0}),e}return r(n,[{key:"setInfo",value:function(t){Kn(this,Gy,t)}},{key:"createBody",value:function(){var t=this,e=Xg.create(Ug.ELE_CANVAS,["editor-watermark-canvas"]),i=Xg.create(Ug.ELE_DIV,[Ug.CLASS_FLEX_ROW]),n=Xg.create(Ug.ELE_DIV,[Ug.CLASS_FORM_LAYOUT]),a=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);n.appendChild(a);var r=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);r.textContent="板式",a.appendChild(r);var o=Xg.createSelect([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);o.appendChild(Xg.createOption("倾斜","1")),o.appendChild(Xg.createOption("水平","0")),o.appendChild(Xg.createOption("隐藏","9")),o.value=Gn(this,Gy).style,o.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Gy).style=o.value,y()})),a.appendChild(o);var s=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);n.appendChild(s);var l=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);l.textContent="内容",s.appendChild(l);var c=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);c.value=Gn(this,Gy).text,c.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Gy).text=c.value,y()})),s.appendChild(c);var h=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);n.appendChild(h);var u=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);u.textContent="字体",h.appendChild(u);var f=Xg.createSelect([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);EditorDocs.getFontFamilyList().forEach((function(t){f.appendChild(Xg.createOption(t.name,t.value))})),f.value=Gn(this,Gy).fontfamily,f.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Gy).fontfamily=f.value,y()})),h.appendChild(f);var d=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);n.appendChild(d);var p=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);p.textContent="字号",d.appendChild(p);var v=Xg.createSelect([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_SELECT]);EditorDocs.getWaterMarkFontSizeList().forEach((function(t){v.appendChild(Xg.createOption(t.name,t.value))})),v.value=Gn(this,Gy).fontsize,v.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Gy).fontsize=v.value,y()})),d.appendChild(v);var _=Xg.createDiv([Ug.CLASS_FLEX_ROW,Ug.CLASS_FORM_LAYOUT_ITEM]);n.appendChild(_);var E=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_FORM_LABEL,Ug.CLASS_FLEX_CENTER]);E.textContent="透明度",_.appendChild(E);var g=Xg.createInput([Ug.CLASS_ROW_SPREAD,Ug.CLASS_FORM_INPUT]);g.type="range",g.min=0,g.max=100,g.value=Gn(this,Gy).transparency,g.addEventListener(Ug.VALUE_CHANGE,(function(){Gn(t,Gy).transparency=g.value,y()})),_.appendChild(g),i.appendChild(n);var C=Xg.create(Ug.ELE_DIV,[Ug.CLASS_FORM_LAYOUT]);C.appendChild(e),i.appendChild(C);var y=function(){EditorDocs.canvasTool(e,"drawWaterMark",Gn(t,Gy))};return y(),i}}]),n}(pC);function Jy(){EditorDocs.stringTool("isNotBlank",Gn(this,Gy).text)||"9"==Gn(this,Gy).stye?(EditorDocs.changeWateMark(Gn(this,Gy)),this.close()):SC.showMessagebox("文本内容不能为空！")}var qy=new WeakMap,$y=new WeakSet,Qy=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"Katex公式编辑器",width:480,height:320,btns:[{text:"确定",action:function(){py(Xn(e),$y,tS).call(Xn(e))}},{text:"取消",action:function(){e.close()}}]}),dy(Xn(e),$y),vy(Xn(e),qy,{writable:!0,value:void 0}),e}return r(n,[{key:"createBody",value:function(){return Kn(this,qy,Xg.create(Ug.ELE_IFRAME,[Ug.CLASS_MSG_IFRAME])),Gn(this,qy).src="extend/katex.html",Gn(this,qy)}}]),n}(pC);function tS(){var t=this;Gn(this,qy).contentWindow.createKatexBase64((function(e){console.info(e),EditorDocs.insertImage(e),t.close()}))}var eS=new WeakMap,iS=new WeakMap,nS=new WeakMap,aS=new WeakSet,rS=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"月经史编辑器",width:480,height:260,btns:[{text:"确定",action:function(){py(Xn(e),aS,oS).call(Xn(e))}},{text:"取消",action:function(){e.close()}}]}),dy(Xn(e),aS),vy(Xn(e),eS,{writable:!0,value:void 0}),vy(Xn(e),iS,{writable:!0,value:void 0}),vy(Xn(e),nS,{writable:!0,value:void 0}),e}return r(n,[{key:"setOperationType",value:function(t,e){Kn(this,eS,t),Kn(this,iS,e)}},{key:"createBody",value:function(){var t=this;return Kn(this,nS,Xg.create(Ug.ELE_IFRAME,[Ug.CLASS_MSG_IFRAME])),Gn(this,nS).src="extend/menstrual.html",Gn(this,nS).onload=function(){Gn(t,nS).contentWindow.render(EditorDocs.getExpExtent(0),Gn(t,iS))},Gn(this,nS)}}]),n}(pC);function oS(){var t=Gn(this,nS).contentWindow.getComponentInfo();"insert"==Gn(this,eS)?EditorDocs.insertExpression(t):EditorDocs.changeExpressionValue(t),this.close()}var sS=new WeakMap,lS=new WeakMap,cS=new WeakMap,hS=new WeakSet,uS=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"牙位图编辑器",width:730,height:570,btns:[{text:"确定",action:function(){py(Xn(e),hS,fS).call(Xn(e))}},{text:"取消",action:function(){e.close()}}]}),dy(Xn(e),hS),vy(Xn(e),sS,{writable:!0,value:void 0}),vy(Xn(e),lS,{writable:!0,value:void 0}),vy(Xn(e),cS,{writable:!0,value:void 0}),e}return r(n,[{key:"setOperationType",value:function(t,e){Kn(this,sS,t),Kn(this,lS,e)}},{key:"createBody",value:function(){var t=this;return Kn(this,cS,Xg.create(Ug.ELE_IFRAME,[Ug.CLASS_MSG_IFRAME])),Gn(this,cS).src="extend/tooth.html",Gn(this,cS).onload=function(){Gn(t,cS).contentWindow.render(EditorDocs.getExpExtent(1),Gn(t,lS))},Gn(this,cS)}}]),n}(pC);function fS(){var t=Gn(this,cS).contentWindow.getComponentInfo();"insert"==Gn(this,sS)?EditorDocs.insertExpression(t):EditorDocs.changeExpressionValue(t),this.close()}var dS=new WeakMap,pS=new WeakMap,vS=new WeakMap,_S=new WeakSet,ES=function(e){Yn(n,e);var i=Ey(n);function n(){var e;return t(this,n),e=i.call(this,{title:"胎心位置编辑器",width:318,height:220,btns:[{text:"确定",action:function(){py(Xn(e),_S,gS).call(Xn(e))}},{text:"取消",action:function(){e.close()}}]}),dy(Xn(e),_S),vy(Xn(e),dS,{writable:!0,value:void 0}),vy(Xn(e),pS,{writable:!0,value:void 0}),vy(Xn(e),vS,{writable:!0,value:void 0}),e}return r(n,[{key:"setOperationType",value:function(t,e){Kn(this,dS,t),Kn(this,pS,e)}},{key:"createBody",value:function(){var t=this;return Kn(this,vS,Xg.create(Ug.ELE_IFRAME,[Ug.CLASS_MSG_IFRAME])),Gn(this,vS).src="extend/heart.html",Gn(this,vS).onload=function(){Gn(t,vS).contentWindow.render(EditorDocs.getExpExtent(2),Gn(t,pS))},Gn(this,vS)}}]),n}(pC);function gS(){var t=Gn(this,vS).contentWindow.getComponentInfo();"insert"==Gn(this,dS)?EditorDocs.insertExpression(t):EditorDocs.changeExpressionValue(t),this.close()}function CS(t,e){SS(t,e),e.add(t)}function yS(t,e,i){SS(t,e),e.set(t,i)}function SS(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function LS(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var wS=new WeakMap,mS=new WeakMap,TS=new WeakMap,bS=new WeakMap,OS=new WeakMap,AS=new WeakSet,RS=new WeakSet,kS=new WeakSet,IS=new WeakSet,DS=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return CS(Xn(e=a.call.apply(a,[this].concat(n))),IS),CS(Xn(e),kS),CS(Xn(e),RS),CS(Xn(e),AS),yS(Xn(e),wS,{writable:!0,value:void 0}),yS(Xn(e),mS,{writable:!0,value:void 0}),yS(Xn(e),TS,{writable:!0,value:void 0}),yS(Xn(e),bS,{writable:!0,value:void 0}),yS(Xn(e),OS,{writable:!0,value:void 0}),e}return r(o,[{key:"init",value:function(t){Kn(this,wS,t),LS(this,AS,xS).call(this)}},{key:"setPageInfo",value:function(t,e,i){Gn(this,mS).setText("页面:".concat(t,"/").concat(e)),Gn(this,TS).setText("字数:".concat(i))}}]),o}(PC);function xS(){var t=this;Gn(this,wS).addClass([Ug.CLASS_COL_FIXED,Ug.CLASS_FLEX_ROW,"edit-status"]),Gn(this,wS).appendChild(bC.createButton({title:"结构",icon:"layui-icon-outline2",onclick:function(){LS(t,IS,NS).call(t)}})),Gn(this,wS).appendChild(bC.createSeparator()),Kn(this,mS,LS(this,RS,MS).call(this,!1)),Gn(this,mS).setText("页面:1/1"),Gn(this,wS).appendChild(Gn(this,mS)),Gn(this,wS).appendChild(bC.createSeparator()),Kn(this,TS,LS(this,RS,MS).call(this,!1)),Gn(this,TS).setText("字数:0"),Gn(this,wS).appendChild(Gn(this,TS)),Gn(this,wS).appendChild(bC.createSeparator());var e=LS(this,RS,MS).call(this,!0);e.setText("Word模式"),Gn(this,wS).appendChild(e),Gn(this,wS).appendChild(bC.createSeparator());var i=EditorDocs.getZoomScaleList();Gn(this,wS).appendChild(bC.createButton({title:"缩小",icon:"layui-icon-remove",onclick:function(){var e=i,n=EditorDocs.getZoomRatio(),a=e.findIndex((function(t){return t>=n}));a>0&&(Gn(t,bS).setText("".concat(parseInt(100*e[a-1]),"%")),EditorDocs.setZoom(e[a-1]))}})),Kn(this,bS,LS(this,RS,MS).call(this,!1)),Gn(this,bS).style.width=Xg.toPx(40),Gn(this,bS).setText("100%"),Gn(this,wS).appendChild(Gn(this,bS)),Gn(this,wS).appendChild(bC.createButton({title:"放大",icon:"layui-icon-add",onclick:function(){var e=i,n=EditorDocs.getZoomRatio(),a=e.findIndex((function(t){return t>n}));a>=0&&(Gn(t,bS).setText("".concat(parseInt(100*e[a]),"%")),EditorDocs.setZoom(e[a]))}})),Gn(this,wS).appendChild(bC.createSeparator());var n=!1,a="layui-icon-full",r=bC.createButton({title:"全屏",icon:a,onclick:function(){EditorDocs.devicesTool("fullscreen"),(n=!n)?(r.setTitle("退出全屏"),r.setIcon("layui-icon-full-exit")):(r.setTitle("全屏"),r.setIcon(a)),EditorDocs.refresh()}});Gn(this,wS).appendChild(r),Gn(this,wS).appendChild(bC.createButton({title:"关于系统",icon:"layui-icon-logo",onclick:function(){LS(t,kS,PS).call(t)}}))}function MS(t){var e=Xg.createDiv([t?Ug.CLASS_ROW_SPREAD:Ug.CLASS_ROW_FIXED,Ug.CLASS_FLEX_CENTER]);return e.style.padding="0px 10px",e.setText=function(t){e.textContent=t},e}function PS(){var t=new gy;t.show(),t.center()}function NS(){var t=new zy;t.show(),t.center()}var BS=function(){function e(){t(this,e)}return r(e,null,[{key:"getDefaultFontFamily",value:function(){return this.FontFamilys[0]}},{key:"getDefaultFontSize",value:function(){return this.FontSizes[9]}},{key:"getDefaultFontColor",value:function(){return"#000000"}}]),e}();function FS(t,e){US(t,e),e.add(t)}function WS(t,e,i){US(t,e),e.set(t,i)}function US(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function XS(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}o(BS,"CONF_MODAL_DEF","9"),o(BS,"CONF_MODAL_DES","8"),o(BS,"CONF_MODAL_EDT","7"),o(BS,"CONF_MODAL_REV","6"),o(BS,"CONF_MODAL_RED","2"),o(BS,"CONF_MODAL_PEV","1"),o(BS,"CONF_MODAL_CUS","0"),o(BS,"SYS_ZOOM",1),o(BS,"SYS_ZOOM_CORRECT",1.1),o(BS,"SYS_STANDARD_RATIO",.1),o(BS,"SYS_SCROLL_RED",30),o(BS,"SYS_STACK_LEN",10),o(BS,"PRINT_TYPE_DEF","0"),o(BS,"PRINT_TYPE_CON","1"),o(BS,"SVGNS","http://www.w3.org/2000/svg"),o(BS,"COLOR_LINEEEL","#696969"),o(BS,"COLOR_FIELD","#ff0000"),o(BS,"COLOR_PAGEBORDER","#c5c8cc"),o(BS,"COLOR_HEADER_LINE","#000000"),o(BS,"COLOR_PAGE_SEG","#4E4E4F"),o(BS,"COLOR_BINDLINE","#696969"),o(BS,"COLOR_CURSOR","#000000"),o(BS,"COLOR_SELECT_BG","#A8CDF1"),o(BS,"COLOR_COMP_BG","#e9e9e9"),o(BS,"COLOR_COMP_BR","#000000"),o(BS,"COLOR_DATA_BG","#b69c66e1"),o(BS,"COLOR_BLOCK_DRAG","#000000"),o(BS,"COLOR_BLOCK_BORDER","#838B83"),o(BS,"COLOR_DIVDER","#000000"),o(BS,"COLOR_DEFAULT_LINE","#000000"),o(BS,"COLOR_COMMENTS_LINE","#FF0000"),o(BS,"COLOR_REVISION_WORD","#FF0000"),o(BS,"COLOR_REVISION_BG","#ffb5b5a6"),o(BS,"COLOR_TEXTBOX_PHR","#7A8794"),o(BS,"WIDTH_LINEEEL",10),o(BS,"WIDTH_FIELD",10),o(BS,"WIDTH_PAGEBORDER",10),o(BS,"WIDTH_HEADER_LINE",10),o(BS,"WIDTH_PAGE_SEG",20),o(BS,"WIDTH_BINDLINE",10),o(BS,"WIDTH_CURSOR",10),o(BS,"WIDTH_UNDERLINE",10),o(BS,"WIDTH_STRIKETHROUGH",10),o(BS,"WIDTH_DIVDER_1",10),o(BS,"WIDTH_LINE_DEFUALT",10),o(BS,"WIDTH_COMP_BORDER",10),o(BS,"WIDTH_EXP_LINE",10),o(BS,"LEN_BINDLINE",400),o(BS,"LEN_ANCHOR",90),o(BS,"LEN_BLOCK_DRAG",60),o(BS,"LEN_GAP_DRAG",30),o(BS,"LINE_DASHED_1",[20,20]),o(BS,"LINE_DASHED_2",[60,20]),o(BS,"LINE_DASHED_3",[60,20,20,20]),o(BS,"LINE_SOLID",[]),o(BS,"PAPER_ROTATION_PORTRAIT","portrait"),o(BS,"PAPER_ROTATION_LANDSCAPE","landscape"),o(BS,"CONTENT_PART_HEADER","1"),o(BS,"CONTENT_PART_BODY","2"),o(BS,"CONTENT_PART_FOOTER","3"),o(BS,"KEY_ARROWLEFT","ArrowLeft"),o(BS,"KEY_ARROWRIGHT","ArrowRight"),o(BS,"KEY_ARROWUP","ArrowUp"),o(BS,"KEY_ARROWDOWN","ArrowDown"),o(BS,"KEY_DELETE","Delete"),o(BS,"KEY_BACKSPACE","Backspace"),o(BS,"KEY_TAB","Tab"),o(BS,"KEY_ENTER","Enter"),o(BS,"KEY_A","a"),o(BS,"KEY_B","b"),o(BS,"KEY_C","c"),o(BS,"KEY_E","e"),o(BS,"KEY_F","f"),o(BS,"KEY_J","j"),o(BS,"KEY_L","l"),o(BS,"KEY_R","r"),o(BS,"KEY_I","i"),o(BS,"KEY_P","p"),o(BS,"KEY_U","u"),o(BS,"KEY_S","s"),o(BS,"KEY_Z","z"),o(BS,"KEY_ESC","Escape"),o(BS,"ALIGN_LEFT","left"),o(BS,"ALIGN_CENTER","center"),o(BS,"ALIGN_RIGHT","right"),o(BS,"ALIGN_BOTH","both"),o(BS,"ALIGN_DISPERSED","dispersed"),o(BS,"INDENT_TYPE_NULL","0"),o(BS,"INDENT_TYPE_TEXT","1"),o(BS,"INDENT_TYPE_HANG","2"),o(BS,"INDENT_VALUE_MAX",30),o(BS,"INDENT_VALUE_MIN",0),o(BS,"SCRIPT_NOR","nor"),o(BS,"SCRIPT_SUB","sub"),o(BS,"SCRIPT_SUP","sup"),o(BS,"STYLE_LINE_HEIGHT",220),o(BS,"STYLE_ANCHOR_WIDTH",10),o(BS,"TABLE_FIELD_PADDING_H",40),o(BS,"TABLE_FIELD_PADDING_V",20),o(BS,"TABLE_FIELD_BORDER_COLOR","#000000"),o(BS,"TABLE_FIELD_BORDER_WIDTH",10),o(BS,"TABLE_FIELD_BORDER_SPAC",30),o(BS,"TABLE_FIELD_MIN_WIDTH",60),o(BS,"TABLE_FIELD_MIN_HEIGHT",220),o(BS,"TABLE_BORER_DRAG_RED",20),o(BS,"TABLE_BORDER_TOP","top"),o(BS,"TABLE_BORDER_BOT","bot"),o(BS,"TABLE_BORDER_LEFT","left"),o(BS,"TABLE_BORDER_RIGHT","right"),o(BS,"TABLE_BORDER_INSIDE","inside"),o(BS,"TABLE_INSERT_ABOVE","above"),o(BS,"TABLE_INSERT_BELOW","below"),o(BS,"TABLE_INSERT_LEFT","left"),o(BS,"TABLE_INSERT_RIGHT","right"),o(BS,"CLICK_TYPE_ELEMENT","element"),o(BS,"CLICK_TYPE_TABLE_BORDER","table-border"),o(BS,"CLICK_TYPE_IMAGE_BLOCK","image"),o(BS,"CLICK_TYPE_COMP_BUTTON","comp"),o(BS,"CLICK_TYPE_COMP_POP","comppop"),o(BS,"CLICK_TYPE_OBJECT","object"),o(BS,"CLICK_TYPE_EXPRE","expre"),o(BS,"SELECT_POINT_BEG","b"),o(BS,"SELECT_POINT_END","e"),o(BS,"SELECT_EXT_TYPE_U","u"),o(BS,"SELECT_EXT_TYPE_D","d"),o(BS,"SELECT_EXT_TYPE_L","l"),o(BS,"SELECT_EXT_TYPE_R","r"),o(BS,"DRAG_VIEW_LINE_H","lh"),o(BS,"DRAG_VIEW_LINE_V","lv"),o(BS,"DRAG_VIEW_IMAGE","img"),o(BS,"DRAG_VIEW_OBJECT","obj"),o(BS,"DRAG_VIEW_NONE","0"),o(BS,"MIN_BLOCK_WIDTH",400),o(BS,"MIN_BLOCK_HEIGHT",400),o(BS,"RELATIVE_UP","up"),o(BS,"RELATIVE_DOWN","down"),o(BS,"COMMENTS_HIDE","0"),o(BS,"COMMENTS_SHOW_UN","2"),o(BS,"COMMENTS_SHOW_DO","3"),o(BS,"COMMENTS_STATE_UN","0"),o(BS,"COMMENTS_STATE_DO","1"),o(BS,"COMMENTS_STATE_DE","9"),o(BS,"SYMBOL_SPECIAL","9651,9661,9675,9671,9633,9734,9655,9665,9828,9825,9826,9831,9650,9660,9679,9670,9632,9733,9654,9664,9824,9829,9830,9827,9788,9789,9792,9786,9680,9745,8730,10004,9756,9757,9758,13250,9728,9790,9794,9785,9681,9746,10008,9754,9759,9755,13272,9642,8226,8229,8230,9601,9602,9603,9604,9605,9606,9607,9608,8759,8251,9617,9618,9619,9615,9614,9613,9612,9611,9610,9609;9833,9834,9835,9836,167,12348,9678,164,1758,8471,174,169,9837,9839,9838,8214,182,21325,21328,9644,12307,8481,8482,13255,9740,9741,9739,9738,12927,9710,9706,9684,9685,64,12849,8470,9800,9801,9802,9803,9804,9806,9807,9808,9809,9811,9810,9805;8598,8593,8599,9640,9636,9639,9700,12964,9701,9780,9778,9783,8592,12963,8594,9641,9638,9637,12967,12965,12968,9779,9775,9777,8601,8595,8600,9643,9672,9635,9699,12966,9698,9782,9781,9776,8597,8596,8881,8923,8908,8922,8880,172,65506,9620,8224,8225;42,65290,10034,10056,10057,10047,10048,10051,10049,9784,10006,10010,10026,10084,4326,10086,10087,3007,8362,9998,9997,9996,9985,9988,9729,9730,9731,9732,9832,9735,9736,9761,10167,8889,9993,9743,9762,9763,9760,9774,12292,10169,9769,2960,9742,9992,12320,1769,10009,10015,9764,9765,9766,9767,9768,9771,9772,9823,9817,9820,9814,9822,9816,9821,9815,9819,9813,9818,9812"),o(BS,"SYMBOL_PUNCTUATION","65292,12290,65311,65281,65306,65307,183,8230,126,38,64,35,44,46,63,33,58,59,12289,8230-8230,65374,65286,65312,65283,8220,8221,8216,8217,12317,12318,32,34,39,65282,65287,180,65287,40,41,12304,12305,12298,12299,65308,65310,65117,65118,60,62,40,41,91,93,171,187,8249,8250,12308,12309,12296,12297,123,125,65339,65341,12300,12301,65371,65373,12310,12311,12302,12303,65077,65079,65081,65087,65085,65089,65091,65083,65047,47,124,65078,65080,65082,65088,65086,65090,65092,65084,65048,65295,65372,65340,95,65343,65103,65101,65102,96,166,161,94,173,168,714,175,65507,65099,65097,65098,715,65076,191,711"),o(BS,"SYMBOL_PINYIN","257,225,462,224,333,243,466,242,275,233,283,232,299,237,236,464,363,250,468,249,470,472,474,476"),o(BS,"SYMBOL_MATH_NUM","9312,9313,9314,9315,9316,9317,9318,9319,9320,9321,9322,9323,9324,9325,9326,9327,9328,9329,9330,9331;9332,9333,9334,9335,9336,9337,9338,9339,9340,9341,9342,9343,9344,9345,9346,9347,9348,9349,9350,9351;9352,9353,9354,9355,9356,9357,9358,9359,9360,9361,9362,9363,9364,9365,9366,9367,9368,9369,9370,9371;8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,8554,8555,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569;10102,10103,10104,10105,10106,10107,10108,10109,10110,10111;12832,12833,12834,12835,12836,12837,12838,12839,12840,12841"),o(BS,"SYMBOL_MATH_UNIT","65122,65123,65124,65125,8806,8807,8814,8815,65291,65293,65309,65308,65310,8786,8800,65122,65123,8758,8757,8756,8759,13266,13265,8721,8719,8709;8733,8765,8712,8745,8743,8857,8978,8741,8735,8739,8706,8710,8734,8780,8713,8746,8744,8853,8895,8869,8736,8747,8748,8749,37,8240,65285,186,185,178,179,8319,8453,8750,8751,8752,8321,8322,8323,189,8531,8532,188,190,176,8451,8457,12306;13198,13199,956-109,13212,13213,13214,8242,165,36,8364,3647,65505,13217,109-179,13252,109-108,109-111-108,13269,8243,65509,163,65504,8352"),o(BS,"SYMBOL_GR_LT","913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937;945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969;193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,216,217,218,219,220,221,222,352,376,338913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937;945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969;193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,216,217,218,219,220,221,222,352,376,338"),o(BS,"VALUE_BOOL_TRUE",1),o(BS,"VALUE_BOOL_FALSE",0),o(BS,"REVISION_DEF","0"),o(BS,"REVISION_INS","1"),o(BS,"REVISION_DEL","2"),o(BS,"EditorModels",[{name:"Word模式",value:BS.CONF_MODAL_DEF},{name:"设计模式",value:BS.CONF_MODAL_DES},{name:"编辑模式",value:BS.CONF_MODAL_EDT},{name:"审阅模式",value:BS.CONF_MODAL_REV},{name:"只读模式",value:BS.CONF_MODAL_RED},{name:"查看模式",value:BS.CONF_MODAL_PEV},{name:"自定义模式",value:BS.CONF_MODAL_CUS}]),o(BS,"PaperTypes",[{width:2100,height:2970,value:"A4",name:"A4"},{width:1480,height:2100,value:"A5",name:"A5"},{width:1760,height:2500,value:"B5",name:"B5"},{width:1250,height:1760,value:"B6",name:"B6"},{width:2160,height:2790,value:"Letter",name:"信纸"},{width:2160,height:3560,value:"Legal",name:"法律用纸"},{width:2790,height:4320,value:"Tabloid",name:"报纸"}]),o(BS,"PaperMargins",[{topBottom:254,leftRight:318,headerFooter:150,name:"普通"},{topBottom:127,leftRight:127,headerFooter:47,name:"窄"},{topBottom:254,leftRight:191,headerFooter:150,name:"适中"},{topBottom:254,leftRight:508,headerFooter:150,name:"宽"}]),o(BS,"FontFamilys",[{name:"宋体",value:"SimSun"},{name:"黑体",value:"SimHei"},{name:"仿宋",value:"FangSong"},{name:"楷体",value:"KaiTi"},{name:"微软雅黑",value:"Microsoft Yahei"},{name:"Arial",value:"Arial"},{name:"Tahoma",value:"Tahoma"},{name:"Times",value:"Times"},{name:"serif",value:"serif"}]),o(BS,"FontSizes",[{name:"初号",value:"560",pt:"42"},{name:"小初",value:"480",pt:"36"},{name:"一号",value:"347",pt:"26"},{name:"小一",value:"320",pt:"24"},{name:"二号",value:"293",pt:"22"},{name:"小二",value:"240",pt:"18"},{name:"三号",value:"213",pt:"16"},{name:"小三",value:"200",pt:"15"},{name:"四号",value:"187",pt:"14"},{name:"小四",value:"160",pt:"12"},{name:"五号",value:"133",pt:"10.5"},{name:"小五",value:"120",pt:"9"}]),o(BS,"DatePatterns",["yyyy年MM月dd日","MM月dd日","yyyy年MM月dd日WWW","yyyy年MM月dd日HH时mm分","yyyy-MM-dd","MM-dd","yyyy-MM-dd HH:mm","yyyy/MM/dd","MM/dd"]),o(BS,"PaperDirections",[{value:BS.PAPER_ROTATION_PORTRAIT,name:"纵向"},{value:BS.PAPER_ROTATION_LANDSCAPE,name:"横向"}]),o(BS,"PageNumPatterns",[{value:"{n}",name:"{n}"},{value:"{n}/{c}",name:"{n}/{c}"},{value:"第{n}页",name:"第{n}页"},{value:"第{n}页/共{c}页",name:"第{n}页/共{c}页"},{value:"page {n} of {c}",name:"page {n} of {c}"}]);var HS=new WeakMap,YS=new WeakMap,jS=new WeakMap,VS=new WeakMap,zS=new WeakMap,GS=new WeakMap,KS=new WeakMap,ZS=new WeakMap,JS=new WeakMap,qS=new WeakMap,$S=new WeakMap,QS=new WeakMap,tL=new WeakMap,eL=new WeakMap,iL=new WeakMap,nL=new WeakMap,aL=new WeakMap,rL=new WeakMap,oL=new WeakMap,sL=new WeakSet,lL=new WeakSet,cL=new WeakSet,hL=new WeakSet,uL=new WeakSet,fL=new WeakSet,dL=new WeakSet,pL=new WeakSet,vL=new WeakSet,_L=new WeakSet,EL=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return FS(Xn(e=a.call.apply(a,[this].concat(n))),_L),FS(Xn(e),vL),FS(Xn(e),pL),FS(Xn(e),dL),FS(Xn(e),fL),FS(Xn(e),uL),FS(Xn(e),hL),FS(Xn(e),cL),FS(Xn(e),lL),FS(Xn(e),sL),WS(Xn(e),HS,{writable:!0,value:void 0}),WS(Xn(e),YS,{writable:!0,value:void 0}),WS(Xn(e),jS,{writable:!0,value:void 0}),WS(Xn(e),VS,{writable:!0,value:void 0}),WS(Xn(e),zS,{writable:!0,value:void 0}),WS(Xn(e),GS,{writable:!0,value:void 0}),WS(Xn(e),KS,{writable:!0,value:void 0}),WS(Xn(e),ZS,{writable:!0,value:void 0}),WS(Xn(e),JS,{writable:!0,value:void 0}),WS(Xn(e),qS,{writable:!0,value:void 0}),WS(Xn(e),$S,{writable:!0,value:void 0}),WS(Xn(e),QS,{writable:!0,value:void 0}),WS(Xn(e),tL,{writable:!0,value:void 0}),WS(Xn(e),eL,{writable:!0,value:void 0}),WS(Xn(e),iL,{writable:!0,value:void 0}),WS(Xn(e),nL,{writable:!0,value:void 0}),WS(Xn(e),aL,{writable:!0,value:void 0}),WS(Xn(e),rL,{writable:!0,value:void 0}),WS(Xn(e),oL,{writable:!0,value:void 0}),e}return r(o,[{key:"init",value:function(t){Kn(this,HS,t),XS(this,sL,gL).call(this)}},{key:"setFontFamily",value:function(t){Gn(this,VS)&&Gn(this,VS).setValue(t)}},{key:"setFontSize",value:function(t){Gn(this,zS)&&Gn(this,zS).setValue(t)}},{key:"setFontColor",value:function(t){Gn(this,GS)&&Gn(this,GS).setValue(t)}},{key:"setFontBold",value:function(t){Gn(this,KS)&&Gn(this,KS).setSelected(t)}},{key:"setFontItalic",value:function(t){Gn(this,ZS)&&Gn(this,ZS).setSelected(t)}},{key:"setFontUnderline",value:function(t){Gn(this,JS)&&Gn(this,JS).setSelected(t)}},{key:"setFontStrikethrough",value:function(t){Gn(this,qS)&&Gn(this,qS).setSelected(t)}},{key:"setFontScript",value:function(t){XS(this,lL,CL).call(this,t)}},{key:"setParagAlign",value:function(t){XS(this,cL,yL).call(this,t)}},{key:"setParagRowspac",value:function(t){Gn(this,rL)&&Gn(this,rL).setValue(t)}},{key:"setUndoDisabled",value:function(t){Gn(this,YS)&&Gn(this,YS).setDisabled(!t)}},{key:"setRedoDisabled",value:function(t){Gn(this,jS)&&Gn(this,jS).setDisabled(!t)}}]),o}(PC);function gL(){var t=this;Gn(this,HS).innerHTML="",Gn(this,HS).addClass([Ug.CLASS_COL_FIXED,Ug.CLASS_FLEX_ROW,"edit-menu"]),EditorDocs.isPrintModal()&&Gn(this,HS).appendChild(bC.createDorpDown({title:"文件",panelWidth:120,icon:"layui-icon-file",children:[{text:"导入本地文件",id:"1",icon:"layui-icon-download"},{text:"导出为图片",id:"21",icon:"layui-icon-export-image"},{text:"导出为PDF",id:"22",icon:"layui-icon-export-pdf"},{text:"下载到本地",id:"3",icon:"layui-icon-download"}],onclick:function(t){if("1"==t.id)i.click();else if("21"==t.id){var e={quality:EditorDocs.getConfigInfo().exportQuality};EditorExport.downloadImages(EditorDocs.getViewInfo(),e)}else if("22"==t.id){var n={quality:EditorDocs.getConfigInfo().exportQuality};EditorExport.downloadpdf(EditorDocs.getViewInfo(),n)}else"3"==t.id&&EditorDocs.fileDownload()}})),EditorDocs.isEditModal()&&Gn(this,HS).appendChild(bC.createButton({title:"保存",icon:"layui-icon-save",onclick:function(){EditorDocs.fileSave()}})),EditorDocs.isDesignModal()&&Gn(this,HS).appendChild(bC.createButton({title:"页面设置",icon:"layui-icon-set",onclick:function(){XS(t,hL,SL).call(t)}})),EditorDocs.isPrintModal()&&Gn(this,HS).appendChild(bC.createDorpDown({title:"打印",panelWidth:120,icon:"layui-icon-printer",children:[{text:"预览打印",id:"1",icon:""},{text:"续打设置",id:"2",icon:""}],onclick:function(t){"1"==t.id?EditorDocs.filePreview():"2"==t.id&&EditorDocs.fileContinuePrint()}})),EditorDocs.isEditModal()&&(Gn(this,HS).appendChild(Kn(this,YS,bC.createButton({title:"撤销",icon:"layui-icon-undo",onclick:function(){EditorDocs.prevStack()}}))),Gn(this,HS).appendChild(Kn(this,jS,bC.createButton({title:"恢复",icon:"layui-icon-redo",onclick:function(){EditorDocs.nextStack()}}))),Gn(this,HS).appendChild(bC.createSeparator()),Gn(this,HS).appendChild(Kn(this,VS,bC.createFontFamily({items:EditorDocs.getFontFamilyList(),width:80,panelWidth:80,onclick:function(t){EditorDocs.changeTextStyle({font:t.value}),EditorDocs.refresh()}}))),Gn(this,HS).appendChild(Kn(this,zS,bC.createFontSize({items:EditorDocs.getFontSizeList(),width:50,panelWidth:50,onclick:function(t){EditorDocs.changeTextStyle({size:t.value}),EditorDocs.refresh()}}))),Gn(this,HS).appendChild(bC.createButton({title:"字体缩小",icon:"layui-icon-font-decrease",onclick:function(e,i){var n=EditorDocs.getFontSizeList(),a=EditorDocs.getTextStyle().size,r=n.findIndex((function(t){return t.value<=a}));if(r>=0&&r<n.length-1){var o=n[r+1].value;Gn(t,zS).setValue(o),EditorDocs.changeTextStyle({size:o})}EditorDocs.refresh()}})),Gn(this,HS).appendChild(bC.createButton({title:"字体增大",icon:"layui-icon-font-increase",onclick:function(e,i){var n=EditorDocs.getFontSizeList(),a=EditorDocs.getTextStyle().size,r=n.findIndex((function(t){return t.value<=a}));if(r>0){var o=n[r-1].value;Gn(t,zS).setValue(o),EditorDocs.changeTextStyle({size:o})}EditorDocs.refresh()}})),Gn(this,HS).appendChild(Kn(this,KS,bC.createButton({title:"字体加粗",icon:"layui-icon-bold",switch:!0,onclick:function(t,e){EditorDocs.changeTextStyle({bold:e}),EditorDocs.refresh()}}))),Gn(this,HS).appendChild(Kn(this,ZS,bC.createButton({title:"斜体",switch:!0,icon:"layui-icon-italic",onclick:function(t,e){EditorDocs.changeTextStyle({italic:e}),EditorDocs.refresh()}}))),Gn(this,HS).appendChild(Kn(this,JS,bC.createButton({title:"下划线",switch:!0,icon:"layui-icon-underline",onclick:function(t,e){EditorDocs.changeTextStyle({underline:e}),EditorDocs.refresh()}}))),Gn(this,HS).appendChild(Kn(this,qS,bC.createButton({title:"删除线",switch:!0,icon:"layui-icon-strikethrough",onclick:function(t,e){EditorDocs.changeTextStyle({strikethrough:e}),EditorDocs.refresh()}}))),Gn(this,HS).appendChild(Kn(this,$S,bC.createButton({title:"上标",icon:"layui-icon-superscript",onclick:function(e){Gn(t,$S).isSelected()?(EditorDocs.changeTextStyle({script:BS.SCRIPT_NOR}),XS(t,lL,CL).call(t,BS.SCRIPT_NOR)):(EditorDocs.changeTextStyle({script:BS.SCRIPT_SUP}),XS(t,lL,CL).call(t,BS.SCRIPT_SUP)),EditorDocs.refresh()}}))),Gn(this,HS).appendChild(Kn(this,QS,bC.createButton({title:"下标",icon:"layui-icon-subscript",onclick:function(e){Gn(t,QS).isSelected()?(EditorDocs.changeTextStyle({script:BS.SCRIPT_NOR}),XS(t,lL,CL).call(t,BS.SCRIPT_NOR)):(EditorDocs.changeTextStyle({script:BS.SCRIPT_SUB}),XS(t,lL,CL).call(t,BS.SCRIPT_SUB)),EditorDocs.refresh()}}))),Gn(this,HS).appendChild(Kn(this,GS,bC.createFontColor({title:"字体颜色",onselect:function(t){EditorDocs.changeFontColor(t),EditorDocs.refresh()}}))),Gn(this,HS).appendChild(bC.createSeparator()),Gn(this,HS).appendChild(Kn(this,tL,bC.createButton({title:"左对齐",icon:"layui-icon-align-left",onclick:function(){EditorDocs.changeParagStyle({align:BS.ALIGN_LEFT}),EditorDocs.refresh(),XS(t,cL,yL).call(t,BS.ALIGN_LEFT)}}))),Gn(this,HS).appendChild(Kn(this,eL,bC.createButton({title:"居中对齐",icon:"layui-icon-align-center",onclick:function(){EditorDocs.changeParagStyle({align:BS.ALIGN_CENTER}),EditorDocs.refresh(),XS(t,cL,yL).call(t,BS.ALIGN_CENTER)}}))),Gn(this,HS).appendChild(Kn(this,iL,bC.createButton({title:"右对齐",icon:"layui-icon-align-right",onclick:function(){EditorDocs.changeParagStyle({align:BS.ALIGN_RIGHT}),EditorDocs.refresh(),XS(t,cL,yL).call(t,BS.ALIGN_RIGHT)}}))),Gn(this,HS).appendChild(Kn(this,nL,bC.createButton({title:"两端对齐",icon:"layui-icon-align-both",onclick:function(){EditorDocs.changeParagStyle({align:BS.ALIGN_BOTH}),EditorDocs.refresh(),XS(t,cL,yL).call(t,BS.ALIGN_BOTH)}}))),Gn(this,HS).appendChild(Kn(this,aL,bC.createButton({title:"分散对齐",icon:"layui-icon-align-dispersed",onclick:function(){EditorDocs.changeParagStyle({align:BS.ALIGN_DISPERSED}),EditorDocs.refresh(),XS(t,cL,yL).call(t,BS.ALIGN_DISPERSED)}}))),Gn(this,HS).appendChild(bC.createSeparator()),Gn(this,HS).appendChild(Kn(this,rL,bC.createMenuList({title:"行高",icon:"layui-icon-line-spacing",list:[{text:"1",value:"1"},{text:"1.15",value:"1.15"},{text:"1.5",value:"1.5"},{text:"2",value:"2"},{text:"2.5",value:"2.5"},{text:"3",value:"3"}],onselected:function(t){EditorDocs.changeParagStyle({rowspac:t}),EditorDocs.refresh()}}))),Gn(this,HS).appendChild(bC.createButton({title:"减少缩进",icon:"layui-icon-outdent",onclick:function(){var t=EditorDocs.getParagStyle();EditorDocs.changeParagStyle({indentLeft:Math.max(0,t.indentLeft-.5)})}})),Gn(this,HS).appendChild(bC.createButton({title:"增加缩进",icon:"layui-icon-indent",onclick:function(){var t=EditorDocs.getParagStyle();EditorDocs.changeParagStyle({indentLeft:t.indentLeft+.5})}})),Gn(this,HS).appendChild(bC.createSeparator()),Gn(this,HS).appendChild(bC.createTableDown({title:"插入表格",icon:"layui-icon-table",onclick:function(t){EditorDocs.insertTable(t)}})),Gn(this,HS).appendChild(bC.createButton({title:"插入图片",icon:"layui-icon-picture",onclick:function(){e.click()}})),Gn(this,HS).appendChild(bC.createDorpDown({title:"插入医学表达式",panelWidth:120,icon:"layui-icon-medicine",children:[{text:"月经史",icon:"layui-icon-menstrual",value:"menstrual"},{text:"牙位图",icon:"layui-icon-tooth",value:"tooth"},{text:"胎心位置",icon:"layui-icon-fetalheart",value:"fetalheart"}],onclick:function(e){"menstrual"==e.value?XS(t,fL,wL).call(t):"tooth"==e.value?XS(t,dL,mL).call(t):"fetalheart"==e.value&&XS(t,pL,TL).call(t)}})),Gn(this,HS).appendChild(bC.createButton({title:"插入Katex公式",icon:"layui-icon-formula",onclick:function(){XS(t,uL,LL).call(t)}})),Gn(this,HS).appendChild(bC.createDorpDown({title:"插入图形码",icon:"layui-icon-code",children:[{text:"条码",icon:"layui-icon-barcode",value:"barcode"},{text:"二维码",icon:"layui-icon-qrcode",value:"qrcode"}],onclick:function(e){"barcode"==e.value?mC.showPromptbox("添加条码信息",(function(e){return t.isAllDigits(e)?(EditorDocs.insertBarcode(e),!0):(SC.showMessagebox("条码内容必须是重数字！"),!1)})):"qrcode"==e.value&&mC.showPromptbox("添加二维码信息",(function(t){return EditorDocs.stringTool("isNotBlank",t)?(EditorDocs.insertQrcode(t),!0):(SC.showMessagebox("二维码内容不能为空！"),!1)}))}})),Gn(this,HS).appendChild(bC.createImageList({title:"插入分割线",icon:"layui-icon-divider",list:[{id:"11",src:"image/divider-11.png"},{id:"12",src:"image/divider-12.png"},{id:"13",src:"image/divider-13.png"},{id:"14",src:"image/divider-14.png"},{id:"21",src:"image/divider-21.png"},{id:"22",src:"image/divider-22.png"}]}))),EditorDocs.isDesignModal()&&(Gn(this,HS).appendChild(bC.createButton({title:"插入日期时间",icon:"layui-icon-calendar",onclick:function(){EditorDocs.insertDatePicker((new Date).getTime(),"yyyy年MM月dd日")}})),Gn(this,HS).appendChild(bC.createDorpDown({title:"插入控件",panelWidth:120,icon:"layui-icon-form",children:[{text:"文本框",icon:"layui-icon-text",value:"1"},{text:"多选框",icon:"layui-icon-checkbox",value:"3"},{text:"单选框",icon:"layui-icon-radiobox",value:"4"},{text:"数据文本域",icon:"layui-icon-text",value:"7"},{text:"多行文本域",icon:"layui-icon-text",value:"8"},{text:"单选选项域",icon:"layui-icon-combobox",value:"5"},{text:"多选选项域",icon:"layui-icon-combobox",value:"6"}],onclick:function(t){"1"==t.value?EditorDocs.insertTextBox():"3"==t.value?EditorDocs.insertCheckbox():"4"==t.value?EditorDocs.insertRadioGroup():"5"==t.value?EditorDocs.insertSingleField():"6"==t.value?EditorDocs.insertMultipleField():"7"==t.value?EditorDocs.insertTextField():"8"==t.value&&EditorDocs.insertMultTextField()}})),Gn(this,HS).appendChild(bC.createButton({title:"水印设置",icon:"layui-icon-watermark",onclick:function(){XS(t,vL,bL).call(t)}}))),EditorDocs.isCommitModal()&&(Gn(this,HS).appendChild(bC.createSeparator()),Gn(this,HS).appendChild(Kn(this,oL,bC.createMenuList({title:"批注视图",icon:"layui-icon-opinion",panelWidth:130,list:[{text:"显示未处理",value:"2"},{text:"显示已处理",value:"3"}],onselected:function(t){EditorDocs.changeCommentsView(t)}}))),Gn(this,oL).setValue("2"),Gn(this,HS).appendChild(bC.createButton({title:"提交版本",icon:"layui-icon-commit",onclick:function(){EditorDocs.verifiCommitVersion()&&mC.showPromptbox("确定提交版本？",(function(t){return EditorDocs.commitVersion(t),!0}))}}))),EditorDocs.isModifyModal()&&(Gn(this,HS).appendChild(bC.createSeparator()),Gn(this,HS).appendChild(bC.createButton({title:"新建批注",icon:"layui-icon-comments",onclick:function(){mC.showPromptbox("请填写批注信息",(function(t){return EditorDocs.insertComments(t),!0}))}})),Gn(this,HS).appendChild(bC.createButton({title:"提交修订",icon:"layui-icon-commit",onclick:function(){mC.showPromptbox("确定提交修订记录？",(function(t){return EditorDocs.commitRevision(t),!0}))}}))),Gn(this,HS).appendChild(bC.createButton({title:"查找",icon:"layui-icon-find",onclick:function(){XS(t,_L,OL).call(t)}}));var e=bC.createFileInput({filetype:"image/*",onload:function(t){EditorDocs.insertImage(t)}}),i=bC.createFileInput({filetype:".emr",onload:function(t){EditorDocs.fileImport(t)}})}function CL(t){Gn(this,$S)&&Gn(this,QS)&&(BS.SCRIPT_SUB==t?(Gn(this,$S).setSelected(!1),Gn(this,QS).setSelected(!0)):BS.SCRIPT_SUP==t?(Gn(this,$S).setSelected(!0),Gn(this,QS).setSelected(!1)):(Gn(this,$S).setSelected(!1),Gn(this,QS).setSelected(!1)))}function yL(t){Gn(this,tL)&&Gn(this,eL)&&Gn(this,iL)&&Gn(this,nL)&&Gn(this,aL)&&(Gn(this,tL).setSelected(t==BS.ALIGN_LEFT),Gn(this,eL).setSelected(t==BS.ALIGN_CENTER),Gn(this,iL).setSelected(t==BS.ALIGN_RIGHT),Gn(this,nL).setSelected(t==BS.ALIGN_BOTH),Gn(this,aL).setSelected(t==BS.ALIGN_DISPERSED))}function SL(){var t=new wy;t.setPaperInfo(EditorDocs.getPaperInfo()),t.setNumnerInfo(EditorDocs.getPageNumInfo()),t.show(),t.center()}function LL(){var t=new Qy;t.show(),t.center()}function wL(){var t=new rS;t.setOperationType("insert",{}),t.show(),t.center()}function mL(){var t=new uS;t.setOperationType("insert",{}),t.show(),t.center()}function TL(){var t=new ES;t.setOperationType("insert",{}),t.show(),t.center()}function bL(){var t=new Zy;t.setInfo(EditorDocs.getWateMark()),t.show(),t.center()}function OL(){var t=new Vy;t.show(),t.center()}function AL(t,e){kL(t,e),e.add(t)}function RL(t,e,i){kL(t,e),e.set(t,i)}function kL(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function IL(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var DL=new WeakMap,xL=new WeakMap,ML=new WeakSet,PL=new WeakSet,NL=function(e){Yn(o,e);var i,n,a=(i=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Vn(i);if(n){var a=Vn(this).constructor;t=Reflect.construct(e,arguments,a)}else t=e.apply(this,arguments);return jn(this,t)});function o(e){var i;return t(this,o),AL(Xn(i=a.call(this)),PL),AL(Xn(i),ML),RL(Xn(i),DL,{writable:!0,value:void 0}),RL(Xn(i),xL,{writable:!0,value:void 0}),Kn(Xn(i),xL,Object.assign(IL(Xn(i),PL,FL).call(Xn(i)),e)),IL(Xn(i),ML,BL).call(Xn(i)),i}return r(o,[{key:"show",value:function(t){var e=this;this.loadOptions((function(){Gn(e,DL).appendChild(e.createContent()),document.addEventListener("mouseup",(function(i){Gn(e,DL).isConnected&&!Gn(e,DL).contains(i.target)&&t!==i&&e.hide()})),document.addEventListener("contextmenu",(function(i){Gn(e,DL).isConnected&&t!==i&&e.hide()})),document.body.appendChild(Gn(e,DL)),Gn(e,DL).style.top=Xg.toPx(t.pageY),Gn(e,DL).style.left=Xg.toPx(t.pageX),Xg.correctOffset(Gn(e,DL),t.pageX,t.pageY)}))}},{key:"hide",value:function(){document.body.removeChild(Gn(this,DL))}},{key:"loadOptions",value:function(t){t()}},{key:"onSelected",value:function(t,e){e&&this.hide(),Gn(this,xL).onSelect(t)}},{key:"createContent",value:function(){return Xg.create(Ug.ELE_DIV)}}]),o}(Hg);function BL(){Kn(this,DL,Xg.create(Ug.ELE_DIV,[Ug.CLASS_POP])),Gn(this,DL).style.position="absolute"}function FL(){return{onSelect:function(){}}}function WL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Vn(t);if(e){var a=Vn(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return jn(this,i)}}function UL(t,e){HL(t,e),e.add(t)}function XL(t,e,i){HL(t,e),e.set(t,i)}function HL(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function YL(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var jL=new WeakMap,VL=new WeakMap,zL=new WeakMap,GL=new WeakMap,KL=new WeakMap,ZL=new WeakMap,JL=new WeakMap,qL=new WeakMap,$L=new WeakMap,QL=new WeakMap,tw=new WeakMap,ew=new WeakMap,iw=new WeakMap,nw=new WeakMap,aw=new WeakMap,rw=new WeakMap,ow=new WeakMap,sw=new WeakSet,lw=new WeakSet,cw=new WeakSet,hw=new WeakSet,uw=new WeakSet,fw=new WeakSet,dw=new WeakSet,pw=new WeakSet,vw=function(e){Yn(n,e);var i=WL(n);function n(e){var a;return t(this,n),UL(Xn(a=i.call(this,e)),pw),UL(Xn(a),dw),UL(Xn(a),fw),UL(Xn(a),uw),UL(Xn(a),hw),UL(Xn(a),cw),UL(Xn(a),lw),UL(Xn(a),sw),XL(Xn(a),jL,{writable:!0,value:"datepacker"}),XL(Xn(a),VL,{writable:!0,value:"content"}),XL(Xn(a),zL,{writable:!0,value:"control"}),XL(Xn(a),GL,{writable:!0,value:"head"}),XL(Xn(a),KL,{writable:!0,value:"body"}),XL(Xn(a),ZL,{writable:!0,value:"days-week"}),XL(Xn(a),JL,{writable:!0,value:"days-date"}),XL(Xn(a),qL,{writable:!0,value:"time-list"}),XL(Xn(a),$L,{writable:!0,value:"head-icon"}),XL(Xn(a),QL,{writable:!0,value:"head-botn"}),XL(Xn(a),tw,{writable:!0,value:"head-text"}),XL(Xn(a),ew,{writable:!0,value:"foot-botn"}),XL(Xn(a),iw,{writable:!0,value:"foot-time"}),XL(Xn(a),nw,{writable:!0,value:void 0}),XL(Xn(a),aw,{writable:!0,value:void 0}),XL(Xn(a),rw,{writable:!0,value:void 0}),XL(Xn(a),ow,{writable:!0,value:void 0}),Kn(Xn(a),rw,e),YL(Xn(a),dw,Lw).call(Xn(a),e.property.value),a}return r(n,[{key:"createContent",value:function(){var t=Xg.create(Ug.ELE_DIV,[Gn(this,jL)]),e=Kn(this,nw,Xg.create(Ug.ELE_DIV,[Gn(this,VL)])),i=Kn(this,aw,Xg.create(Ug.ELE_DIV,[Gn(this,zL)]));return t.appendChild(e),t.appendChild(i),YL(this,lw,Ew).call(this,Gn(this,ow)),YL(this,sw,_w).call(this),t}}]),n}(NL);function _w(){var t=this,e=!0,i=Xg.create(Ug.ELE_DIV,[Gn(this,iw)]);i.textContent="时间选择";var n=Xg.create(Ug.ELE_BUTTON,[Gn(this,ew)]);n.textContent="确定";var a=Xg.create(Ug.ELE_BUTTON,[Gn(this,ew)]);a.textContent="取消",i.addEventListener(Ug.VALUE_CLICK,(function(){e?(YL(t,cw,gw).call(t),i.textContent="日期选择"):(YL(t,lw,Ew).call(t,Gn(t,ow)),i.textContent="时间选择"),e=!e})),n.addEventListener(Ug.VALUE_CLICK,(function(){Gn(t,rw).onSelect(Gn(t,ow)),t.hide()})),a.addEventListener(Ug.VALUE_CLICK,(function(){t.hide()})),Gn(this,aw).appendChild(i),Gn(this,aw).appendChild(n),Gn(this,aw).appendChild(a)}function Ew(t){var e=this;Gn(this,nw).innerHTML="";var i=t.getFullYear(),n=t.getMonth(),a=0===n?11:n-1,r=0===n?i-1:i,o=11===n?0:n+1,s=11===n?i+1:i,l=Xg.create(Ug.ELE_DIV,[Gn(this,GL)]),c=Xg.create(Ug.ELE_DIV,[Gn(this,KL)]);Gn(this,nw).appendChild(l),Gn(this,nw).appendChild(c);var h=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,Ug.CLASS_UNSELECTED,Gn(this,$L),"layui-icon-prev-y"]);h.addEventListener(Ug.VALUE_CLICK,(function(){YL(e,lw,Ew).call(e,new Date(i-1,n,1))}));var u=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,Ug.CLASS_UNSELECTED,Gn(this,$L),"layui-icon-prev-m"]);u.addEventListener(Ug.VALUE_CLICK,(function(){YL(e,lw,Ew).call(e,new Date(r,a,1))}));var f=Xg.createDiv([Ug.CLASS_ROW_SPREAD,Gn(this,QL)]);f.textContent=i;var d=Xg.createDiv([Ug.CLASS_ROW_SPREAD,Gn(this,QL)]);d.textContent=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][n];var p=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,Ug.CLASS_UNSELECTED,Gn(this,$L),"layui-icon-next-m"]);p.addEventListener(Ug.VALUE_CLICK,(function(){YL(e,lw,Ew).call(e,new Date(s,o,1))}));var v=Xg.createDiv([Ug.CLASS_ROW_FIXED,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,Ug.CLASS_UNSELECTED,Gn(this,$L),"layui-icon-next-y"]);v.addEventListener(Ug.VALUE_CLICK,(function(){YL(e,lw,Ew).call(e,new Date(i+1,n,1))})),l.appendChild(h),l.appendChild(u),l.appendChild(f),l.appendChild(d),l.appendChild(p),l.appendChild(v);var _=Xg.create(Ug.ELE_DIV,["days-title"]),E=Xg.create(Ug.ELE_DIV,["days-panel"]);c.appendChild(_),c.appendChild(E);for(var g="日一二三四五六".split(""),C=0;C<7;C++){var y=Xg.create(Ug.ELE_DIV,[Gn(this,ZL)]);y.textContent=g[C],_.appendChild(y)}for(var S=new Date(i,n,1).getDay(),L=new Date(i,n+1,0).getDate(),w=new Date(r,a+1,0).getDate(),m=function(t){var i=w-S+t+1,n=YL(e,hw,Cw).call(e,i,!0);n.addEventListener("click",(function(){YL(e,pw,ww).call(e,r,a,i),YL(e,lw,Ew).call(e,new Date(r,a,i))})),E.appendChild(n)},T=0;T<S;T++)m(T);for(var b=new Date,O=b.getFullYear()===i&&b.getMonth()===n,A=function(a){var r=YL(e,hw,Cw).call(e,a,!1,O&&a===b.getDate());Gn(e,ow)&&Gn(e,ow).getFullYear()===i&&Gn(e,ow).getMonth()===n&&Gn(e,ow).getDate()===a&&r.classList.add("date-selected"),r.addEventListener("click",(function(){YL(e,pw,ww).call(e,i,n,a),YL(e,lw,Ew).call(e,t)})),E.appendChild(r)},R=1;R<=L;R++)A(R);for(var k=42-S-L,I=function(t){var i=YL(e,hw,Cw).call(e,t,!0);i.addEventListener("click",(function(){YL(e,pw,ww).call(e,s,o,t),YL(e,lw,Ew).call(e,new Date(s,o,t))})),E.appendChild(i)},D=1;D<=k;D++)I(D)}function gw(){var t=this;Gn(this,nw).innerHTML="";var e=Xg.create(Ug.ELE_DIV,[Gn(this,GL)]),i=Xg.create(Ug.ELE_DIV,[Gn(this,KL)]);Gn(this,nw).appendChild(e),Gn(this,nw).appendChild(i);var n=Xg.createDiv([Ug.CLASS_ROW_SPREAD,Gn(this,tw)]);n.textContent="时";var a=Xg.createDiv([Ug.CLASS_ROW_SPREAD,Gn(this,tw)]);a.textContent="分";var r=Xg.createDiv([Ug.CLASS_ROW_SPREAD,Gn(this,tw)]);r.textContent="秒",e.appendChild(n),e.appendChild(a),e.appendChild(r);var o=Xg.createDiv([Ug.CLASS_COL_SPREAD,"time-panel"]),s=YL(this,uw,yw).call(this,24,Gn(this,ow).getHours(),(function(e){Gn(t,ow).setHours(e)})),l=YL(this,uw,yw).call(this,60,Gn(this,ow).getMinutes(),(function(e){Gn(t,ow).setMinutes(e)})),c=YL(this,uw,yw).call(this,60,Gn(this,ow).getSeconds(),(function(e){Gn(t,ow).setSeconds(e)}));o.appendChild(s),o.appendChild(l),o.appendChild(c),i.appendChild(o)}function Cw(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Xg.create(Ug.ELE_DIV,[Gn(this,JL)]);return e&&n.addClass("other"),i&&n.addClass("today"),n.textContent=t,n}function yw(t,e,i){var n=this,a=Xg.createDiv([Ug.CLASS_ROW_SPREAD,Gn(this,qL)]),r=Xg.createDiv([Ug.CLASS_COL_SPREAD,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,Ug.CLASS_UNSELECTED,"layui-icon-up","time-item"]),o=Xg.createDiv([Ug.CLASS_COL_SPREAD,Ug.CLASS_ICON,Ug.CLASS_LAYUI_ICON,Ug.CLASS_UNSELECTED,"layui-icon-down","time-item"]),s=[];a.appendChild(r);for(var l=0;l<5;l++){var c=Xg.createDiv([Ug.CLASS_COL_SPREAD,Ug.CLASS_UNSELECTED,"time-item"]);2==l&&c.addClass("date-selected"),a.appendChild(c),s.push(c)}a.appendChild(o);var h=function(t,e){s.forEach((function(a,r){var o=YL(n,fw,Sw).call(n,e,r-2,t);i(o),a.textContent=o<10?"0"+o:""+o}))},u=0;return a.addEventListener("mousewheel",(function(i){i.deltaY>0?(u++,h(t,YL(n,fw,Sw).call(n,e,u,t))):(u--,h(t,YL(n,fw,Sw).call(n,e,u,t)))})),r.addEventListener(Ug.VALUE_CLICK,(function(){u--,h(t,YL(n,fw,Sw).call(n,e,u,t))})),o.addEventListener(Ug.VALUE_CLICK,(function(){u++,h(t,YL(n,fw,Sw).call(n,e,u,t))})),h(t,e),a}function Sw(t,e,i){var n=(t+e)%i;return n<0&&(n+=i),n}function Lw(t){try{Kn(this,ow,t?new Date(t):new Date)}catch(t){Kn(this,ow,new Date)}}function ww(t,e,i){Gn(this,ow).setFullYear(t),Gn(this,ow).setMonth(e),Gn(this,ow).setDate(i)}var mw=new WeakMap,Tw=function(e){Yn(n,e);var i=WL(n);function n(e){var a;return t(this,n),XL(Xn(a=i.call(this,e)),mw,{writable:!0,value:void 0}),Kn(Xn(a),mw,e),a}return r(n,[{key:"createContent",value:function(){var t=this,e=Xg.create(Ug.ELE_DIV,[Ug.CLASS_FLEX_COL,"editor-pop-text"]),i=Xg.create(Ug.ELE_TEXTAREA,["textarea"]);Gn(this,mw).property.value&&(i.value=Gn(this,mw).property.value);var n=Xg.create(Ug.ELE_DIV,["controll"]),a=Xg.create(Ug.ELE_BUTTON,["button"]);a.textContent="确定",a.addEventListener(Ug.VALUE_CLICK,(function(){Gn(t,mw).onChange(i.value),t.hide()}));var r=Xg.create(Ug.ELE_BUTTON,["button"]);return r.textContent="取消",r.addEventListener(Ug.VALUE_CLICK,(function(){t.hide()})),n.appendChild(a),n.appendChild(r),e.appendChild(i),e.appendChild(n),e}}]),n}(NL),bw=new WeakMap,Ow=new WeakMap,Aw=new WeakSet,Rw=function(e){Yn(n,e);var i=WL(n);function n(e){var a;return t(this,n),UL(Xn(a=i.call(this,e)),Aw),XL(Xn(a),bw,{writable:!0,value:void 0}),XL(Xn(a),Ow,{writable:!0,value:void 0}),Kn(Xn(a),bw,e),a}return r(n,[{key:"loadOptions",value:function(t){var e=this;Gn(this,bw).dataurl?YL(this,Aw,kw).call(this,Gn(this,bw).dataurl,(function(i){Kn(e,Ow,i),t()})):(Kn(this,Ow,Gn(this,bw).property.options),t())}},{key:"createContent",value:function(){var t=this,e=Xg.create(Ug.ELE_DIV,[Ug.CLASS_FLEX_COL]);return Array.isArray(Gn(this,Ow))&&Gn(this,Ow).forEach((function(i){var n=Xg.create(Ug.ELE_DIV,[Ug.CLASS_POP_ITEM]);n.textContent=i.text,n.addEventListener(Ug.VALUE_CLICK,(function(){t.onSelected(i,!0)})),e.appendChild(n)})),e}}]),n}(NL);function kw(t,e){fetch(t).then((function(t){return t.json()})).then((function(t){e(t.data)})).catch((function(t){return console.error("Error:",t)}))}var Iw=new WeakMap,Dw=new WeakMap,xw=new WeakMap,Mw=new WeakSet,Pw=new WeakSet,Nw=new WeakSet,Bw=function(e){Yn(n,e);var i=WL(n);function n(e){var a;return t(this,n),UL(Xn(a=i.call(this,e)),Nw),UL(Xn(a),Pw),UL(Xn(a),Mw),XL(Xn(a),Iw,{writable:!0,value:void 0}),XL(Xn(a),Dw,{writable:!0,value:void 0}),XL(Xn(a),xw,{writable:!0,value:void 0}),Kn(Xn(a),Iw,e),a}return r(n,[{key:"loadOptions",value:function(t){var e=this;Gn(this,Iw).dataurl?YL(this,Pw,Ww).call(this,Gn(this,Iw).dataurl,(function(i){Kn(e,Dw,i),t()})):(Kn(this,Dw,Gn(this,Iw).property.options),t())}},{key:"createContent",value:function(){var t=this,e=Xg.create(Ug.ELE_DIV,[Ug.CLASS_FLEX_COL]);return Array.isArray(Gn(this,Dw))&&(Kn(this,xw,[]),Gn(this,Dw).forEach((function(i){var n={code:i.code,text:i.text,checked:YL(t,Nw,Uw).call(t,i.code)},a=EditorDocs.stringTool("uuid"),r=Xg.create(Ug.ELE_DIV,[Ug.CLASS_POP_ITEM]),o=Xg.createInput([Ug.CLASS_POP_ITEM_CHECKBOX]);o.type=Ug.VALUE_CHECKBOX,o.id=a,o.checked=n.checked,o.addEventListener(Ug.VALUE_CHANGE,(function(){n.checked=o.checked,t.onSelected(YL(t,Mw,Fw).call(t),!1)}));var s=Xg.create(Ug.ELE_LABEL,[Ug.CLASS_POP_ITEM_CHECKBOX]);s.textContent=i.text,s.htmlFor=a,r.appendChild(o),r.appendChild(s),e.appendChild(r),Gn(t,xw).push(n)}))),e}}]),n}(NL);function Fw(){var t=[];return Gn(this,xw).forEach((function(e){e.checked&&t.push({code:e.code,text:e.text})})),t}function Ww(t,e){fetch(t).then((function(t){return t.json()})).then((function(t){e(t.data)})).catch((function(t){return console.error("Error:",t)}))}function Uw(t){return Gn(this,Iw).property.value.findIndex((function(e){return e.code==t}))>=0}function Xw(t,e,i){return jw(t,e),Yw(i,"get"),function(t,e){return e.get?e.get.call(t):e.value}(t,i)}function Hw(t,e,i){return jw(t,e),i}function Yw(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}function jw(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}var Vw=function(){function e(){t(this,e)}return r(e,null,[{key:"init",value:function(t){var i,n,a;n=lm,a=t,jw(i=this,e),Yw(n,"set"),function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(i,n,a),Hw(this,e,zw).call(this)}}]),e}();function zw(){var t=this;document.body.innerHTML="",document.body.classList.add(Ug.CLASS_FLEX_COL),document.addEventListener("contextmenu",(function(t){t.preventDefault()}));var e=Xg.createDiv(),i=Xg.createDiv(),n=Xg.createDiv();document.body.appendChild(e),document.body.appendChild(i),document.body.appendChild(n);var a=new EL;a.init(e);var r=new HC;r.init(i);var o=new DS;o.init(n),Xw(this,Vw,lm).domid=r.getContainer(),Xw(this,Vw,lm).commentsid=r.getComments(),Xw(this,Vw,lm).scrollid=r.getRoot(),Xw(this,Vw,lm).synchroPageInfo=function(t,e,i){o.setPageInfo(t,e,i)},Xw(this,Vw,lm).synchroStyle=function(t,e){a.setFontFamily(t.font),a.setFontSize(t.size),a.setFontColor(t.color),a.setFontBold(t.bold),a.setFontItalic(t.italic),a.setFontUnderline(t.underline),a.setFontStrikethrough(t.strikethrough),a.setFontScript(t.script),a.setParagAlign(e.align),a.setParagRowspac(e.rowspac)},Xw(this,Vw,lm).synchroStack=function(t,e){a.setUndoDisabled(t>1),a.setRedoDisabled(e>0)},Xw(this,Vw,lm).showPopMenu=function(t){"1"==t.property.cls?(t.onSelect=function(e){EditorDocs.changeDatePickerValue(t.id,e.getTime())},new vw(t).show(t.event)):"3"==t.property.cls?(t.onChange=function(e){EditorDocs.changeTextFieldValue(t.id,e)},new Tw(t).show(t.event)):"6"==t.property.cls?(t.onSelect=function(e){EditorDocs.changeSingleFieldValue(t.id,e)},new Rw(t).show(t.event)):"7"==t.property.cls&&(t.onSelect=function(e){EditorDocs.changeMultipleFieldValue(t.id,e)},new Bw(t).show(t.event))},Xw(this,Vw,lm).showContextMenu=function(e){var i=[];if("0"==e.type){i.push({text:"复制",id:"01",icon:"layui-icon-copy",disabled:!e.copy}),e.paste&&i.push({text:"粘贴",id:"02",icon:"layui-icon-paste"}),i.push({type:"-"});var n={text:"表格",type:"parent",icon:"layui-icon-table",children:[]};e.table&&i.push(n),"1"==e.compClass?i.push({text:"日期组件",id:"1101",icon:"layui-icon-calendar"}):"2"==e.compClass?i.push({text:"文本框",id:"1102",icon:"layui-icon-text"}):"3"==e.compClass?i.push({text:"数据文本域",id:"1103",icon:"layui-icon-text"}):"8"==e.compClass?i.push({text:"多行文本域",id:"1108",icon:"layui-icon-text"}):"4"==e.compClass?i.push({text:"多选框",id:"1104",icon:"layui-icon-checkbox"}):"5"==e.compClass?i.push({text:"单选框",id:"1105",icon:"layui-icon-radiobox"}):"6"==e.compClass?i.push({text:"单选选择域",id:"1106",icon:"layui-icon-combobox"}):"7"==e.compClass&&i.push({text:"多选选择域",id:"1107",icon:"layui-icon-combobox"}),e.paragraph&&i.push({text:"段落",id:"03",icon:"layui-icon-paragraph"}),e.comments&&i.push({text:"插入批注",id:"13",icon:"layui-icon-comments"}),e.image&&i.push({text:"更换图片",id:"06",icon:"layui-icon-picture"}),e.gahcode&&i.push({text:"修改条码",id:"07",icon:"layui-icon-code"}),e.expExtent&&(0==e.expExtent.type?i.push({text:"月经史",id:"1201",icon:"layui-icon-menstrual"}):1==e.expExtent.type?i.push({text:"牙位图",id:"1202",icon:"layui-icon-tooth"}):2==e.expExtent.type&&i.push({text:"胎心位置",id:"1203",icon:"layui-icon-fetalheart"})),n.children.push({text:"在上方插入行",id:"0401",icon:"layui-icon-table-above"}),n.children.push({text:"在下方插入行",id:"0402",icon:"layui-icon-table-below"}),n.children.push({type:"-"}),n.children.push({text:"在左侧插入列",id:"0403",icon:"layui-icon-table-left"}),n.children.push({text:"在右侧插入列",id:"0404",icon:"layui-icon-table-right"}),n.children.push({type:"-"}),e.tableMerge&&n.children.push({text:"合并单元格",id:"0405",icon:"layui-icon-table-merge"}),e.tableSplit&&n.children.push({text:"拆分单元格",id:"0406",icon:"layui-icon-table-split"}),e.tableDeleteCell&&n.children.push({text:"删除单元格",id:"0407",icon:"layui-icon-table-delete"}),e.tableDeleteRow&&n.children.push({text:"删除行",id:"0408",icon:"layui-icon-table-delete"}),e.tableDeleteCol&&n.children.push({text:"删除列",id:"0409",icon:"layui-icon-table-delete"}),e.tableDelete&&n.children.push({text:"删除表格",id:"0410",icon:"layui-icon-table-delete"}),n.children.push({type:"-"}),n.children.push({text:"边框和底纹",id:"0411",icon:"layui-icon-table-border"}),e.tableBorder||n.children.push({text:"显示边框",id:"0412",icon:"layui-icon-show"}),e.tableBorder&&n.children.push({text:"隐藏边框",id:"0413",icon:"layui-icon-hide"})}else"1"==e.type&&("1"==e.seg?i.push({text:"编辑页眉",id:"08",icon:"layui-icon-header"}):"2"==e.seg?i.push({text:"退出编辑页眉页脚",id:"10"}):"3"==e.seg&&i.push({text:"编辑页脚",id:"09",icon:"layui-icon-footer"}));var a={children:i,panelWidth:150,onclick:function(i,n){r.hide(),"01"==i.id?EditorDocs.copyText(n,!0):"02"==i.id?EditorDocs.pasteText(n,!0):"03"==i.id?Hw(t,Vw,Gw).call(t):"0401"==i.id?EditorDocs.tableInsertRowAbove():"0402"==i.id?EditorDocs.tableInsertRowBelow():"0403"==i.id?EditorDocs.tableInsertColLeft():"0404"==i.id?EditorDocs.tableInsertColRight():"0405"==i.id?EditorDocs.tableMerge():"0406"==i.id?EditorDocs.tableSplitInfo():"0407"==i.id?Hw(t,Vw,rm).call(t,e):"0408"==i.id?EditorDocs.tableDeleteRow():"0409"==i.id?EditorDocs.tableDeleteCol():"0410"==i.id?EditorDocs.tableDelete():"0411"==i.id?Hw(t,Vw,om).call(t,e):"0412"==i.id?EditorDocs.tableBorderVisible(!0):"0413"==i.id?EditorDocs.tableBorderVisible(!1):"08"==i.id?EditorDocs.editorHeader():"09"==i.id?EditorDocs.editorFooter():"10"==i.id?EditorDocs.editorBody():"1101"==i.id?Hw(t,Vw,Kw).call(t,e.compID):"1102"==i.id?Hw(t,Vw,Zw).call(t,e.compID):"1103"==i.id?Hw(t,Vw,Jw).call(t,e.compID):"1104"==i.id?Hw(t,Vw,qw).call(t,e.compID):"1105"==i.id?Hw(t,Vw,$w).call(t,e.compID):"1106"==i.id?Hw(t,Vw,Qw).call(t,e.compID):"1107"==i.id?Hw(t,Vw,tm).call(t,e.compID):"1108"==i.id?Hw(t,Vw,em).call(t,e.compID):"1201"==i.id?Hw(t,Vw,im).call(t,e.expExtent):"1202"==i.id?Hw(t,Vw,nm).call(t,e.expExtent):"1203"==i.id?Hw(t,Vw,am).call(t,e.expExtent):"13"==i.id?Hw(t,Vw,sm).call(t):EditorDocs.refresh()}},r=bC.createPopMenu(a,e.event)}}function Gw(){var t=EditorDocs.getParagStyle(),e=new yy;e.setStyle(t),e.show(),e.center()}function Kw(t){var e=EditorDocs.getCompInfo(t),i=new Ty;i.setComponent(e),i.show(),i.center()}function Zw(t){var e=EditorDocs.getCompInfo(t),i=new Oy;i.setComponent(e),i.show(),i.center()}function Jw(t){var e=EditorDocs.getCompInfo(t),i=new Ry;i.setComponent(e),i.show(),i.center()}function qw(t){var e=EditorDocs.getCompInfo(t),i=new Iy;i.setComponent(e),i.show(),i.center()}function $w(t){var e=EditorDocs.getCompInfo(t),i=new xy;i.setComponent(e),i.show(),i.center()}function Qw(t){var e=EditorDocs.getCompInfo(t),i=new Py;i.setComponent(e),i.show(),i.center()}function tm(t){var e=EditorDocs.getCompInfo(t),i=new By;i.setComponent(e),i.show(),i.center()}function em(t){var e=EditorDocs.getCompInfo(t),i=new Wy;i.setComponent(e),i.show(),i.center()}function im(t){var e=new rS;e.setOperationType("update",t),e.show(),e.center()}function nm(t){var e=new uS;e.setOperationType("update",t),e.show(),e.center()}function am(t){var e=new ES;e.setOperationType("update",t),e.show(),e.center()}function rm(){var t=new Yy;t.show(),t.center()}function om(){var t=Object.assign({range:"0"},EditorDocs.tableCellInfo()),e=new Xy;e.setInfo(t),e.show(),e.center()}function sm(){mC.showPromptbox("请填写批注信息",(function(t){return EditorDocs.insertComments(t),!0}))}var lm={writable:!0,value:void 0};window.EditorWebs={create:function(t){var e={};EditorDocs.init(t),Vw.init(e),EditorDocs.create(e),EditorDocs.newDocument(t)},load:function(t,e){var i={};if(EditorDocs.init(t),Vw.init(i),EditorDocs.create(i),EditorDocs.stringTool("isNotBlank",e))try{EditorDocs.loadDocument(e)}catch(e){console.error(e),alert("加载数据异常，无法解析数据！"),EditorDocs.newDocument(t)}else EditorDocs.newDocument(t)},loadTemplet:function(t,e,i){var n={};if(EditorDocs.init(t),Vw.init(n),EditorDocs.create(n),EditorDocs.stringTool("isNotBlank",e))try{EditorDocs.loadDocument(e),EditorDocs.initDocument(i,t)}catch(e){console.error(e),layui.layer.msg("加载数据异常，无法解析数据！"),EditorDocs.newDocument(t)}else EditorDocs.newDocument(t)}},window.EditorDocs={control:void 0,signature:void 0,formula:void 0,colorpanel:void 0,windowevents:[],documentevents:[],init:function(t){f.compatible(),Zi.setConfig(t)},create:function(t){Zi.setControl(t)},initEvn:function(){this.windowevents.forEach((function(t){window.removeEventListener(t.name,t.func)})),this.documentevents.forEach((function(t){document.removeEventListener(t.name,t.func)})),this.windowevents=[],this.documentevents=[]},newDocument:function(t){var e=this,i=Fn.createNewDocument(t);this.initEvn(),this.control=new $_,this.control.create((function(t,i){window.addEventListener(t,i),e.windowevents.push({name:t,func:i})}),(function(t,i){document.addEventListener(t,i),e.documentevents.push({name:t,func:i})})),this.control.load(i)},loadDocument:function(t){var e=this;this.initEvn(),this.control=new $_,this.control.create((function(t,i){window.addEventListener(t,i),e.windowevents.push(i)}),(function(t,i){document.addEventListener(t,i),e.documentevents.push(i)})),this.control.fileImport(t)},initDocument:function(t,e){this.control&&this.control.loadMacroData(t,e)},refresh:function(){this.control&&this.control.refresh()},registerSignature:function(t){this.signature=new ag,this.signature.create(t)},cancelSignature:function(){this.signature.destroy(),this.signature=void 0},createColorPanel:function(t){this.colorpanel=new Bg,this.colorpanel.create(t)},previewMedicalExp:function(t,e){"msh"==t&&Sg.drawMSh(e.canvas,.1,{},e.content,!0)},fileDownload:function(){this.control&&this.control.fileDownload()},fileImport:function(t){this.control&&this.control.fileImport(t)},fileExport:function(){if(this.control)return this.control.fileExport()},fileSave:function(){this.control&&this.control.fileSave()},filePreview:function(){this.control&&this.control.filePreview()},filePrint:function(){this.control&&this.control.filePrint()},fileContinuePrint:function(){this.control&&this.control.fileContinuePrint()},fileExpImage:function(){this.control&&this.control.fileExpImage()},fileOutlineDownload:function(){this.control&&this.control.fileOutlineDownload()},prevStack:function(){this.control&&this.control.prevStack()},nextStack:function(){this.control&&this.control.nextStack()},setZoom:function(t){this.control&&this.control.setZoom(t)},changePaperInfo:function(t){this.control&&this.control.changePaperInfo(t)},changeTextStyle:function(t){this.control&&this.control.changeTextStyle(t)},changeParagStyle:function(t){this.control&&this.control.changeParagStyle(t)},changeFontColor:function(t){this.control&&this.control.changeFontColor(t)},changePageNum:function(t){this.control&&this.control.changePageNum(t)},changeWateMark:function(t){this.control&&this.control.changeWateMark(t)},changeCompInfo:function(t){this.control&&this.control.changeCompInfo(t)},changeDatePickerValue:function(t,e){this.control&&this.control.changeDatePickerValue(t,e)},changeTextFieldValue:function(t,e){this.control&&this.control.changeTextFieldValue(t,e)},changeSingleFieldValue:function(t,e){this.control&&this.control.changeSingleFieldValue(t,e)},changeMultipleFieldValue:function(t,e){this.control&&this.control.changeMultipleFieldValue(t,e)},changeExpressionValue:function(t){this.control&&this.control.changeExpressionValue(t)},changeCommentsView:function(t){this.control&&this.control.changeCommentsView(t)},verifiCommitVersion:function(t){if(this.control)return this.control.verifiCommitVersion(t)},commitVersion:function(t){this.control&&this.control.commitVersion(t)},commitRevision:function(t){this.control&&this.control.commitRevision(t)},acceptRevision:function(){this.control&&this.control.acceptRevision()},refuseRevision:function(){this.control&&this.control.refuseRevision()},previousRevision:function(){this.control&&this.control.previousRevision()},nextRevision:function(){this.control&&this.control.nextRevision()},copyText:function(t){this.control&&this.control.copyText(t)},pasteText:function(t){this.control&&this.control.pasteText(t)},cutText:function(){this.control&&this.control.cutText()},findText:function(t){if(this.control)return this.control.findText(t)},insertWord:function(t){this.control&&this.control.insertWord(t)},insertTable:function(t){this.control&&this.control.insertTable(t)},insertImage:function(t){this.control&&this.control.insertImage(t)},insertDatePicker:function(t,e){this.control&&this.control.insertDatePicker(t,e)},insertPageNumber:function(t){this.control&&this.control.insertPageNumber(t)},insertSignature:function(t,e){this.control&&this.control.insertSignature(t,e)},insertBarcode:function(t){this.control&&this.control.insertGraphicCode(fn.IAMGE_TYPE_BARCODE,t)},insertQrcode:function(t){this.control&&this.control.insertGraphicCode(fn.IAMGE_TYPE_QRCODE,t)},insertDivder:function(t){this.control&&this.control.insertDivder(t)},insertShape:function(t){this.control&&this.control.insertShape(t)},insertTextBox:function(t){this.control&&this.control.insertTextBox(t)},insertTextField:function(t){this.control&&this.control.insertTextField(t)},insertMultTextField:function(t){this.control&&this.control.insertMultTextField(t)},insertSingleField:function(t){this.control&&this.control.insertSingleField(t)},insertMultipleField:function(t){this.control&&this.control.insertMultipleField(t)},insertCheckbox:function(t){this.control&&this.control.insertCheckbox(t)},insertRadioGroup:function(t){this.control&&this.control.insertRadioGroup(t)},insertExpression:function(t){this.control&&this.control.insertExpression(t)},insertComments:function(t){this.control&&this.control.insertComments(t)},insertRevision:function(){this.control&&this.control.insertRevision()},tableMerge:function(){this.control&&this.control.tableMerge()},tableDeleteRow:function(){this.control&&this.control.tableDeleteRow()},tableDeleteCol:function(){this.control&&this.control.tableDeleteCol()},tableDelete:function(){this.control&&this.control.tableDelete()},tableDeleteCell:function(t){this.control&&this.control.tableDeleteCell(t)},tableInsertRowAbove:function(){this.control&&this.control.tableInsertRowAbove()},tableInsertRowBelow:function(){this.control&&this.control.tableInsertRowBelow()},tableInsertColLeft:function(){this.control&&this.control.tableInsertColLeft()},tableInsertColRight:function(){this.control&&this.control.tableInsertColRight()},tableSplit:function(t){this.control&&this.control.tableSplit(t)},tableBorderChange:function(t){if(this.control)return this.control.tableBorderChange(t)},tableBorderVisible:function(t){if(this.control)return this.control.tableBorderVisible(t)},tableCellInfo:function(){if(this.control)return this.control.tableCellInfo()},editorBody:function(){this.control&&this.control.changeEditPart(s.CONTENT_PART_BODY)},editorHeader:function(){this.control&&this.control.changeEditPart(s.CONTENT_PART_HEADER)},editorFooter:function(){this.control&&this.control.changeEditPart(s.CONTENT_PART_FOOTER)},isPrintModal:function(){return Zi.isPrint()},isEditModal:function(){return Zi.isEdit()},isNoteModal:function(){return Zi.isNote()},isDesignModal:function(){return Zi.isDesign()},isModifyModal:function(){return Zi.isModify()},isCommitModal:function(){return Zi.isCommit()},getParagStyle:function(){if(this.control)return this.control.getParagStyle()},getTextStyle:function(){if(this.control)return this.control.getTextStyle()},getPaperInfo:function(){if(this.control)return this.control.getPaperInfo()},getViewInfo:function(){if(this.control)return this.control.getViewInfo()},getUsedColors:function(){if(this.control)return this.control.getUsedColors()},getSignature:function(){if(this.signature)return this.signature.getBase64()},getSeletedColor:function(){if(this.colorpanel)return this.colorpanel.getColor()},getZoomRatio:function(){return s.SYS_ZOOM},getViewSize:function(){if(this.control)return this.control.getViewSize()},getPageNumInfo:function(){if(this.control)return this.control.getPageNumInfo()},getConfigInfo:function(){var t=Object.assign({},Zi.getConfig()),e=s.EditorModels.findIndex((function(e){return e.value==t.modal}));return t.modalName=e>=0?s.EditorModels[e].name:"",t},getSystem:function(){return f.getSystem()},getCompInfo:function(t){if(this.control){var e=this.control.getCompInfo(t);return e?JSON.parse(JSON.stringify(e)):{}}},getOutline:function(){if(this.control)return this.control.getCompValues()},getStructure:function(){if(this.control)return this.control.getStructure()},getExpExtent:function(t){var e=Ni.getUUID();return 0==t?{id:e,type:fn.EXP_MH,field1:0,field2:12,field3:3,field4:5,field5:27,field6:35,field7:50,field8:(new Date).pattern("yyyy-MM-dd")}:1==t?{id:e,type:fn.EXP_TM}:2==t?{id:e,type:fn.EXP_FN,field1:!1,field2:!1,field3:!1,field4:!1,field5:!1,field6:!1}:void 0},getWateMark:function(){if(this.control)return this.control.getWateMark()},getFontFamilyList:function(){var t=[];return s.FontFamilys.forEach((function(e){t.push(Object.assign({},e))})),t},getFontSizeList:function(){var t=[];return s.FontSizes.forEach((function(e){t.push(Object.assign({},e))})),t},getParagAlignList:function(){return[{label:"左对齐",value:s.ALIGN_LEFT},{label:"右对齐",value:s.ALIGN_RIGHT},{label:"居中对齐",value:s.ALIGN_CENTER},{label:"两段对齐",value:s.ALIGN_BOTH},{label:"分散对齐",value:s.ALIGN_DISPERSED}]},getParagIndentList:function(){return[{label:"无",value:s.INDENT_TYPE_NULL},{label:"首行缩进",value:s.INDENT_TYPE_TEXT},{label:"悬挂缩进",value:s.INDENT_TYPE_HANG}]},getParagSpaceList:function(){return[{label:"1",value:1},{label:"1.15",value:1.15},{label:"1.5",value:1.5},{label:"2",value:2},{label:"2.5",value:2.5},{label:"3",value:3}]},getSymbolList:function(){for(var t=[],e={name:"常用",list:[]},i=0;i<16;i++)e.list.push("≠¥①②③№√×↓→↑←‰¾¼½"[i]);t.push(e);for(var n={name:"符号",list:[]},a=0;a<44;a++)n.list.push("＋－×±÷㎏㎎㎜㎝㎡㏄ml㏕ɑɡαβθ℃〖〗｛｝©®＠＆＊＃％‰＄￥§¦※◎≈…≤≥≦≧"[a]);return t.push(n),t},getTableBorderRangeList:function(){return[{label:"单元格",value:"0"},{label:"整个表格",value:"1"}]},getPageNumShowList:function(){return[{label:"是",value:"1"},{label:"否",value:"0"}]},getPageNumPatternList:function(){var t=[];return s.PageNumPatterns.forEach((function(e){t.push(Object.assign({},e))})),t},getPageNumAlignList:function(){return[{label:"不显示",value:s.ALIGN_NONE},{label:"左对齐",value:s.ALIGN_LEFT},{label:"右对齐",value:s.ALIGN_RIGHT},{label:"居中对齐",value:s.ALIGN_CENTER}]},getDataPatternList:function(){var t=[];return s.DatePatterns.forEach((function(e){t.push(Object.assign({},e))})),t},getPaperTypeList:function(){var t=[];return s.PaperTypes.forEach((function(e){t.push(Object.assign({standard:!0},e))})),t.push({standard:!1,name:"自定义",value:"custom"}),t},getPaperDirecList:function(){return s.PaperDirections},getPaperMarginList:function(){return s.PaperMargins},getWaterMarkFontSizeList:function(){return[{value:1e3,name:"100"},{value:1500,name:"150"},{value:2e3,name:"200"},{value:2500,name:"250"},{value:3e3,name:"300"},{value:3500,name:"350"},{value:4e3,name:"400"},{value:4500,name:"450"}]},getZoomScaleList:function(){return[.1,.2,.3,.4,.5,.6,.7,.8,.9,.95,1,1.1,1.2,1.25,1.5,1.75,2,2.5,3,4,5]},colorTool:function(t,e){return"h16ToInt"==t?Pi.h16ToInt(e):"intToH16"==t?Pi.intToH16(e):void 0},stringTool:function(t,e){return"isNotBlank"==t?Ni.isNotBlank(e):"uuid"==t?Ni.getUUID():void 0},objectTool:function(t,e){return"isUndefined"==t?Mi.isUndefined(e):"isNotUndefined"==t?Mi.isNotUndefined(e):void 0},canvasTool:function(t,e,i){"drawWaterMark"==e&&Mh.draw(t,i)},devicesTool:function(t,e){"fullscreen"==t&&Ri.fullscreen()}}})()})();
//# sourceMappingURL=peach-editor-min.js.map