/*! For license information please see peach-editor-min.js.LICENSE.txt */
(()=>{var t={5296:(t,e,i)=>{var n=i(5735).default;function r(){"use strict";t.exports=r=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},i=Object.prototype,a=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",h=o.toStringTag||"@@toStringTag";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,i){return t[e]=i}}function u(t,e,i,n){var r=e&&e.prototype instanceof p?e:p,a=Object.create(r.prototype),o=new x(n||[]);return a._invoke=function(t,e,i){var n="suspendedStart";return function(r,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw a;return{value:void 0,done:!0}}for(i.method=r,i.arg=a;;){var o=i.delegate;if(o){var s=T(o,i);if(s){if(s===d)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var l=f(t,e,i);if("normal"===l.type){if(n=i.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n="completed",i.method="throw",i.arg=l.arg)}}}(t,i,o),a}function f(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d={};function p(){}function g(){}function v(){}var _={};c(_,s,(function(){return this}));var y=Object.getPrototypeOf,E=y&&y(y(L([])));E&&E!==i&&a.call(E,s)&&(_=E);var w=v.prototype=p.prototype=Object.create(_);function m(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function i(r,o,s,l){var h=f(t[r],t,o);if("throw"!==h.type){var c=h.arg,u=c.value;return u&&"object"==n(u)&&a.call(u,"__await")?e.resolve(u.__await).then((function(t){i("next",t,s,l)}),(function(t){i("throw",t,s,l)})):e.resolve(u).then((function(t){c.value=t,s(c)}),(function(t){return i("throw",t,s,l)}))}l(h.arg)}var r;this._invoke=function(t,n){function a(){return new e((function(e,r){i(t,n,e,r)}))}return r=r?r.then(a,a):a()}}function T(t,e){var i=t.iterator[e.method];if(void 0===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,T(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function L(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(a.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:C}}function C(){return{value:void 0,done:!0}}return g.prototype=v,c(w,"constructor",v),c(v,"constructor",g),g.displayName=c(v,h,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,h,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},m(b.prototype),c(b.prototype,l,(function(){return this})),e.AsyncIterator=b,e.async=function(t,i,n,r,a){void 0===a&&(a=Promise);var o=new b(u(t,i,n,r),a);return e.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},m(w),c(w,h,"Generator"),c(w,s,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=L,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,n){return o.type="throw",o.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=a.call(r,"catchLoc"),l=a.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),S(i),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;S(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:L(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),d}},e}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},5735:t=>{function e(i){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(i)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},2207:(t,e,i)=>{var n=i(5296)();t.exports=n;try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},3939:t=>{"use strict";var e={single_source_shortest_paths:function(t,i,n){var r={},a={};a[i]=0;var o,s,l,h,c,u,f,d=e.PriorityQueue.make();for(d.push(i,0);!d.empty();)for(l in s=(o=d.pop()).value,h=o.cost,c=t[s]||{})c.hasOwnProperty(l)&&(u=h+c[l],f=a[l],(void 0===a[l]||f>u)&&(a[l]=u,d.push(l,u),r[l]=s));if(void 0!==n&&void 0===a[n]){var p=["Could not find a path from ",i," to ",n,"."].join("");throw new Error(p)}return r},extract_shortest_path_from_predecessor_list:function(t,e){for(var i=[],n=e;n;)i.push(n),t[n],n=t[n];return i.reverse(),i},find_path:function(t,i,n){var r=e.single_source_shortest_paths(t,i,n);return e.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(t){var i,n=e.PriorityQueue,r={};for(i in t=t||{},n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r.queue=[],r.sorter=t.sorter||n.default_sorter,r},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var i={value:t,cost:e};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e},6129:(t,e,i)=>{"use strict";var n=f(i(9368)),r=f(i(1490)),a=f(i(8165)),o=f(i(3623)),s=f(i(8179)),l=f(i(9796)),h=f(i(4205)),c=i(8157),u=f(i(5099));function f(t){return t&&t.__esModule?t:{default:t}}var d=function(){},p=function(t,e,i){var n=new d;if(void 0===t)throw Error("No element to render on was provided.");return n._renderProperties=(0,s.default)(t),n._encodings=[],n._options=u.default,n._errorHandler=new h.default(n),void 0!==e&&((i=i||{}).format||(i.format=y()),n.options(i)[i.format](e,i).render()),n};for(var g in p.getModule=function(t){return n.default[t]},n.default)n.default.hasOwnProperty(g)&&v(n.default,g);function v(t,e){d.prototype[e]=d.prototype[e.toUpperCase()]=d.prototype[e.toLowerCase()]=function(i,n){var a=this;return a._errorHandler.wrapBarcodeCall((function(){n.text=void 0===n.text?void 0:""+n.text;var o=(0,r.default)(a._options,n);o=(0,l.default)(o);var s=t[e],h=_(i,s,o);return a._encodings.push(h),a}))}}function _(t,e,i){var n=new e(t=""+t,i);if(!n.valid())throw new c.InvalidInputException(n.constructor.name,t);var o=n.encode();o=(0,a.default)(o);for(var s=0;s<o.length;s++)o[s].options=(0,r.default)(i,o[s].options);return o}function y(){return n.default.CODE128?"CODE128":Object.keys(n.default)[0]}function E(t,e,i){e=(0,a.default)(e);for(var n=0;n<e.length;n++)e[n].options=(0,r.default)(i,e[n].options),(0,o.default)(e[n].options);(0,o.default)(i),new(0,t.renderer)(t.element,e,i).render(),t.afterRender&&t.afterRender()}d.prototype.options=function(t){return this._options=(0,r.default)(this._options,t),this},d.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this},d.prototype.init=function(){var t;if(this._renderProperties)for(var e in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){t=this._renderProperties[e];var i=(0,r.default)(this._options,t.options);"auto"==i.format&&(i.format=y()),this._errorHandler.wrapBarcodeCall((function(){var e=_(i.value,n.default[i.format.toUpperCase()],i);E(t,e,i)}))}},d.prototype.render=function(){if(!this._renderProperties)throw new c.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)E(this._renderProperties[t],this._encodings,this._options);else E(this._renderProperties,this._encodings,this._options);return this},d.prototype._defaults=u.default,"undefined"!=typeof window&&(window.JsBarcode=p),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(t,e){var i=[];return jQuery(this).each((function(){i.push(this)})),p(i,t,e)}),t.exports=p},2444:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.text=i.text||e,this.options=i}},3651:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=(n=i(2444))&&n.__esModule?n:{default:n},o=i(2700),s=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.substring(1),i));return n.bytes=t.split("").map((function(t){return t.charCodeAt(0)})),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var t=this.bytes,i=t.shift()-105,n=o.SET_BY_CODE[i];if(void 0===n)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&t.unshift(o.FNC1);var r=e.next(t,1,n);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+r.result+e.getBar((r.checksum+i)%o.MODULO)+e.getBar(o.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var t=this.options.ean128||!1;return"string"==typeof t&&(t="true"===t.toLowerCase()),t}}],[{key:"getBar",value:function(t){return o.BARS[t]?o.BARS[t].toString():""}},{key:"correctIndex",value:function(t,e){if(e===o.SET_A){var i=t.shift();return i<32?i+64:i-32}return e===o.SET_B?t.shift()-32:10*(t.shift()-48)+t.shift()-48}},{key:"next",value:function(t,i,n){if(!t.length)return{result:"",checksum:0};var r=void 0,a=void 0;if(t[0]>=200){a=t.shift()-105;var s=o.SWAP[a];void 0!==s?r=e.next(t,i+1,s):(n!==o.SET_A&&n!==o.SET_B||a!==o.SHIFT||(t[0]=n===o.SET_A?t[0]>95?t[0]-96:t[0]:t[0]<32?t[0]+96:t[0]),r=e.next(t,i+1,n))}else a=e.correctIndex(t,n),r=e.next(t,i+1,n);var l=a*i;return{result:e.getBar(a)+r.result,checksum:l+r.checksum}}}]),e}(a.default);e.default=s},3804:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=(n=i(3651))&&n.__esModule?n:{default:n},o=i(2700),s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o.A_START_CHAR+t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"valid",value:function(){return new RegExp("^"+o.A_CHARS+"+$").test(this.data)}}]),e}(a.default);e.default=s},3541:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=(n=i(3651))&&n.__esModule?n:{default:n},o=i(2700),s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o.B_START_CHAR+t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"valid",value:function(){return new RegExp("^"+o.B_CHARS+"+$").test(this.data)}}]),e}(a.default);e.default=s},5798:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=(n=i(3651))&&n.__esModule?n:{default:n},o=i(2700),s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o.C_START_CHAR+t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"valid",value:function(){return new RegExp("^"+o.C_CHARS+"+$").test(this.data)}}]),e}(a.default);e.default=s},4845:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(3651)),r=a(i(4802));function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(t,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(t))var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,r.default)(t),i));else n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return o(n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(n.default);e.default=s},4802:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2700),r=function(t){return t.match(new RegExp("^"+n.A_CHARS+"*"))[0].length},a=function(t){return t.match(new RegExp("^"+n.B_CHARS+"*"))[0].length},o=function(t){return t.match(new RegExp("^"+n.C_CHARS+"*"))[0]};function s(t,e){var i=e?n.A_CHARS:n.B_CHARS,r=t.match(new RegExp("^("+i+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+String.fromCharCode(204)+l(t.substring(r[1].length));var a=t.match(new RegExp("^"+i+"+"))[0];return a.length===t.length?t:a+String.fromCharCode(e?205:206)+s(t.substring(a.length),!e)}function l(t){var e=o(t),i=e.length;if(i===t.length)return t;t=t.substring(i);var n=r(t)>=a(t);return e+String.fromCharCode(n?206:205)+s(t,n)}e.default=function(t){var e=void 0;if(o(t).length>=2)e=n.C_START_CHAR+l(t);else{var i=r(t)>a(t);e=(i?n.A_START_CHAR:n.B_START_CHAR)+s(t,i)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,(function(t,e){return String.fromCharCode(203)+e}))}},2700:(t,e)=>{"use strict";var i;function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var r=e.SET_A=0,a=e.SET_B=1,o=e.SET_C=2,s=(e.SHIFT=98,e.START_A=103),l=e.START_B=104,h=e.START_C=105;e.MODULO=103,e.STOP=106,e.FNC1=207,e.SET_BY_CODE=(n(i={},s,r),n(i,l,a),n(i,h,o),i),e.SWAP={101:r,100:a,99:o},e.A_START_CHAR=String.fromCharCode(208),e.B_START_CHAR=String.fromCharCode(209),e.C_START_CHAR=String.fromCharCode(210),e.A_CHARS="[\0-_È-Ï]",e.B_CHARS="[ -È-Ï]",e.C_CHARS="(Ï*[0-9]{2}Ï*)",e.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},1509:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CODE128C=e.CODE128B=e.CODE128A=e.CODE128=void 0;var n=s(i(4845)),r=s(i(3804)),a=s(i(3541)),o=s(i(5798));function s(t){return t&&t.__esModule?t:{default:t}}e.CODE128=n.default,e.CODE128A=r.default,e.CODE128B=a.default,e.CODE128C=o.default},1428:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CODE39=void 0;var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=t.toUpperCase(),i.mod43&&(t+=function(t){return o[t]}(function(t){for(var e=0,i=0;i<t.length;i++)e+=h(t[i]);return e%43}(t))),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"encode",value:function(){for(var t=l("*"),e=0;e<this.data.length;e++)t+=l(this.data[e])+"0";return{data:t+=l("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),e}(((n=i(2444))&&n.__esModule?n:{default:n}).default),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],s=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function l(t){return function(t){return s[t].toString(2)}(h(t))}function h(t){return o.indexOf(t)}e.CODE39=a},4754:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(6575),a=o(i(6350));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.fontSize=!i.flat&&i.fontSize>10*i.width?10*i.width:i.fontSize,n.guardHeight=i.height+n.fontSize/2+i.textMargin,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(t,e){return this.text.substr(t,e)}},{key:"leftEncode",value:function(t,e){return(0,a.default)(t,e)}},{key:"rightText",value:function(t,e){return this.text.substr(t,e)}},{key:"rightEncode",value:function(t,e){return(0,a.default)(t,e)}},{key:"encodeGuarded",value:function(){var t={fontSize:this.fontSize},e={height:this.guardHeight};return[{data:r.SIDE_BIN,options:e},{data:this.leftEncode(),text:this.leftText(),options:t},{data:r.MIDDLE_BIN,options:e},{data:this.rightEncode(),text:this.rightText(),options:t},{data:r.SIDE_BIN,options:e}]}},{key:"encodeFlat",value:function(){return{data:[r.SIDE_BIN,this.leftEncode(),r.MIDDLE_BIN,this.rightEncode(),r.SIDE_BIN].join(""),text:this.text}}}]),e}(o(i(2444)).default);e.default=s},4250:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0},o=i(6575),s=(n=i(4754))&&n.__esModule?n:{default:n},l=function(t){return(10-t.substr(0,12).split("").map((function(t){return+t})).reduce((function(t,e,i){return i%2?t+3*e:t+e}),0)%10)%10},h=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{12}$/)&&(t+=l(t));var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.lastChar=i.lastChar,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===l(this.data)}},{key:"leftText",value:function(){return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var t=this.data.substr(1,6),i=o.EAN13_STRUCTURE[this.data[0]];return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,t,i)}},{key:"rightText",value:function(){return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var t=this.data.substr(7,6);return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,t,"RRRRRR")}},{key:"encodeGuarded",value:function(){var t=a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(t.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(t.push({data:"00"}),t.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),t}}]),e}(s.default);e.default=h},7570:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(6575),a=o(i(6350));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var t=r.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,a.default)(this.data,t,"01"),text:this.text}}}]),e}(o(i(2444)).default);e.default=s},8075:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(6575),a=o(i(6350));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var t=r.EAN5_STRUCTURE[function(t){return t.split("").map((function(t){return+t})).reduce((function(t,e,i){return i%2?t+9*e:t+3*e}),0)%10}(this.data)];return{data:"1011"+(0,a.default)(this.data,t,"01"),text:this.text}}}]),e}(o(i(2444)).default);e.default=s},8784:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0},o=(n=i(4754))&&n.__esModule?n:{default:n},s=function(t){return(10-t.substr(0,7).split("").map((function(t){return+t})).reduce((function(t,e,i){return i%2?t+e:t+3*e}),0)%10)%10},l=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{7}$/)&&(t+=s(t)),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===s(this.data)}},{key:"leftText",value:function(){return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var t=this.data.substr(0,4);return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,t,"LLLL")}},{key:"rightText",value:function(){return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var t=this.data.substr(4,4);return a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,t,"RRRR")}}]),e}(o.default);e.default=l},7960:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.checksum=s;var r=a(i(6350));function a(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{11}$/)&&(t+=s(t));var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.displayValue=i.displayValue,i.fontSize>10*i.width?n.fontSize=10*i.width:n.fontSize=i.fontSize,n.guardHeight=i.height+n.fontSize/2+i.textMargin,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==s(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var t="";return t+="101",t+=(0,r.default)(this.data.substr(0,6),"LLLLLL"),t+="01010",t+=(0,r.default)(this.data.substr(6,6),"RRRRRR"),{data:t+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var t=[];return this.displayValue&&t.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101"+(0,r.default)(this.data[0],"L"),options:{height:this.guardHeight}}),t.push({data:(0,r.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),t.push({data:"01010",options:{height:this.guardHeight}}),t.push({data:(0,r.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),t.push({data:(0,r.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&t.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),t}}]),e}(a(i(2444)).default);function s(t){var e,i=0;for(e=1;e<11;e+=2)i+=parseInt(t[e]);for(e=0;e<11;e+=2)i+=3*parseInt(t[e]);return(10-i%10)%10}e.default=o},3781:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=s(i(6350)),a=s(i(2444)),o=i(7960);function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var h=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],c=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],u=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));if(n.isValid=!1,-1!==t.search(/^[0-9]{6}$/))n.middleDigits=t,n.upcA=f(t,"0"),n.text=i.text||""+n.upcA[0]+t+n.upcA[n.upcA.length-1],n.isValid=!0;else{if(-1===t.search(/^[01][0-9]{7}$/))return l(n);if(n.middleDigits=t.substring(1,t.length-1),n.upcA=f(n.middleDigits,t[0]),n.upcA[n.upcA.length-1]!==t[t.length-1])return l(n);n.isValid=!0}return n.displayValue=i.displayValue,i.fontSize>10*i.width?n.fontSize=10*i.width:n.fontSize=i.fontSize,n.guardHeight=i.height+n.fontSize/2+i.textMargin,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var t="";return t+="101",t+=this.encodeMiddleDigits(),{data:t+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var t=[];return this.displayValue&&t.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101",options:{height:this.guardHeight}}),t.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),t.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&t.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),t}},{key:"encodeMiddleDigits",value:function(){var t=this.upcA[0],e=this.upcA[this.upcA.length-1],i=c[parseInt(e)][parseInt(t)];return(0,r.default)(this.middleDigits,i)}}]),e}(a.default);function f(t,e){for(var i=parseInt(t[t.length-1]),n=h[i],r="",a=0,s=0;s<n.length;s++){var l=n[s];r+="X"===l?t[a++]:l}return(r=""+e+r)+(0,o.checksum)(r)}e.default=u},6575:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SIDE_BIN="101",e.MIDDLE_BIN="01010",e.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},e.EAN2_STRUCTURE=["LL","LG","GL","GG"],e.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],e.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},6350:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6575);e.default=function(t,e,i){var r=t.split("").map((function(t,i){return n.BINARIES[e[i]]})).map((function(e,i){return e?e[t[i]]:""}));if(i){var a=t.length-1;r=r.map((function(t,e){return e<a?t+i:t}))}return r.join("")}},5726:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UPCE=e.UPC=e.EAN2=e.EAN5=e.EAN8=e.EAN13=void 0;var n=h(i(4250)),r=h(i(8784)),a=h(i(8075)),o=h(i(7570)),s=h(i(7960)),l=h(i(3781));function h(t){return t&&t.__esModule?t:{default:t}}e.EAN13=n.default,e.EAN8=r.default,e.EAN5=a.default,e.EAN2=o.default,e.UPC=s.default,e.UPCE=l.default},1886:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericBarcode=void 0;var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(((n=i(2444))&&n.__esModule?n:{default:n}).default);e.GenericBarcode=a},739:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1135),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var t=this,e=this.data.match(/.{2}/g).map((function(e){return t.encodePair(e)})).join("");return{data:a.START_BIN+e+a.END_BIN,text:this.text}}},{key:"encodePair",value:function(t){var e=a.BINARIES[t[1]];return a.BINARIES[t[0]].split("").map((function(t,i){return("1"===t?"111":"1")+("1"===e[i]?"000":"0")})).join("")}}]),e}(((n=i(2444))&&n.__esModule?n:{default:n}).default);e.default=o},8122:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=(n=i(739))&&n.__esModule?n:{default:n},o=function(t){var e=t.substr(0,13).split("").map((function(t){return parseInt(t,10)})).reduce((function(t,e,i){return t+e*(3-i%2*2)}),0);return 10*Math.ceil(e/10)-e},s=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{13}$/)&&(t+=o(t)),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===o(this.data)}}]),e}(a.default);e.default=s},1135:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.START_BIN="1010",e.END_BIN="11101",e.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},5070:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITF14=e.ITF=void 0;var n=a(i(739)),r=a(i(8122));function a(t){return t&&t.__esModule?t:{default:t}}e.ITF=n.default,e.ITF14=r.default},3551:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"encode",value:function(){for(var t="110",e=0;e<this.data.length;e++){var i=parseInt(this.data[e]).toString(2);i=o(i,4-i.length);for(var n=0;n<i.length;n++)t+="0"==i[n]?"100":"110"}return{data:t+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),e}(((n=i(2444))&&n.__esModule?n:{default:n}).default);function o(t,e){for(var i=0;i<e;i++)t="0"+t;return t}e.default=a},6338:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i(3551))&&n.__esModule?n:{default:n},a=i(6320),o=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t+(0,a.mod10)(t),i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.default);e.default=o},23:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i(3551))&&n.__esModule?n:{default:n},a=i(6320),o=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t+=(0,a.mod10)(t),t+=(0,a.mod10)(t),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.default);e.default=o},6065:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i(3551))&&n.__esModule?n:{default:n},a=i(6320),o=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t+(0,a.mod11)(t),i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.default);e.default=o},7052:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i(3551))&&n.__esModule?n:{default:n},a=i(6320),o=function(t){function e(t,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t+=(0,a.mod11)(t),t+=(0,a.mod10)(t),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.default);e.default=o},6320:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mod10=function(t){for(var e=0,i=0;i<t.length;i++){var n=parseInt(t[i]);(i+t.length)%2==0?e+=n:e+=2*n%10+Math.floor(2*n/10)}return(10-e%10)%10},e.mod11=function(t){for(var e=0,i=[2,3,4,5,6,7],n=0;n<t.length;n++){var r=parseInt(t[t.length-1-n]);e+=i[n%i.length]*r}return(11-e%11)%11}},8248:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MSI1110=e.MSI1010=e.MSI11=e.MSI10=e.MSI=void 0;var n=l(i(3551)),r=l(i(6338)),a=l(i(6065)),o=l(i(23)),s=l(i(7052));function l(t){return t&&t.__esModule?t:{default:t}}e.MSI=n.default,e.MSI10=r.default,e.MSI11=a.default,e.MSI1010=o.default,e.MSI1110=s.default},1133:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.codabar=void 0;var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),0===t.search(/^[0-9\-\$\:\.\+\/]+$/)&&(t="A"+t+"A");var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.toUpperCase(),i));return n.text=n.options.text||n.text.replace(/[A-D]/g,""),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var t=[],e=this.getEncodings(),i=0;i<this.data.length;i++)t.push(e[this.data.charAt(i)]),i!==this.data.length-1&&t.push("0");return{text:this.text,data:t.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(((n=i(2444))&&n.__esModule?n:{default:n}).default);e.codabar=a},9368:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1428),r=i(1509),a=i(5726),o=i(5070),s=i(8248),l=i(2889),h=i(1133),c=i(1886);e.default={CODE39:n.CODE39,CODE128:r.CODE128,CODE128A:r.CODE128A,CODE128B:r.CODE128B,CODE128C:r.CODE128C,EAN13:a.EAN13,EAN8:a.EAN8,EAN5:a.EAN5,EAN2:a.EAN2,UPC:a.UPC,UPCE:a.UPCE,ITF14:o.ITF14,ITF:o.ITF,MSI:s.MSI,MSI10:s.MSI10,MSI11:s.MSI11,MSI1010:s.MSI1010,MSI1110:s.MSI1110,pharmacode:l.pharmacode,codabar:h.codabar,GenericBarcode:c.GenericBarcode}},2889:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pharmacode=void 0;var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.number=parseInt(t,10),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"encode",value:function(){for(var t=this.number,e="";!isNaN(t)&&0!=t;)t%2==0?(e="11100"+e,t=(t-2)/2):(e="100"+e,t=(t-1)/2);return{data:e=e.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(((n=i(2444))&&n.__esModule?n:{default:n}).default);e.pharmacode=a},4205:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=e}return i(t,[{key:"handleCatch",value:function(t){if("InvalidInputException"!==t.name)throw t;if(this.api._options.valid===this.api._defaults.valid)throw t.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(t){try{var e=t.apply(void 0,arguments);return this.api._options.valid(!0),e}catch(t){return this.handleCatch(t),this.api}}}]),t}();e.default=n},8157:(t,e)=>{"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(t,r){i(this,e);var a=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.name="InvalidInputException",a.symbology=t,a.input=r,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return r(e,Error),e}(),o=function(t){function e(){i(this,e);var t=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.name="InvalidElementException",t.message="Not supported type to render on",t}return r(e,Error),e}(),s=function(t){function e(){i(this,e);var t=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.name="NoElementException",t.message="No element to render on.",t}return r(e,Error),e}();e.InvalidInputException=a,e.InvalidElementException=o,e.NoElementException=s},3623:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}},892:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(i(9796)),r=a(i(5099));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e={};for(var i in r.default)r.default.hasOwnProperty(i)&&(t.hasAttribute("jsbarcode-"+i.toLowerCase())&&(e[i]=t.getAttribute("jsbarcode-"+i.toLowerCase())),t.hasAttribute("data-"+i.toLowerCase())&&(e[i]=t.getAttribute("data-"+i.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),(0,n.default)(e)}},8179:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=s(i(892)),a=s(i(2727)),o=i(8157);function s(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){if("string"==typeof e)return function(e){var i=document.querySelectorAll(e);if(0!==i.length){for(var n=[],r=0;r<i.length;r++)n.push(t(i[r]));return n}}(e);if(Array.isArray(e)){for(var i=[],s=0;s<e.length;s++)i.push(t(e[s]));return i}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLImageElement)return l=e,{element:h=document.createElement("canvas"),options:(0,r.default)(l),renderer:a.default.CanvasRenderer,afterRender:function(){l.setAttribute("src",h.toDataURL())}};if(e&&e.nodeName&&"svg"===e.nodeName.toLowerCase()||"undefined"!=typeof SVGElement&&e instanceof SVGElement)return{element:e,options:(0,r.default)(e),renderer:a.default.SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement)return{element:e,options:(0,r.default)(e),renderer:a.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:a.default.CanvasRenderer};if(e&&"object"===(void 0===e?"undefined":n(e))&&!e.nodeName)return{element:e,renderer:a.default.ObjectRenderer};throw new o.InvalidElementException;var l,h}},8165:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=[];return function t(i){if(Array.isArray(i))for(var n=0;n<i.length;n++)t(i[n]);else i.text=i.text||"",i.data=i.data||"",e.push(i)}(t),e}},1490:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.default=function(t,e){return i({},t,e)}},9796:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var i in e)e.hasOwnProperty(i)&&"string"==typeof t[i=e[i]]&&(t[i]=parseInt(t[i],10));return"string"==typeof t.displayValue&&(t.displayValue="false"!=t.displayValue),t}},5099:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},1687:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=(n=i(1490))&&n.__esModule?n:{default:n},o=i(6258),s=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.encodings=i,this.options=n}return r(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var t=0;t<this.encodings.length;t++){var e=(0,a.default)(this.options,this.encodings[t].options);this.drawCanvasBarcode(e,this.encodings[t]),this.drawCanvasText(e,this.encodings[t]),this.moveCanvasDrawing(this.encodings[t])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var t=this.canvas.getContext("2d");t.save(),(0,o.calculateEncodingAttributes)(this.encodings,this.options,t);var e=(0,o.getTotalWidthOfEncodings)(this.encodings),i=(0,o.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=e+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(t.fillStyle=this.options.background,t.fillRect(0,0,this.canvas.width,this.canvas.height)),t.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(t,e){var i,n=this.canvas.getContext("2d"),r=e.data;i="top"==t.textPosition?t.marginTop+t.fontSize+t.textMargin:t.marginTop,n.fillStyle=t.lineColor;for(var a=0;a<r.length;a++){var o=a*t.width+e.barcodePadding;"1"===r[a]?n.fillRect(o,i,t.width,t.height):r[a]&&n.fillRect(o,i,t.width,t.height*r[a])}}},{key:"drawCanvasText",value:function(t,e){var i,n,r=this.canvas.getContext("2d"),a=t.fontOptions+" "+t.fontSize+"px "+t.font;t.displayValue&&(n="top"==t.textPosition?t.marginTop+t.fontSize-t.textMargin:t.height+t.textMargin+t.marginTop+t.fontSize,r.font=a,"left"==t.textAlign||e.barcodePadding>0?(i=0,r.textAlign="left"):"right"==t.textAlign?(i=e.width-1,r.textAlign="right"):(i=e.width/2,r.textAlign="center"),r.fillText(e.text,i,n))}},{key:"moveCanvasDrawing",value:function(t){this.canvas.getContext("2d").translate(t.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),t}();e.default=s},2727:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(i(1687)),r=o(i(5965)),a=o(i(3528));function o(t){return t&&t.__esModule?t:{default:t}}e.default={CanvasRenderer:n.default,SVGRenderer:r.default,ObjectRenderer:a.default}},3528:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.object=e,this.encodings=i,this.options=n}return i(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();e.default=n},6258:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTotalWidthOfEncodings=e.calculateEncodingAttributes=e.getBarcodePadding=e.getEncodingHeight=e.getMaximumHeightOfEncodings=void 0;var n,r=(n=i(1490))&&n.__esModule?n:{default:n};function a(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function o(t,e,i){if(i.displayValue&&e<t){if("center"==i.textAlign)return Math.floor((t-e)/2);if("left"==i.textAlign)return 0;if("right"==i.textAlign)return Math.floor(t-e)}return 0}function s(t,e,i){var n;if(i)n=i;else{if("undefined"==typeof document)return 0;n=document.createElement("canvas").getContext("2d")}n.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var r=n.measureText(t);return r?r.width:0}e.getMaximumHeightOfEncodings=function(t){for(var e=0,i=0;i<t.length;i++)t[i].height>e&&(e=t[i].height);return e},e.getEncodingHeight=a,e.getBarcodePadding=o,e.calculateEncodingAttributes=function(t,e,i){for(var n=0;n<t.length;n++){var l,h=t[n],c=(0,r.default)(e,h.options);l=c.displayValue?s(h.text,c,i):0;var u=h.data.length*c.width;h.width=Math.ceil(Math.max(l,u)),h.height=a(h,c),h.barcodePadding=o(l,u,c)}},e.getTotalWidthOfEncodings=function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i].width;return e}},5965:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=(n=i(1490))&&n.__esModule?n:{default:n},o=i(6258),s="http://www.w3.org/2000/svg",l=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.svg=e,this.encodings=i,this.options=n,this.document=n.xmlDocument||document}return r(t,[{key:"render",value:function(){var t=this.options.marginLeft;this.prepareSVG();for(var e=0;e<this.encodings.length;e++){var i=this.encodings[e],n=(0,a.default)(this.options,i.options),r=this.createGroup(t,n.marginTop,this.svg);this.setGroupOptions(r,n),this.drawSvgBarcode(r,n,i),this.drawSVGText(r,n,i),t+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,o.calculateEncodingAttributes)(this.encodings,this.options);var t=(0,o.getTotalWidthOfEncodings)(this.encodings),e=(0,o.getMaximumHeightOfEncodings)(this.encodings),i=t+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,e),this.options.background&&this.drawRect(0,0,i,e,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(t,e,i){var n,r=i.data;n="top"==e.textPosition?e.fontSize+e.textMargin:0;for(var a=0,o=0,s=0;s<r.length;s++)o=s*e.width+i.barcodePadding,"1"===r[s]?a++:a>0&&(this.drawRect(o-e.width*a,n,e.width*a,e.height,t),a=0);a>0&&this.drawRect(o-e.width*(a-1),n,e.width*a,e.height,t)}},{key:"drawSVGText",value:function(t,e,i){var n,r,a=this.document.createElementNS(s,"text");e.displayValue&&(a.setAttribute("style","font:"+e.fontOptions+" "+e.fontSize+"px "+e.font),r="top"==e.textPosition?e.fontSize-e.textMargin:e.height+e.textMargin+e.fontSize,"left"==e.textAlign||i.barcodePadding>0?(n=0,a.setAttribute("text-anchor","start")):"right"==e.textAlign?(n=i.width-1,a.setAttribute("text-anchor","end")):(n=i.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",n),a.setAttribute("y",r),a.appendChild(this.document.createTextNode(i.text)),t.appendChild(a))}},{key:"setSvgAttributes",value:function(t,e){var i=this.svg;i.setAttribute("width",t+"px"),i.setAttribute("height",e+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+t+" "+e),i.setAttribute("xmlns",s),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(t,e,i){var n=this.document.createElementNS(s,"g");return n.setAttribute("transform","translate("+t+", "+e+")"),i.appendChild(n),n}},{key:"setGroupOptions",value:function(t,e){t.setAttribute("style","fill:"+e.lineColor+";")}},{key:"drawRect",value:function(t,e,i,n,r){var a=this.document.createElementNS(s,"rect");return a.setAttribute("x",t),a.setAttribute("y",e),a.setAttribute("width",i),a.setAttribute("height",n),r.appendChild(a),a}}]),t}();e.default=l},7583:(t,e,i)=>{const n=i(1333),r=i(157),a=i(7899),o=i(6756);function s(t,e,i,a,o){const s=[].slice.call(arguments,1),l=s.length,h="function"==typeof s[l-1];if(!h&&!n())throw new Error("Callback required as last argument");if(!h){if(l<1)throw new Error("Too few arguments provided");return 1===l?(i=e,e=a=void 0):2!==l||e.getContext||(a=i,i=e,e=void 0),new Promise((function(n,o){try{const o=r.create(i,a);n(t(o,e,a))}catch(t){o(t)}}))}if(l<2)throw new Error("Too few arguments provided");2===l?(o=i,i=e,e=a=void 0):3===l&&(e.getContext&&void 0===o?(o=a,a=void 0):(o=a,a=i,i=e,e=void 0));try{const n=r.create(i,a);o(null,t(n,e,a))}catch(t){o(t)}}e.create=r.create,e.toCanvas=s.bind(null,a.render),e.toDataURL=s.bind(null,a.renderToDataURL),e.toString=s.bind(null,(function(t,e,i){return o.render(t,i)}))},1333:t=>{t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6421:(t,e,i)=>{const n=i(6886).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,i=n(t),r=145===i?26:2*Math.ceil((i-13)/(2*e-2)),a=[i-7];for(let t=1;t<e-1;t++)a[t]=a[t-1]-r;return a.push(6),a.reverse()},e.getPositions=function(t){const i=[],n=e.getRowColCoords(t),r=n.length;for(let t=0;t<r;t++)for(let e=0;e<r;e++)0===t&&0===e||0===t&&e===r-1||t===r-1&&0===e||i.push([n[t],n[e]]);return i}},1433:(t,e,i)=>{const n=i(208),r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(t){this.mode=n.ALPHANUMERIC,this.data=t}a.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let i=45*r.indexOf(this.data[e]);i+=r.indexOf(this.data[e+1]),t.put(i,11)}this.data.length%2&&t.put(r.indexOf(this.data[e]),6)},t.exports=a},9899:t=>{function e(){this.buffer=[],this.length=0}e.prototype={get:function(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=e},8820:t=>{function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}e.prototype.set=function(t,e,i,n){const r=t*this.size+e;this.data[r]=i,n&&(this.reservedBit[r]=!0)},e.prototype.get=function(t,e){return this.data[t*this.size+e]},e.prototype.xor=function(t,e,i){this.data[t*this.size+e]^=i},e.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=e},5822:(t,e,i)=>{const n=i(208);function r(t){this.mode=n.BYTE,this.data="string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t)}r.getBitsLength=function(t){return 8*t},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){for(let e=0,i=this.data.length;e<i;e++)t.put(this.data[e],8)},t.exports=r},7518:(t,e,i)=>{const n=i(9953),r=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case n.L:return r[4*(t-1)+0];case n.M:return r[4*(t-1)+1];case n.Q:return r[4*(t-1)+2];case n.H:return r[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case n.L:return a[4*(t-1)+0];case n.M:return a[4*(t-1)+1];case n.Q:return a[4*(t-1)+2];case n.H:return a[4*(t-1)+3];default:return}}},9953:(t,e)=>{e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,i){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return i}}},7756:(t,e,i)=>{const n=i(6886).getSymbolSize;e.getPositions=function(t){const e=n(t);return[[0,0],[e-7,0],[0,e-7]]}},4565:(t,e,i)=>{const n=i(6886),r=n.getBCHDigit(1335);e.getEncodedBits=function(t,e){const i=t.bit<<3|e;let a=i<<10;for(;n.getBCHDigit(a)-r>=0;)a^=1335<<n.getBCHDigit(a)-r;return 21522^(i<<10|a)}},2731:(t,e)=>{const i=new Uint8Array(512),n=new Uint8Array(256);!function(){let t=1;for(let e=0;e<255;e++)i[e]=t,n[t]=e,t<<=1,256&t&&(t^=285);for(let t=255;t<512;t++)i[t]=i[t-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return n[t]},e.exp=function(t){return i[t]},e.mul=function(t,e){return 0===t||0===e?0:i[n[t]+n[e]]}},4861:(t,e,i)=>{const n=i(208),r=i(6886);function a(t){this.mode=n.KANJI,this.data=t}a.getBitsLength=function(t){return 13*t},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let i=r.toSJIS(this.data[e]);if(i>=33088&&i<=40956)i-=33088;else{if(!(i>=57408&&i<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");i-=49472}i=192*(i>>>8&255)+(255&i),t.put(i,13)}},t.exports=a},1332:(t,e)=>{e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function i(t,i,n){switch(t){case e.Patterns.PATTERN000:return(i+n)%2==0;case e.Patterns.PATTERN001:return i%2==0;case e.Patterns.PATTERN010:return n%3==0;case e.Patterns.PATTERN011:return(i+n)%3==0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(n/3))%2==0;case e.Patterns.PATTERN101:return i*n%2+i*n%3==0;case e.Patterns.PATTERN110:return(i*n%2+i*n%3)%2==0;case e.Patterns.PATTERN111:return(i*n%3+(i+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){const e=t.size;let i=0,n=0,r=0,a=null,o=null;for(let s=0;s<e;s++){n=r=0,a=o=null;for(let l=0;l<e;l++){let e=t.get(s,l);e===a?n++:(n>=5&&(i+=n-5+3),a=e,n=1),e=t.get(l,s),e===o?r++:(r>=5&&(i+=r-5+3),o=e,r=1)}n>=5&&(i+=n-5+3),r>=5&&(i+=r-5+3)}return i},e.getPenaltyN2=function(t){const e=t.size;let i=0;for(let n=0;n<e-1;n++)for(let r=0;r<e-1;r++){const e=t.get(n,r)+t.get(n,r+1)+t.get(n+1,r)+t.get(n+1,r+1);4!==e&&0!==e||i++}return 3*i},e.getPenaltyN3=function(t){const e=t.size;let i=0,n=0,r=0;for(let a=0;a<e;a++){n=r=0;for(let o=0;o<e;o++)n=n<<1&2047|t.get(a,o),o>=10&&(1488===n||93===n)&&i++,r=r<<1&2047|t.get(o,a),o>=10&&(1488===r||93===r)&&i++}return 40*i},e.getPenaltyN4=function(t){let e=0;const i=t.data.length;for(let n=0;n<i;n++)e+=t.data[n];return 10*Math.abs(Math.ceil(100*e/i/5)-10)},e.applyMask=function(t,e){const n=e.size;for(let r=0;r<n;r++)for(let a=0;a<n;a++)e.isReserved(a,r)||e.xor(a,r,i(t,a,r))},e.getBestMask=function(t,i){const n=Object.keys(e.Patterns).length;let r=0,a=1/0;for(let o=0;o<n;o++){i(o),e.applyMask(o,t);const n=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(o,t),n<a&&(a=n,r=o)}return r}},208:(t,e,i)=>{const n=i(1878),r=i(7044);e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!n.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return r.testNumeric(t)?e.NUMERIC:r.testAlphanumeric(t)?e.ALPHANUMERIC:r.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,i){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return i}}},4357:(t,e,i)=>{const n=i(208);function r(t){this.mode=n.NUMERIC,this.data=t.toString()}r.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(t){let e,i,n;for(e=0;e+3<=this.data.length;e+=3)i=this.data.substr(e,3),n=parseInt(i,10),t.put(n,10);const r=this.data.length-e;r>0&&(i=this.data.substr(e),n=parseInt(i,10),t.put(n,3*r+1))},t.exports=r},4713:(t,e,i)=>{const n=i(2731);e.mul=function(t,e){const i=new Uint8Array(t.length+e.length-1);for(let r=0;r<t.length;r++)for(let a=0;a<e.length;a++)i[r+a]^=n.mul(t[r],e[a]);return i},e.mod=function(t,e){let i=new Uint8Array(t);for(;i.length-e.length>=0;){const t=i[0];for(let r=0;r<e.length;r++)i[r]^=n.mul(e[r],t);let r=0;for(;r<i.length&&0===i[r];)r++;i=i.slice(r)}return i},e.generateECPolynomial=function(t){let i=new Uint8Array([1]);for(let r=0;r<t;r++)i=e.mul(i,new Uint8Array([1,n.exp(r)]));return i}},157:(t,e,i)=>{const n=i(6886),r=i(9953),a=i(9899),o=i(8820),s=i(6421),l=i(7756),h=i(1332),c=i(7518),u=i(4764),f=i(1427),d=i(4565),p=i(208),g=i(9801);function v(t,e,i){const n=t.size,r=d.getEncodedBits(e,i);let a,o;for(a=0;a<15;a++)o=1==(r>>a&1),a<6?t.set(a,8,o,!0):a<8?t.set(a+1,8,o,!0):t.set(n-15+a,8,o,!0),a<8?t.set(8,n-a-1,o,!0):a<9?t.set(8,15-a-1+1,o,!0):t.set(8,15-a-1,o,!0);t.set(n-8,8,1,!0)}function _(t,e,i,r){let d;if(Array.isArray(t))d=g.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let n=e;if(!n){const e=g.rawSplit(t);n=f.getBestVersionForData(e,i)}d=g.fromString(t,n||40)}}const _=f.getBestVersionForData(d,i);if(!_)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<_)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+_+".\n")}else e=_;const y=function(t,e,i){const r=new a;i.forEach((function(e){r.put(e.mode.bit,4),r.put(e.getLength(),p.getCharCountIndicator(e.mode,t)),e.write(r)}));const o=8*(n.getSymbolTotalCodewords(t)-c.getTotalCodewordsCount(t,e));for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);const s=(o-r.getLengthInBits())/8;for(let t=0;t<s;t++)r.put(t%2?17:236,8);return function(t,e,i){const r=n.getSymbolTotalCodewords(e),a=r-c.getTotalCodewordsCount(e,i),o=c.getBlocksCount(e,i),s=o-r%o,l=Math.floor(r/o),h=Math.floor(a/o),f=h+1,d=l-h,p=new u(d);let g=0;const v=new Array(o),_=new Array(o);let y=0;const E=new Uint8Array(t.buffer);for(let t=0;t<o;t++){const e=t<s?h:f;v[t]=E.slice(g,g+e),_[t]=p.encode(v[t]),g+=e,y=Math.max(y,e)}const w=new Uint8Array(r);let m,b,T=0;for(m=0;m<y;m++)for(b=0;b<o;b++)m<v[b].length&&(w[T++]=v[b][m]);for(m=0;m<d;m++)for(b=0;b<o;b++)w[T++]=_[b][m];return w}(r,t,e)}(e,i,d),E=n.getSymbolSize(e),w=new o(E);return function(t,e){const i=t.size,n=l.getPositions(e);for(let e=0;e<n.length;e++){const r=n[e][0],a=n[e][1];for(let e=-1;e<=7;e++)if(!(r+e<=-1||i<=r+e))for(let n=-1;n<=7;n++)a+n<=-1||i<=a+n||(e>=0&&e<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===e||6===e)||e>=2&&e<=4&&n>=2&&n<=4?t.set(r+e,a+n,!0,!0):t.set(r+e,a+n,!1,!0))}}(w,e),function(t){const e=t.size;for(let i=8;i<e-8;i++){const e=i%2==0;t.set(i,6,e,!0),t.set(6,i,e,!0)}}(w),function(t,e){const i=s.getPositions(e);for(let e=0;e<i.length;e++){const n=i[e][0],r=i[e][1];for(let e=-2;e<=2;e++)for(let i=-2;i<=2;i++)-2===e||2===e||-2===i||2===i||0===e&&0===i?t.set(n+e,r+i,!0,!0):t.set(n+e,r+i,!1,!0)}}(w,e),v(w,i,0),e>=7&&function(t,e){const i=t.size,n=f.getEncodedBits(e);let r,a,o;for(let e=0;e<18;e++)r=Math.floor(e/3),a=e%3+i-8-3,o=1==(n>>e&1),t.set(r,a,o,!0),t.set(a,r,o,!0)}(w,e),function(t,e){const i=t.size;let n=-1,r=i-1,a=7,o=0;for(let s=i-1;s>0;s-=2)for(6===s&&s--;;){for(let i=0;i<2;i++)if(!t.isReserved(r,s-i)){let n=!1;o<e.length&&(n=1==(e[o]>>>a&1)),t.set(r,s-i,n),a--,-1===a&&(o++,a=7)}if(r+=n,r<0||i<=r){r-=n,n=-n;break}}}(w,y),isNaN(r)&&(r=h.getBestMask(w,v.bind(null,w,i))),h.applyMask(r,w),v(w,i,r),{modules:w,version:e,errorCorrectionLevel:i,maskPattern:r,segments:d}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let i,a,o=r.M;return void 0!==e&&(o=r.from(e.errorCorrectionLevel,r.M),i=f.from(e.version),a=h.from(e.maskPattern),e.toSJISFunc&&n.setToSJISFunction(e.toSJISFunc)),_(t,i,o,a)}},4764:(t,e,i)=>{const n=i(4713);function r(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}r.prototype.initialize=function(t){this.degree=t,this.genPoly=n.generateECPolynomial(this.degree)},r.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const i=n.mod(e,this.genPoly),r=this.degree-i.length;if(r>0){const t=new Uint8Array(this.degree);return t.set(i,r),t}return i},t.exports=r},7044:(t,e)=>{const i="[0-9]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(r,"g"),e.NUMERIC=new RegExp(i,"g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const a=new RegExp("^"+n+"$"),o=new RegExp("^"+i+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return a.test(t)},e.testNumeric=function(t){return o.test(t)},e.testAlphanumeric=function(t){return s.test(t)}},9801:(t,e,i)=>{const n=i(208),r=i(4357),a=i(1433),o=i(5822),s=i(4861),l=i(7044),h=i(6886),c=i(3939);function u(t){return unescape(encodeURIComponent(t)).length}function f(t,e,i){const n=[];let r;for(;null!==(r=t.exec(i));)n.push({data:r[0],index:r.index,mode:e,length:r[0].length});return n}function d(t){const e=f(l.NUMERIC,n.NUMERIC,t),i=f(l.ALPHANUMERIC,n.ALPHANUMERIC,t);let r,a;return h.isKanjiModeEnabled()?(r=f(l.BYTE,n.BYTE,t),a=f(l.KANJI,n.KANJI,t)):(r=f(l.BYTE_KANJI,n.BYTE,t),a=[]),e.concat(i,r,a).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function p(t,e){switch(e){case n.NUMERIC:return r.getBitsLength(t);case n.ALPHANUMERIC:return a.getBitsLength(t);case n.KANJI:return s.getBitsLength(t);case n.BYTE:return o.getBitsLength(t)}}function g(t,e){let i;const l=n.getBestModeForData(t);if(i=n.from(e,l),i!==n.BYTE&&i.bit<l.bit)throw new Error('"'+t+'" cannot be encoded with mode '+n.toString(i)+".\n Suggested mode is: "+n.toString(l));switch(i!==n.KANJI||h.isKanjiModeEnabled()||(i=n.BYTE),i){case n.NUMERIC:return new r(t);case n.ALPHANUMERIC:return new a(t);case n.KANJI:return new s(t);case n.BYTE:return new o(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(g(e,null)):e.data&&t.push(g(e.data,e.mode)),t}),[])},e.fromString=function(t,i){const r=function(t){const e=[];for(let i=0;i<t.length;i++){const r=t[i];switch(r.mode){case n.NUMERIC:e.push([r,{data:r.data,mode:n.ALPHANUMERIC,length:r.length},{data:r.data,mode:n.BYTE,length:r.length}]);break;case n.ALPHANUMERIC:e.push([r,{data:r.data,mode:n.BYTE,length:r.length}]);break;case n.KANJI:e.push([r,{data:r.data,mode:n.BYTE,length:u(r.data)}]);break;case n.BYTE:e.push([{data:r.data,mode:n.BYTE,length:u(r.data)}])}}return e}(d(t,h.isKanjiModeEnabled())),a=function(t,e){const i={},r={start:{}};let a=["start"];for(let o=0;o<t.length;o++){const s=t[o],l=[];for(let t=0;t<s.length;t++){const h=s[t],c=""+o+t;l.push(c),i[c]={node:h,lastCount:0},r[c]={};for(let t=0;t<a.length;t++){const o=a[t];i[o]&&i[o].node.mode===h.mode?(r[o][c]=p(i[o].lastCount+h.length,h.mode)-p(i[o].lastCount,h.mode),i[o].lastCount+=h.length):(i[o]&&(i[o].lastCount=h.length),r[o][c]=p(h.length,h.mode)+4+n.getCharCountIndicator(h.mode,e))}}a=l}for(let t=0;t<a.length;t++)r[a[t]].end=0;return{map:r,table:i}}(r,i),o=c.find_path(a.map,"start","end"),s=[];for(let t=1;t<o.length-1;t++)s.push(a.table[o[t]].node);return e.fromArray(s.reduce((function(t,e){const i=t.length-1>=0?t[t.length-1]:null;return i&&i.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[]))},e.rawSplit=function(t){return e.fromArray(d(t,h.isKanjiModeEnabled()))}},6886:(t,e)=>{let i;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return n[t]},e.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');i=t},e.isKanjiModeEnabled=function(){return void 0!==i},e.toSJIS=function(t){return i(t)}},1878:(t,e)=>{e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},1427:(t,e,i)=>{const n=i(6886),r=i(7518),a=i(9953),o=i(208),s=i(1878),l=n.getBCHDigit(7973);function h(t,e){return o.getCharCountIndicator(t,e)+4}function c(t,e){let i=0;return t.forEach((function(t){const n=h(t.mode,e);i+=n+t.getBitsLength()})),i}e.from=function(t,e){return s.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,i){if(!s.isValid(t))throw new Error("Invalid QR Code version");void 0===i&&(i=o.BYTE);const a=8*(n.getSymbolTotalCodewords(t)-r.getTotalCodewordsCount(t,e));if(i===o.MIXED)return a;const l=a-h(i,t);switch(i){case o.NUMERIC:return Math.floor(l/10*3);case o.ALPHANUMERIC:return Math.floor(l/11*2);case o.KANJI:return Math.floor(l/13);case o.BYTE:default:return Math.floor(l/8)}},e.getBestVersionForData=function(t,i){let n;const r=a.from(i,a.M);if(Array.isArray(t)){if(t.length>1)return function(t,i){for(let n=1;n<=40;n++)if(c(t,n)<=e.getCapacity(n,i,o.MIXED))return n}(t,r);if(0===t.length)return 1;n=t[0]}else n=t;return function(t,i,n){for(let r=1;r<=40;r++)if(i<=e.getCapacity(r,n,t))return r}(n.mode,n.getLength(),r)},e.getEncodedBits=function(t){if(!s.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;n.getBCHDigit(e)-l>=0;)e^=7973<<n.getBCHDigit(e)-l;return t<<12|e}},7899:(t,e,i)=>{const n=i(2726);e.render=function(t,e,i){let r=i,a=e;void 0!==r||e&&e.getContext||(r=e,e=void 0),e||(a=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),r=n.getOptions(r);const o=n.getImageWidth(t.modules.size,r),s=a.getContext("2d"),l=s.createImageData(o,o);return n.qrToImageData(l.data,t,r),function(t,e,i){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=i,e.width=i,e.style.height=i+"px",e.style.width=i+"px"}(s,a,o),s.putImageData(l,0,0),a},e.renderToDataURL=function(t,i,n){let r=n;void 0!==r||i&&i.getContext||(r=i,i=void 0),r||(r={});const a=e.render(t,i,r),o=r.type||"image/png",s=r.rendererOpts||{};return a.toDataURL(o,s.quality)}},6756:(t,e,i)=>{const n=i(2726);function r(t,e){const i=t.a/255,n=e+'="'+t.hex+'"';return i<1?n+" "+e+'-opacity="'+i.toFixed(2).slice(1)+'"':n}function a(t,e,i){let n=t+e;return void 0!==i&&(n+=" "+i),n}e.render=function(t,e,i){const o=n.getOptions(e),s=t.modules.size,l=t.modules.data,h=s+2*o.margin,c=o.color.light.a?"<path "+r(o.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",u="<path "+r(o.color.dark,"stroke")+' d="'+function(t,e,i){let n="",r=0,o=!1,s=0;for(let l=0;l<t.length;l++){const h=Math.floor(l%e),c=Math.floor(l/e);h||o||(o=!0),t[l]?(s++,l>0&&h>0&&t[l-1]||(n+=o?a("M",h+i,.5+c+i):a("m",r,0),r=0,o=!1),h+1<e&&t[l+1]||(n+=a("h",s),s=0)):r++}return n}(l,s,o.margin)+'"/>',f='viewBox="0 0 '+h+" "+h+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+f+' shape-rendering="crispEdges">'+c+u+"</svg>\n";return"function"==typeof i&&i(null,d),d}},2726:(t,e)=>{function i(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");const i=parseInt(e.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:255&i,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,r=t.scale||4;return{width:n,scale:n?4:r,margin:e,color:{dark:i(t.color.dark||"#000000ff"),light:i(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,i){const n=e.getScale(t,i);return Math.floor((t+2*i.margin)*n)},e.qrToImageData=function(t,i,n){const r=i.modules.size,a=i.modules.data,o=e.getScale(r,n),s=Math.floor((r+2*n.margin)*o),l=n.margin*o,h=[n.color.light,n.color.dark];for(let e=0;e<s;e++)for(let i=0;i<s;i++){let c=4*(e*s+i),u=n.color.light;e>=l&&i>=l&&e<s-l&&i<s-l&&(u=h[a[Math.floor((e-l)/o)*r+Math.floor((i-l)/o)]?1:0]),t[c++]=u.r,t[c++]=u.g,t[c++]=u.b,t[c]=u.a}}}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,i),a.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var a=function(){function e(){t(this,e)}return n(e,null,[{key:"getDefaultFontFamily",value:function(){return this.FontFamilys[0]}},{key:"getDefaultFontSize",value:function(){return this.FontSizes[9]}},{key:"getDefaultFontColor",value:function(){return"#000000"}}]),e}();function o(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),i}r(a,"SYS_SHOW_MODEL",1),r(a,"SYS_ZOOM",1),r(a,"SYS_STANDARD_RATIO",.1),r(a,"SYS_SCROLL_RED",30),r(a,"SYS_STACK_LEN",10),r(a,"COLOR_LINEEEL","#696969"),r(a,"COLOR_FIELD","#ff0000"),r(a,"COLOR_PAGEBORDER","#000000"),r(a,"COLOR_HEADER_LINE","#000000"),r(a,"COLOR_PAGE_SEG","#4E4E4F"),r(a,"COLOR_BINDLINE","#696969"),r(a,"COLOR_CURSOR","#000000"),r(a,"COLOR_SELECT_BG","#A8CDF1"),r(a,"COLOR_COMP_BG","#C1CDC1"),r(a,"COLOR_BLOCK_DRAG","#000000"),r(a,"COLOR_BLOCK_BORDER","#838B83"),r(a,"COLOR_DIVDER","#000000"),r(a,"COLOR_DEFAULT_LINE","#000000"),r(a,"WIDTH_LINEEEL",10),r(a,"WIDTH_FIELD",10),r(a,"WIDTH_PAGEBORDER",10),r(a,"WIDTH_HEADER_LINE",10),r(a,"WIDTH_PAGE_SEG",20),r(a,"WIDTH_BINDLINE",10),r(a,"WIDTH_CURSOR",10),r(a,"WIDTH_UNDERLINE",10),r(a,"WIDTH_STRIKETHROUGH",10),r(a,"WIDTH_DIVDER_1",10),r(a,"WIDTH_LINE_DEFUALT",10),r(a,"LEN_BINDLINE",400),r(a,"LEN_ANCHOR",90),r(a,"LEN_BLOCK_DRAG",60),r(a,"LEN_GAP_DRAG",30),r(a,"LINE_DASHED_1",[20,20]),r(a,"LINE_DASHED_2",[60,20]),r(a,"LINE_DASHED_3",[60,20,20,20]),r(a,"LINE_SOLID",[]),r(a,"PaperTypes",[{width:2100,height:2970,value:"A4",name:"A4"},{width:1480,height:2100,value:"A5",name:"A5"},{width:1760,height:2500,value:"B5",name:"B5"},{width:1250,height:1760,value:"B6",name:"B6"},{width:2160,height:2790,value:"Letter",name:"信纸"},{width:2160,height:3560,value:"Legal",name:"法律用纸"},{width:2790,height:4320,value:"Tabloid",name:"报纸"}]),r(a,"PaperMargins",[{topBottom:254,leftRight:318,headerFooter:150,name:"普通"},{topBottom:127,leftRight:127,headerFooter:47,name:"窄"},{topBottom:254,leftRight:191,headerFooter:150,name:"适中"},{topBottom:254,leftRight:508,headerFooter:150,name:"宽"}]),r(a,"FontFamilys",[{name:"宋体",value:"SimSun"},{name:"黑体",value:"SimHei"},{name:"仿宋",value:"FangSong"},{name:"楷体",value:"KaiTi"},{name:"微软雅黑",value:"Microsoft Yahei"},{name:"Arial",value:"Arial"},{name:"Tahoma",value:"Tahoma"},{name:"Times",value:"Times"},{name:"serif",value:"serif"}]),r(a,"FontSizes",[{name:"初号",value:"560",pt:"42"},{name:"小初",value:"480",pt:"36"},{name:"一号",value:"347",pt:"26"},{name:"小一",value:"320",pt:"24"},{name:"二号",value:"293",pt:"22"},{name:"小二",value:"240",pt:"18"},{name:"三号",value:"213",pt:"16"},{name:"小三",value:"200",pt:"15"},{name:"四号",value:"187",pt:"14"},{name:"小四",value:"160",pt:"12"},{name:"五号",value:"133",pt:"10.5"},{name:"小五",value:"120",pt:"9"}]),r(a,"DatePatterns",["yyyy年MM月dd日","MM月dd日","yyyy年MM月dd日WWW","yyyy-MM-dd","MM-dd","yyyy/MM/dd","MM/dd"]),r(a,"PAPER_ROTATION_PORTRAIT","portrait"),r(a,"PAPER_ROTATION_LANDSCAPE","landscape"),r(a,"PaperDirections",[{value:a.PAPER_ROTATION_PORTRAIT,name:"纵向"},{value:a.PAPER_ROTATION_LANDSCAPE,name:"横向"}]),r(a,"PageNumPatterns",[{value:"{n}",name:"{n}"},{value:"{n}/{c}",name:"{n}/{c}"},{value:"第{n}页",name:"第{n}页"},{value:"第{n}页/共{c}页",name:"第{n}页/共{c}页"},{value:"page {n} of {c}",name:"page {n} of {c}"}]),r(a,"CONTENT_PART_HEADER","1"),r(a,"CONTENT_PART_BODY","2"),r(a,"CONTENT_PART_FOOTER","3"),r(a,"KEY_ARROWLEFT","ArrowLeft"),r(a,"KEY_ARROWRIGHT","ArrowRight"),r(a,"KEY_ARROWUP","ArrowUp"),r(a,"KEY_ARROWDOWN","ArrowDown"),r(a,"KEY_DELETE","Delete"),r(a,"KEY_BACKSPACE","Backspace"),r(a,"KEY_TAB","Tab"),r(a,"KEY_ENTER","Enter"),r(a,"KEY_C","c"),r(a,"KEY_B","b"),r(a,"KEY_ESC","Escape"),r(a,"ALIGN_LEFT","left"),r(a,"ALIGN_CENTER","center"),r(a,"ALIGN_RIGHT","right"),r(a,"ALIGN_BOTH","both"),r(a,"ALIGN_DISPERSED","dispersed"),r(a,"INDENT_TYPE_NULL","0"),r(a,"INDENT_TYPE_TEXT","1"),r(a,"INDENT_TYPE_HANG","2"),r(a,"INDENT_VALUE_MAX",30),r(a,"INDENT_VALUE_MIN",0),r(a,"SCRIPT_NOR","nor"),r(a,"SCRIPT_SUB","sub"),r(a,"SCRIPT_SUP","sup"),r(a,"STYLE_LINE_HEIGHT",220),r(a,"STYLE_ANCHOR_WIDTH",20),r(a,"STYLE_FIELD_BORDER_WIDTH",10),r(a,"TABLE_FIELD_PADDING_H",40),r(a,"TABLE_FIELD_PADDING_V",20),r(a,"TABLE_FIELD_BORDER_COLOR","#000000"),r(a,"TABLE_FIELD_BORDER_WIDTH",10),r(a,"TABLE_FIELD_BORDER_SPAC",30),r(a,"TABLE_FIELD_MIN_WIDTH",60),r(a,"TABLE_FIELD_MIN_HEIGHT",220),r(a,"TABLE_BORER_DRAG_RED",20),r(a,"TABLE_BORDER_TOP","top"),r(a,"TABLE_BORDER_BOT","bot"),r(a,"TABLE_BORDER_LEFT","left"),r(a,"TABLE_BORDER_RIGHT","right"),r(a,"TABLE_BORDER_INSIDE","inside"),r(a,"TABLE_INSERT_ABOVE","above"),r(a,"TABLE_INSERT_BELOW","below"),r(a,"TABLE_INSERT_LEFT","left"),r(a,"TABLE_INSERT_RIGHT","right"),r(a,"CLICK_TYPE_ELEMENT","element"),r(a,"CLICK_TYPE_TABLE_BORDER","table-border"),r(a,"CLICK_TYPE_IMAGE_BLOCK","image"),r(a,"CLICK_TYPE_OBJECT","object"),r(a,"SELECT_POINT_BEG","b"),r(a,"SELECT_POINT_END","e"),r(a,"SELECT_EXT_TYPE_U","u"),r(a,"SELECT_EXT_TYPE_D","d"),r(a,"SELECT_EXT_TYPE_L","l"),r(a,"SELECT_EXT_TYPE_R","r"),r(a,"DRAG_VIEW_LINE_H","lh"),r(a,"DRAG_VIEW_LINE_V","lv"),r(a,"DRAG_VIEW_IMAGE","img"),r(a,"DRAG_VIEW_OBJECT","obj"),r(a,"DRAG_VIEW_NONE","0"),r(a,"MIN_BLOCK_WIDTH",400),r(a,"MIN_BLOCK_HEIGHT",400),r(a,"RELATIVE_UP","up"),r(a,"RELATIVE_DOWN","down"),r(a,"SYMBOL_SPECIAL","9651,9661,9675,9671,9633,9734,9655,9665,9828,9825,9826,9831,9650,9660,9679,9670,9632,9733,9654,9664,9824,9829,9830,9827,9788,9789,9792,9786,9680,9745,8730,10004,9756,9757,9758,13250,9728,9790,9794,9785,9681,9746,215,10008,9754,9759,9755,13272,9642,8226,8229,8230,9601,9602,9603,9604,9605,9606,9607,9608,8759,8251,9617,9618,9619,9615,9614,9613,9612,9611,9610,9609;9833,9834,9835,9836,167,12348,9678,164,1758,8471,174,169,9837,9839,9838,8214,182,21325,21328,9644,12307,8481,8482,13255,9740,9741,9739,9738,12927,9710,9706,9684,9685,64,12849,8470,9800,9801,9802,9803,9804,9806,9807,9808,9809,9811,9810,9805;8598,8593,8599,9640,9636,9639,9700,12964,9701,9780,9778,9783,8592,12963,8594,9641,9638,9637,12967,12965,12968,9779,9775,9777,8601,8595,8600,9643,9672,9635,9699,12966,9698,9782,9781,9776,8597,8596,8881,8923,8908,8922,8880,172,65506,9620,8224,8225;42,65290,10034,10056,10057,10047,10048,10051,10049,9784,10006,10010,10026,10084,4326,10086,10087,3007,8362,9998,9997,9996,9985,9988,9729,9730,9731,9732,9832,9735,9736,9761,10167,8889,9993,9743,9762,9763,9760,9774,12292,10169,9769,2960,9742,9992,12320,1769,10009,10015,9764,9765,9766,9767,9768,9771,9772,9823,9817,9820,9814,9822,9816,9821,9815,9819,9813,9818,9812"),r(a,"SYMBOL_PUNCTUATION","65292,12290,65311,65281,65306,65307,183,8230,126,38,64,35,44,46,63,33,58,59,12289,8230-8230,65374,65286,65312,65283,8220,8221,8216,8217,12317,12318,32,34,39,65282,65287,180,65287,40,41,12304,12305,12298,12299,65308,65310,65117,65118,60,62,40,41,91,93,171,187,8249,8250,12308,12309,12296,12297,123,125,65339,65341,12300,12301,65371,65373,12310,12311,12302,12303,65077,65079,65081,65087,65085,65089,65091,65083,65047,47,124,65078,65080,65082,65088,65086,65090,65092,65084,65048,65295,65372,65340,95,65343,65103,65101,65102,96,166,161,94,173,168,714,175,65507,65099,65097,65098,715,65076,191,711"),r(a,"SYMBOL_PINYIN","257,225,462,224,333,243,466,242,275,233,283,232,299,237,236,464,363,250,468,249,470,472,474,476"),r(a,"SYMBOL_MATH_NUM","9312,9313,9314,9315,9316,9317,9318,9319,9320,9321,9322,9323,9324,9325,9326,9327,9328,9329,9330,9331;9332,9333,9334,9335,9336,9337,9338,9339,9340,9341,9342,9343,9344,9345,9346,9347,9348,9349,9350,9351;9352,9353,9354,9355,9356,9357,9358,9359,9360,9361,9362,9363,9364,9365,9366,9367,9368,9369,9370,9371;8544,8545,8546,8547,8548,8549,8550,8551,8552,8553,8554,8555,8560,8561,8562,8563,8564,8565,8566,8567,8568,8569;10102,10103,10104,10105,10106,10107,10108,10109,10110,10111;12832,12833,12834,12835,12836,12837,12838,12839,12840,12841"),r(a,"SYMBOL_MATH_UNIT","65122,65123,183,47,61,65124,65125,8806,8807,8814,8815,8801,65291,65293,215,247,65309,65308,65310,8804,8805,8776,8786,8800,65122,65123,177,8758,8757,8756,8759,13266,13265,8721,8719,8709;8733,8765,8712,8745,8743,8857,8978,8741,8735,8739,8706,8710,8734,8780,8713,8746,8744,8853,8895,8869,8736,8747,8748,8749,37,8240,65285,186,185,178,179,8319,8453,8750,8751,8752,8321,8322,8323,189,8531,8532,188,190,176,8451,8457,12306;13198,13199,956-109,13212,13213,13214,8242,165,36,8364,3647,65505,13217,109-179,13252,109-108,109-111-108,13269,8243,65509,163,65504,8352"),r(a,"SYMBOL_GR_LT","913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937;945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969;193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,216,217,218,219,220,221,222,352,376,338913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937;945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,963,964,965,966,967,968,969;193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,216,217,218,219,220,221,222,352,376,338");var s=function(){function e(){t(this,e)}return n(e,null,[{key:"compatible",value:function(){o(this,e,l).call(this),o(this,e,h).call(this)}}]),e}();function l(){Date.prototype.pattern=function(t){var e=this.getDay(),i=Math.floor((this.getMonth()+3)/3).toString(),n={"y+":this.getFullYear().toString(),"M+":(this.getMonth()+1).toString(),"d+":this.getDate().toString(),"H+":this.getHours().toString(),"h+":this.getHours()%12==0?"12":(this.getHours()%12).toString(),"m+":this.getMinutes().toString(),"s+":this.getSeconds().toString(),"q+":i},r={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"},a={1:"一",2:"二",3:"三",4:"四"};for(var o in/(W+)/.test(t)&&(t=t.replace(RegExp.$1,RegExp.$1.length>1?RegExp.$1.length>2?"星期"+r[e]:"周"+r[e]:r[e])),/(Q+)/.test(t)&&(t=t.replace(RegExp.$1,4==RegExp.$1.length?"第"+a[i]+"季度":a[i])),n){var s=new RegExp("("+o+")").exec(t);s&&(t=t.replace(s[1],1==s[1].length?n[o]:n[o].padStart(s[1].length,"0")))}return t},String.prototype.format=function(){if(0==arguments.length)return this;for(var t=this,e=0;e<arguments.length;e++)t=t.replace(new RegExp("\\{"+e+"\\}","g"),arguments[e]);return t}}function h(){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)})}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function f(t,e){if(t){if("string"==typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(t,e):void 0}}function d(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,a=[],o=!0,s=!1;try{for(i=i.call(t);!(o=(n=i.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(t){s=!0,r=t}finally{try{o||null==i.return||i.return()}finally{if(s)throw r}}return a}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(){function e(){t(this,e)}return n(e,null,[{key:"getHtmlDpi",value:function(){var t=new Array;if(window.screen.deviceXDPI)t[0]=window.screen.deviceXDPI,t[1]=window.screen.deviceYDPI;else{var e=document.createElement("DIV");e.style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body.appendChild(e),t[0]=parseInt(e.offsetWidth),t[1]=parseInt(e.offsetHeight),e.parentNode.removeChild(e)}return t}},{key:"pxConversionMm",value:function(t){return t/this.getHtmlDpi()[0]*25.4}},{key:"mmConversionPx",value:function(t){var e=t/25.4*this.getHtmlDpi()[0];return parseInt(e)}},{key:"fullscreen",value:function(){if(document.fullscreenElement)document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen();else{var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}}}]),e}(),v=function(){function e(){t(this,e)}return n(e,null,[{key:"pointInRect",value:function(t,e){var i=e.x,n=e.y,r=e.x+e.w,a=e.y+e.h;return Math.abs(t.x-i)+Math.abs(t.x-r)<=Math.abs(i-r)&&Math.abs(t.y-n)+Math.abs(t.y-a)<=Math.abs(n-a)}},{key:"pointToRectDistance",value:function(t,e,i,n,r,a){var o=this.pointToLineDistance(t,e,i,n,r,n),s=this.pointToLineDistance(t,e,r,n,r,a),l=this.pointToLineDistance(t,e,i,a,r,a),h=this.pointToLineDistance(t,e,i,n,i,a);return Math.min(o,s,l,h)}},{key:"pointToEllipseDistance",value:function(t,e,i,n,r,a){var o=i+(r-i)/2,s=n+(a-n)/2,l=Math.pow((r-i)/2,2),h=Math.pow((a-n)/2,2);if(l>h){var c=Math.sqrt(l-h),u=Math.sqrt(Math.pow(t-(o+c),2)+Math.pow(e-s,2)),f=Math.sqrt(Math.pow(t-(o-c),2)+Math.pow(e-s,2));return Math.abs(u+f-Math.abs(r-i))}if(l<h){var d=Math.sqrt(h-l),p=Math.sqrt(Math.pow(e-(s+d),2)+Math.pow(t-o,2)),g=Math.sqrt(Math.pow(e-(s-d),2)+Math.pow(t-o,2));return Math.abs(p+g-Math.abs(a-n))}var v=Math.sqrt(Math.pow(e-s,2)+Math.pow(t-o,2));return Math.abs(v+v-Math.abs(a-n))}},{key:"pointToTriangleDistance",value:function(t,e,i,n,r,a){var o=i+(r-i)/2,s=this.pointToLineDistance(t,e,o,n,r,a),l=this.pointToLineDistance(t,e,i,a,r,a),h=this.pointToLineDistance(t,e,o,n,i,a);return Math.min(s,h,l)}},{key:"pointToLineDistance",value:function(t,e,i,n,r,a){if(i==r)return e>Math.max(n,a)?Math.sqrt(Math.pow(t-i,2)+Math.pow(e-Math.max(n,a),2)):e<Math.min(n,a)?Math.sqrt(Math.pow(t-i,2)+Math.pow(e-Math.min(n,a),2)):Math.abs(t-i);if(n==a)return t>Math.max(i,r)?Math.sqrt(Math.pow(e-n,2)+Math.pow(t-Math.max(i,r),2)):t<Math.min(i,r)?Math.sqrt(Math.pow(e-n,2)+Math.pow(t-Math.min(i,r),2)):Math.abs(e-n);var o=(a-n)/(r-i),s=-1/o,l=e-s*t,h=(l-n+o*i)/(o-s),c=s*h+l,u=p(i<r?[[i,n],[r,a]]:[[r,a],[i,n]],2),f=p(u[0],2),d=f[0],g=f[1],v=p(u[1],2),_=v[0],y=v[1];return h>_?Math.sqrt(Math.pow(t-_,2)+Math.pow(e-y,2)):h<d?Math.sqrt(Math.pow(t-d,2)+Math.pow(e-g,2)):Math.sqrt(Math.pow(t-h,2)+Math.pow(e-c,2))}},{key:"getBlockDragRect",value:function(t,e,i){var n=function(t,e,i,n,r,a){return{x:t,y:e,w:i,h:n,c:r,i:a}},r=e.width*e.height>=0;return[n(t.offsetX-i/2,t.offsetY-i/2,i,i,r?"nwse-resize":"nesw-resize",0),n(t.offsetX+e.width/2-i/2,t.offsetY-i/2,i,i,"ns-resize",1),n(t.offsetX+e.width-i/2,t.offsetY-i/2,i,i,r?"nesw-resize":"nwse-resize",2),n(t.offsetX-i/2,t.offsetY+e.height/2-i/2,i,i,"ew-resize",3),n(t.offsetX+e.width-i/2,t.offsetY+e.height/2-i/2,i,i,"ew-resize",4),n(t.offsetX-i/2,t.offsetY+e.height-i/2,i,i,i,r?"nesw-resize":"nwse-resize"),n(t.offsetX+e.width/2-i/2,t.offsetY+e.height-i/2,i,i,"ns-resize",6),n(t.offsetX+e.width-i/2,t.offsetY+e.height-i/2,i,i,r?"nwse-resize":"nesw-resize",7)]}},{key:"getLineObjectDrag",value:function(t,e,i,n,r){var a=function(t,e,i,n,r,a){return{x:t,y:e,w:i,h:n,c:r,i:a}};return[a(t-r/2,e-r/2,r,r,"crosshair",0),a(i-r/2,n-r/2,r,r,"crosshair",0)]}},{key:"getRectObjectDrag",value:function(t,e,i,n,r){return this.getBlockDragRect({offsetX:t,offsetY:e},{width:i-t,height:n-e},r)}}]),e}(),_=function(){function e(){t(this,e)}return n(e,null,[{key:"isChineseWord",value:function(t){return new RegExp("[\\u4E00-\\u9FFF]+","g").test(t)}},{key:"isChineseSymbol",value:function(t){return new RegExp("[。；，：“”（）、？《》！【】￥]+","g").test(t)}},{key:"isSpecialSymbol",value:function(t){var e=[];return a.SYMBOL_SPECIAL.split(";").forEach((function(t){e=[].concat(d(e),d(t.split(",")))})),a.SYMBOL_MATH_UNIT.split(";").forEach((function(t){e=[].concat(d(e),d(t.split(",")))})),a.SYMBOL_MATH_NUM.split(";").forEach((function(t){e=[].concat(d(e),d(t.split(",")))})),a.SYMBOL_GR_LT.split(";").forEach((function(t){e=[].concat(d(e),d(t.split(",")))})),e.findIndex((function(e){return e==t.charCodeAt(0)+""}))>=0}},{key:"isNumberString",value:function(t){return/^[0-9]+$/.test(t)}},{key:"isEmptyString",value:function(t){return!("string"==typeof t&&t.length>0)}},{key:"isFullWidthChar",value:function(t){return this.isChineseSymbol(t)||this.isChineseWord(t)||this.isSpecialSymbol(t)}}]),e}(),y=function(){function e(){t(this,e)}return n(e,null,[{key:"getFieldInsertWidth",value:function(t,e,i){var n=[],r=0;t.forEach((function(t){var e=t.at(-1);0==e.property.row&&(n.push(e.property.preWidth),r+=e.property.preWidth)}));for(var a=r/(r+n[e]),o=r,s=0;s<n.length;s++)n[s]=parseInt(n[s]*a),o-=n[s];return n.splice(i,0,o),n}},{key:"getAdjoinCellBorder",value:function(t,e,i){return console.info("".concat(e,",").concat(i)),t.find((function(t){var n=t.getFieldIndex();return n.visible&&n.row-n.rowspan+1<=e&&n.row>=e&&n.col-n.colspan+1<=i&&n.col>=i}))}},{key:"getListLenValue",value:function(t,e,i){for(var n=0,r=e;r<=i;r++)n+=t[r];return n}},{key:"isFieldIndex",value:function(t,e,i){return t.row>=e&&t.row-t.rowspan<e&&t.col>=i&&t.col-t.colspan<i}},{key:"isFieldInsideIndex",value:function(t,e,i,n,r){return t.row-t.rowspan+1>=e&&t.row-t.rowspan+1<=n&&t.col-t.colspan+1>=i&&t.col-t.colspan+1<=r}},{key:"isFieldInside",value:function(t,e,i,n){return Math.abs(e)<=a.TABLE_FIELD_BORDER_SPAC?a.TABLE_BORDER_TOP:Math.abs(n-e)<=a.TABLE_FIELD_BORDER_SPAC?a.TABLE_BORDER_BOT:Math.abs(t)<=a.TABLE_FIELD_BORDER_SPAC?a.TABLE_BORDER_LEFT:Math.abs(i-t)<=a.TABLE_FIELD_BORDER_SPAC?a.TABLE_BORDER_RIGHT:a.TABLE_BORDER_INSIDE}}]),e}(),E=function(){function e(){t(this,e)}return n(e,null,[{key:"capture",value:function(t,e,i,n){var r=!1,a=[];if(!(t instanceof Array))return a;if(e===i)return n&&a.push(e),a;for(var o=0;o<t.length;o++){var s=t[o];if(s===e&&(r=!0,a.push(s)),r){if(s===i){n&&a.push(s);break}a.push(s)}}return a}},{key:"splice",value:function(t,e,i){var n=[].concat(d(i));n.unshift(e,0),Array.prototype.splice.apply(t,n)}},{key:"remove",value:function(t,e){e.forEach((function(e){var i=t.findIndex((function(t){return t===e}));i>=0&&t.splice(i,1)}))}}]),e}(),w=function(){function e(){t(this,e)}return n(e,null,[{key:"isUndefined",value:function(t){return void 0===t}},{key:"isNotUndefined",value:function(t){return!this.isUndefined(t)}}]),e}(),m=function(){function e(){t(this,e)}return n(e,null,[{key:"h16ToInt",value:function(t){var e=[0,0,0];return t&&7==t.length&&(e[0]=parseInt(t.slice(1,3),16),e[1]=parseInt(t.slice(3,5),16),e[2]=parseInt(t.slice(5,7),16)),e}},{key:"intToH16",value:function(t){var e="#000000";if(t&&3==t.length){var i=t[0].toString(16).padStart(2,"0"),n=t[1].toString(16).padStart(2,"0"),r=t[2].toString(16).padStart(2,"0");e="#".concat(i).concat(n).concat(r)}return e}}]),e}(),b=function(){function e(){t(this,e)}return n(e,null,[{key:"isEmpty",value:function(t){return!this.isNotEmpty(t)}},{key:"isNotEmpty",value:function(t){return"string"==typeof t&&t.length>0}},{key:"isBlank",value:function(t){return!this.isNotBlank(t)}},{key:"isNotBlank",value:function(t){return!!(this.isNotEmpty(t)&&t.trim().length>0)}},{key:"getUUID",value:function(){if("object"===("undefined"==typeof crypto?"undefined":c(crypto))){if("function"==typeof crypto.randomUUID)return crypto.randomUUID();if("function"==typeof crypto.getRandomValues&&"function"==typeof Uint8Array)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(t){var e=Number(t);return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}var t=(new Date).getTime(),e="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(i){var n=16*Math.random();return t>0?(n=(t+n)%16|0,t=Math.floor(t/16)):(n=(e+n)%16|0,e=Math.floor(e/16)),("x"===i?n:3&n|8).toString(16)}))}},{key:"replaceVariables",value:function(t,e){return t.replace(/\{(\w+)\}/g,(function(t,i){return void 0!==e[i]?e[i]:t}))}}]),e}(),T=i(6129),k=i.n(T),S=i(7583);function x(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),function(t,e){if(void 0===t)throw new TypeError("attempted to get private static field before its declaration")}(i),function(t,e){return e.get?e.get.call(t):e.value}(t,i)}var L=function(){function e(){t(this,e)}return n(e,null,[{key:"storeImage",value:function(t){x(this,e,C).set(t.uuid,t.view)}},{key:"getImage",value:function(t){return x(this,e,C).get(t)}}]),e}(),C={writable:!0,value:new Map};function R(t,e,i){return I(t,e),O(i,"get"),function(t,e){return e.get?e.get.call(t):e.value}(t,i)}function O(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}function I(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}var A=function(){function e(){t(this,e)}return n(e,null,[{key:"setLevel",value:function(t){var i,n,r;n=P,r=t,I(i=this,e),O(n,"set"),function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(i,n,r)}},{key:"getLevel",value:function(){return R(this,e,P)}},{key:"debug",value:function(t){this.DEBUG>=R(this,e,P)&&console.debug(t)}},{key:"info",value:function(t){this.INFO>=R(this,e,P)&&console.info(t)}},{key:"warn",value:function(t){this.WARN>=R(this,e,P)&&console.warn(t)}},{key:"error",value:function(t){this.ERROR>=R(this,e,P)&&console.error(t)}}]),e}();r(A,"DEBUG",1),r(A,"INFO",2),r(A,"WARN",3),r(A,"ERROR",4);var P={writable:!0,value:1};function M(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),i}var D=function(){function e(){t(this,e)}return n(e,null,[{key:"defaultTextStyle",value:function(){return{font:a.getDefaultFontFamily().value,size:a.getDefaultFontSize().value,color:a.getDefaultFontColor(),bold:!1,italic:!1,underline:!1,strikethrough:!1,script:a.SCRIPT_NOR}}},{key:"defaultParagStyle",value:function(){return{align:a.ALIGN_BOTH,indentLeft:0,indentRight:0,indentSpecialType:a.INDENT_TYPE_NULL,indentSpecialvalue:0,rowspac:1,segmentSpacPre:0,segmentSpacAft:0}}},{key:"defaultProperty",value:function(){return{code:"",type:"",classify:"",imageBlock:!1,visible:!0}}},{key:"defaultDimension",value:function(){return{depth:0}}},{key:"defaultModular",value:function(){return{type:0}}},{key:"createTextChar",value:function(t,i,n,r,a){var o={code:t,type:this.TYPE_TEXT,classify:this.CLS_TEXT_CHAR},s=this.findDimension(n,r._count);return M(this,e,W).call(this,o,i,s,a)}},{key:"createTextTab",value:function(t,i,n,r){var a={type:this.TYPE_TEXT,classify:this.CLS_TEXT_TAB},o=this.findDimension(i,n._count);return M(this,e,W).call(this,a,t,o,r)}},{key:"createImage",value:function(t,i,n,r,a,o,s){var l=this.findDimension(a,o._count);return M(this,e,B).call(this,t,i,n,r,l,s)}},{key:"createLineFeel",value:function(t,i,n,r,a){var o=this.findDimension(n,r._count),s={type:this.TYPE_STRUCT,classify:this.CLS_LINE};return M(this,e,H).call(this,s,t,i,o,a)}},{key:"createDivder",value:function(t,i,n,r,a,o){var s=this.findDimension(r,a._count),l={type:this.TYPE_STRUCT,classify:this.CLS_DIVDER,divderType:t};return M(this,e,H).call(this,l,i,n,s,o)}},{key:"createDocumentEnd",value:function(t,i,n){var r={type:this.TYPE_STRUCT,classify:this.CLS_END};return M(this,e,H).call(this,r,t,i)}},{key:"createTableCell",value:function(t,i,n,r,o,s){var l=a.TABLE_FIELD_PADDING_H,h=a.TABLE_FIELD_PADDING_V,c=a.TABLE_FIELD_BORDER_WIDTH,u=a.TABLE_FIELD_BORDER_COLOR,f={type:this.TYPE_STRUCT,classify:this.CLS_CELL,visible:!0,row:t.row,col:t.col,colspan:1,rowspan:1,width:t.width,height:0,preWidth:t.width,preHeight:0,indentLeft:0,indentRight:0,padding:[h,l,h,l],border:[{width:c,style:0,color:u,visible:!0},{width:c,style:0,color:u,visible:!0},{width:c,style:0,color:u,visible:!0},{width:c,style:0,color:u,visible:!0}]},d=this.findDimension(r,o._count);return M(this,e,H).call(this,f,i,n,d,s)}},{key:"createShape",value:function(t){var i={type:this.TYPE_OBJECT,classify:t,relativeText:a.RELATIVE_UP,lineColor:a.COLOR_DEFAULT_LINE,lineType:a.LINE_SOLID,lineWidth:a.WIDTH_LINE_DEFUALT,lineOpacity:1};return M(this,e,N).call(this,i,{x1:void 0,y1:void 0,x2:void 0,y2:void 0})}},{key:"createTextFieldBeg",value:function(t,i,n,r){var a={code:"",type:this.TYPE_TEXT,classify:this.CLS_TEXT_FIELD_BEG},o=this.findDimension(i,n._count);return M(this,e,W).call(this,a,t,o,r)}},{key:"createTextFieldEnd",value:function(t,i,n,r){var a={code:"",type:this.TYPE_TEXT,classify:this.CLS_TEXT_FIELD_END},o=this.findDimension(i,n._count);return M(this,e,W).call(this,a,t,o,r)}},{key:"createImageCache",value:function(t,e){var i=new Image;i.src=t,i.onload=function(){e(i)}}},{key:"createGraphicCache",value:function(t,e,i){var n=this;if(t==this.IAMGE_TYPE_BARCODE){var r=new Image;k()(r,e),r.onload=function(){i(r)}}else t==this.IAMGE_TYPE_QRCODE&&S.toDataURL(e).then((function(t){n.createImageCache(t,i)})).catch((function(t){A.error(t)}))}},{key:"findPreElement",value:function(t,e){return e._count>0?t[e._count-1]:void 0}},{key:"findNextElement",value:function(t,e){return e._count<t.length-1?t[e._count+1]:void 0}},{key:"findElementStyle",value:function(t,e){var i=this,n={},r=t.findIndex((function(t){return t===e}));n.textStyle=Object.assign({},e.textStyle);var a=t.find((function(t,e){return e>=r&&t.property.type==i.TYPE_STRUCT}));return n.paragStyle=Object.assign({},a.paragStyle),n}},{key:"findDimension",value:function(t,e){for(;e<t.length;e++){var i=t[e];if(i.property.type===this.TYPE_STRUCT){var n=Object.assign({},i.dimension);return i.property.classify!=this.CLS_CELL&&i.property.classify!=this.CLS_END||(n.depth+=1),n}}}},{key:"insertElement",value:function(t,e,i){var n=t.findIndex((function(t){return t===e}));t.splice(n,0,i)}},{key:"insertElements",value:function(t,e,i){var n=t.findIndex((function(t){return t===e}));E.splice(t,n,i)}},{key:"deleteElement",value:function(t,i){M(this,e,F).call(this,t,t.at(i))}},{key:"deleteElements",value:function(t,i){var n=this;i.forEach((function(i){return M(n,e,F).call(n,t,i)}))}},{key:"tableMerge",value:function(t,i){var n=this,r=[],a=[];i.fields.forEach((function(o){var s=o.at(-1);s.property.row<=i.maxrow&&s.property.row>=i.minrow&&s.property.col<=i.maxcol&&s.property.col>=i.mincol&&(M(n,e,Y).call(n,t,o,r),a.push(s))})),a.at(-1).property.visible=!0,a.at(-1).property.rowspan=i.maxrow-i.minrow+1,a.at(-1).property.colspan=i.maxcol-i.mincol+1,this.insertElements(t,a.at(-1),r)}},{key:"tableDeleteRow",value:function(t,e,i,n){this.tableDeleteCell(t,e,i,n,"row")}},{key:"tableDeleteCol",value:function(t,e,i,n){this.tableDeleteCell(t,e,i,n,"col")}},{key:"tableDeleteCell",value:function(t,e,i,n,r){var a=this,o=[],s=[],l="col"==r?"colspan":"rowspan";e.forEach((function(t){var e=t.at(-1).property[r],a=t.at(-1).property[l];1==a?e>=i&&e<=n?o.push(t):e>=n&&(t.at(-1).property[r]-=n-i+1):e-a+1<i&&e>=i?(t.at(-1).property[r]-=e-i+1,t.at(-1).property[l]-=e-i+1,s.push(t)):e-a+1<i&&e>n?(t.at(-1).property[r]-=n-i+1,t.at(-1).property[l]-=n-i+1):e-a+1>=i&&e<=n?o.push(t):e-a+1<=n&&e>n?(t.at(-1).property[r]-=n-(e-a+1)+1,t.at(-1).property[l]-=n-(e-a+1)+1):e>n&&(t.at(-1).property[r]-=n-i+1)}));var h=this.findNextElement(t,o.at(-1).at(-1));return s.forEach((function(t){var i=e.find((function(e){return e.at(-1).property.row==t.at(-1).property.row&&e.at(-1).property.col==t.at(-1).property.col}));i&&o.push(i)})),o.forEach((function(e){a.deleteElements(t,e)})),h}},{key:"tableDelete",value:function(t,i,n){var r=this;i.forEach((function(i){M(r,e,F).call(r,t,i)}))}},{key:"tableInsertRowAbove",value:function(t,i,n){var r=this,a=[],o=void 0;n.forEach((function(t){var n=t.at(-1);if(n.property.row==i){o||(o=t.at(0));var s=JSON.parse(JSON.stringify(n.property));s.rowspan=1,s.colspan=1,s.visible=!0;var l=M(r,e,H).call(r,s,n.textStyle,n.paragStyle,n.dimension);a.push(l)}})),a.forEach((function(t){var e=n.find((function(e){var i=e.at(-1);return i.property.visible&&i.property.row-i.property.rowspan+1==t.property.row&&i.property.col==t.property.col}));if(e){var i=e.at(-1);t.property.colspan=i.property.colspan}else t.property.visible=!1})),n.forEach((function(t){var e=t.at(-1);e.property.row-e.property.rowspan+1>=i?e.property.row+=1:e.property.row-e.property.rowspan+1<i&&e.property.row>=i&&(e.property.row+=1,e.property.rowspan+=1)})),this.insertElements(t,o,a)}},{key:"tableInsertRowBelow",value:function(t,i,n){var r=this,a=[],o=void 0;n.forEach((function(t){var n=t.at(-1);if(n.property.row==i){o=t.at(-1);var s=JSON.parse(JSON.stringify(n.property));s.row+=1,s.rowspan=1;var l=M(r,e,H).call(r,s,n.textStyle,n.paragStyle,n.dimension);a.push(l)}else n.property.row>i&&(n.property.row-n.property.rowspan+1<=i&&(n.property.rowspan+=1),n.property.row+=1)}));var s=this.findNextElement(t,o);this.insertElements(t,s,a)}},{key:"tableInsertColLeft",value:function(t,i,n){var r=this,a=y.getFieldInsertWidth(n,i,i),o=[];n.forEach((function(t){var n=t.at(-1);if(n.property.col==i){var a=JSON.parse(JSON.stringify(n.property));a.rowspan=1,a.colspan=1,a.visible=!0;var s=M(r,e,H).call(r,a,n.textStyle,n.paragStyle,n.dimension);o.push(s)}})),o.forEach((function(t){var e=n.find((function(e){var i=e.at(-1);return i.property.visible&&i.property.col-i.property.colspan+1==t.property.col&&i.property.row==t.property.row}));if(e){var i=e.at(-1);t.property.rowspan=i.property.rowspan}else t.property.visible=!1})),n.forEach((function(t){var e=t.at(-1);e.property.col-e.property.colspan+1>=i?e.property.col+=1:e.property.row-e.property.colspan+1<i&&e.property.col>=i&&(e.property.col+=1,e.property.colspan+=1),e.property.preWidth=a[e.property.col]})),o.forEach((function(e){e.property.preWidth=a[e.property.col];var i=n.find((function(t){return t.at(-1).property.row==e.property.row&&t.at(-1).property.col==e.property.col+1}));r.insertElement(t,i[0],e)})),console.info(t)}},{key:"tableInsertColRight",value:function(t,i,n){var r=this,a=y.getFieldInsertWidth(n,i,i+1);n.forEach((function(n){var o=n.at(-1);if(o.property.col==i){var s=n.at(-1),l=JSON.parse(JSON.stringify(o.property));l.colspan=1,l.col+=1,l.preWidth=a[i+1],l.width=a[i+1];var h=M(r,e,H).call(r,l,o.textStyle,o.paragStyle,o.dimension),c=r.findNextElement(t,s);r.insertElement(t,c,h)}else o.property.col>i&&(o.property.col-o.property.colspan+1<=i&&(o.property.colspan+=1),o.property.col+=1);o.property.preWidth=a[o.property.col],o.property.width=a[o.property.col]}))}},{key:"tableSplitRowspan",value:function(t,e){var i=t.at(-1).property.rowspan,n=t.at(-1).property.colspan,r=t.at(-1).property.row,a=t.at(-1).property.col,o=[];t.at(-1).property.rowspan=1;for(var s=function(t){var i=e.find((function(e){return e.at(-1).property.row==r-t&&e.at(-1).property.col==a}));i.at(-1).property.visible=!0,i.at(-1).property.colspan=n,o.push(i)},l=1;l<i;l++)s(l);return o.push(t),o}},{key:"tableSplitRow",value:function(t,i,n,r){for(var a=this,o=i.at(-1).property.row,s=i.at(-1).property.col,l=[],h=function(t){n.forEach((function(i){var n=i.at(-1).property;if(n.row==o){var r=JSON.parse(JSON.stringify(i.at(-1).property));r.rowspan=1,r.row=o+t,r.visible=n.col==s,l.push(M(a,e,H).call(a,r,i.at(-1).textStyle,i.at(-1).paragStyle,i.at(-1).dimension))}}))},c=0;c<r-1;c++)h(c);var u=void 0,f=void 0;n.forEach((function(t,e){var i=t.at(-1).property;i.row==o&&(u||(u=t.at(0),f=e)),i.visible&&i.col!=s&&i.row>=o&&i.row-i.rowspan+1<=o&&(i.rowspan+=r-1),i.row>=o&&(i.row+=r-1)})),this.insertElements(t,u,l),E.splice(n,f,l.map((function(t){return[t]})));var d=[];return l.forEach((function(t){t.property.col==s&&d.push([t])})),d.push(i),d}},{key:"tableSplitColspan",value:function(t,e){console.info(e),t.forEach((function(t){for(var i=t.at(-1).property.row,n=t.at(-1).property.col,r=t.at(-1).property.colspan,a=function(r){var a=e.find((function(t){return t.at(-1).property.col==n-r&&t.at(-1).property.row==i}));a.at(-1).property.visible=!0,a.at(-1).property.colspan=1,a.at(-1).property.rowspan=t.at(-1).property.rowspan},o=1;o<r;o++)a(o);t.at(-1).property.colspan=1}))}},{key:"tableSplitCol",value:function(t,i,n,r,a,o){var s=this,l=i.map((function(t){return t.at(-1).property.row}));n.forEach((function(i){var n=i.at(-1).property.colspan,h=i.at(-1).property.rowspan,c=i.at(-1).property.col,u=i.at(-1).property.row,f=l.findIndex((function(t){return t==u}));if(c==o){i.at(-1).property.preWidth=a[r-1],i.at(-1).property.width=a[r-1];for(var d=0;d<r-1;d++){var p=JSON.parse(JSON.stringify(i.at(-1).property));p.col=c+d,p.rowspan=h,p.preWidth=a[d],p.width=a[d],p.visible=f>=0,s.insertElement(t,i.at(0),M(s,e,H).call(s,p,i.at(-1).textStyle,i.at(-1).paragStyle,i.at(-1).dimension))}}f<0&&c>=o&&c-n+1<=o&&(i.at(-1).property.colspan+=r-1),c>=o&&(i.at(-1).property.col+=r-1)}))}},{key:"dataDatePicker",value:function(t,e,i){}},{key:"isNormalDeleteElement",value:function(t){return t.property.classify!=this.CLS_CELL&&t.property.classify!=this.CLS_END}},{key:"isImageBlock",value:function(t){return t&&(t.property.classify==this.CLS_IMAGE||t.property.classify==this.CLS_GAHCODE)}},{key:"isLineObject",value:function(t){var e=[this.OBJECT_SHAPE_LINE];return t&&t.property.type==this.TYPE_OBJECT&&e.includes(t.property.classify)}},{key:"isRectObject",value:function(t){var e=[this.OBJECT_SHAPE_RECT,this.OBJECT_SHAPE_ELLIPSE,this.OBJECT_SHAPE_TRIANGLE];return t&&t.property.type==this.TYPE_OBJECT&&e.includes(t.property.classify)}},{key:"isFieldBorder",value:function(t){if(t){var e=!1;switch(t.property.classify){case this.CLS_TEXT_FIELD_BEG:case this.CLS_TEXT_FIELD_END:e=!0}return e}return!1}},{key:"loadImageCache",value:function(t,e,i,n){var r=this;e<t.length?this.createImageCache(t[e].image.base64,(function(a){t[e].image.view=a,t[e].image.uuid=b.getUUID(),i(e),L.storeImage(t[e].image),r.loadImageCache(t,e+1,i,n)})):n()}}]),e}();function N(t,e){return{property:t,offset:e,_drag_offset:Object.assign({},e)}}function B(t,e,i,n,r,a){var o={code:e,type:this.TYPE_TEXT,classify:this.CLS_IMAGE,imageBlock:!0,imageType:t};return M(this,D,W).call(this,o,n,r,a,i)}function W(t,e,i,n,r){return{property:Object.assign(this.defaultProperty(),t),textStyle:Object.assign(this.defaultTextStyle(),e),dimension:Object.assign(this.defaultDimension(),i),modular:Object.assign(this.defaultModular(),n),image:r}}function H(t,e,i,n,r){return{property:Object.assign(this.defaultProperty(),t),textStyle:Object.assign(this.defaultTextStyle(),e),paragStyle:Object.assign(this.defaultParagStyle(),i),dimension:Object.assign(this.defaultDimension(),n),modular:Object.assign(this.defaultModular(),r)}}function F(t,e){var i=t.findIndex((function(t){return t===e}));t.splice(i,1)}function Y(t,e,i){var n=e.at(-1);if(n.property.visible=!1,e.length>1){for(var r=0;r<e.length-1;r++)i.push(e[r]),M(this,D,F).call(this,t,e[r]);var a=this.defaultDimension();a.depth=n.dimension+1;var o={type:this.TYPE_STRUCT,classify:this.CLS_LINE};i.push(M(this,D,H).call(this,o,n.textStyle,n.paragStyle,a))}}r(D,"TYPE_STRUCT",1),r(D,"TYPE_TEXT",2),r(D,"TYPE_OBJECT",3),r(D,"CLS_TEXT_CHAR",210),r(D,"CLS_TEXT_TAB",211),r(D,"CLS_TEXT_FIELD_BEG",212),r(D,"CLS_TEXT_FIELD_END",213),r(D,"CLS_IMAGE",220),r(D,"CLS_GAHCODE",221),r(D,"CLS_EXP_M13Y",222),r(D,"CLS_EXP_F11N",223),r(D,"CLS_EXP_T10M",224),r(D,"CLS_LINE",110),r(D,"CLS_END",111),r(D,"CLS_CELL",120),r(D,"CLS_DIVDER",130),r(D,"OBJECT_SHAPE_LINE","line"),r(D,"OBJECT_SHAPE_ELLIPSE","ellipse"),r(D,"OBJECT_SHAPE_RECT","rect"),r(D,"OBJECT_SHAPE_TRIANGLE","triangle"),r(D,"IAMGE_TYPE_NORMAL",0),r(D,"IAMGE_TYPE_BARCODE",1),r(D,"IAMGE_TYPE_QRCODE",2),r(D,"IAMGE_TYPE_SIGNATURE",3),r(D,"WORD_STYLE_PROPERTYS",["font","size","color","bold","italic","underline","strikethrough","script"]),r(D,"PARAGRAPH_STYLE_PROPERTYS",["align","indentLeft","indentRight","indentSpecialType","indentSpecialvalue","rowspac","segmentSpacPre","segmentSpacAft"]);var j=function(){function e(){t(this,e)}return n(e,null,[{key:"createNewDocument",value:function(t){var e={type:a.PaperTypes[0].value,width:a.PaperTypes[0].width,height:a.PaperTypes[0].height,top:a.PaperMargins[0].topBottom,bottom:a.PaperMargins[0].topBottom,left:a.PaperMargins[0].leftRight,right:a.PaperMargins[0].leftRight,headerTop:a.PaperMargins[0].headerFooter,footerBottom:a.PaperMargins[0].headerFooter,direction:a.PAPER_ROTATION_PORTRAIT},i={id:t.id,name:t.name,author:t.author,createtime:Date.now(),version:this.VERSION,canvasdpi:0,pagecount:0},n={number:"0",format:"{n}/{c}",align:a.ALIGN_CENTER,size:a.getDefaultFontSize().value,family:a.getDefaultFontFamily().value,watermark:void 0};return{body:[D.createDocumentEnd()],header:[D.createDocumentEnd()],footer:[D.createDocumentEnd()],objects:{above:[],below:[]},config:{usedColors:[]},paper:e,info:i,page:n,view:[]}}},{key:"createParagLine",value:function(t,e,i,n,r,a){return{elements:[],left:i,right:e,width:t,height:0,surplus:t-i-e-n-r-a,baseLine:0,descent:0,alignLeft:0,indentLeft:n,indentRight:r,indentSpecia:a,marginTop:0,marginBot:0}}},{key:"getDocumentCharCount",value:function(t){var e=0;return t.forEach((function(t){var i=t.property;i.type==D.TYPE_TEXT&&i.classify==D.CLS_TEXT_CHAR&&e++})),e}}]),e}();function z(t,e,i,n,r,a,o){try{var s=t[a](o),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(n,r)}function G(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var a=t.apply(e,i);function o(t){z(a,n,r,o,s,"next",t)}function s(t){z(a,n,r,o,s,"throw",t)}o(void 0)}))}}function U(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X(t,e){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},X(t,e)}function K(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}function V(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return U(t)}function Z(t){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Z(t)}function J(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function $(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,J(t,e,"get"))}function q(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,J(t,e,"set"),i),i}r(j,"VERSION",1.1);var Q=i(2207),tt=i.n(Q),et=n((function e(){t(this,e)}));r(et,"CALL_BACKEND_PROMPT","调用打印服务失败，请安装启动后台打印服务控件"),r(et,"CUT_SUCCESSFULLY","剪切成功"),r(et,"PASTE_SUCCESSFULLY","粘贴成功");var it=function(){function e(){t(this,e)}return n(e,[{key:"getCurrentPartData",value:function(t,e){return e==a.CONTENT_PART_BODY?t.body:e==a.CONTENT_PART_HEADER?t.header:e==a.CONTENT_PART_FOOTER?t.footer:void 0}},{key:"getCurrentPartModel",value:function(t,e){return e==a.CONTENT_PART_BODY?t.getBodyModel():e==a.CONTENT_PART_HEADER?t.getHeaderModel():e==a.CONTENT_PART_FOOTER?t.getFooterModel():void 0}},{key:"getCanvasOffset",value:function(t){var e=this.getCurrentRatio();return{offsetX:t.offsetX/e,offsetY:t.offsetY/e}}},{key:"getCurrentRatio",value:function(){return a.SYS_ZOOM*a.SYS_STANDARD_RATIO}}]),e}();function nt(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}var rt=new WeakMap,at=new WeakMap,ot=new WeakMap,st=new WeakMap,lt=new WeakMap,ht=new WeakMap,ct=new WeakMap,ut=new WeakMap,ft=function(e){K(s,e);var i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(i);if(r){var n=Z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function s(){var e;t(this,s);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return nt(U(e=o.call.apply(o,[this].concat(n))),rt,{writable:!0,value:void 0}),nt(U(e),at,{writable:!0,value:void 0}),nt(U(e),ot,{writable:!0,value:void 0}),nt(U(e),st,{writable:!0,value:void 0}),nt(U(e),lt,{writable:!0,value:void 0}),nt(U(e),ht,{writable:!0,value:void 0}),nt(U(e),ct,{writable:!0,value:void 0}),nt(U(e),ut,{writable:!0,value:void 0}),e}return n(s,[{key:"clearSelects",value:function(t){t.splice(0,t.length)}},{key:"arrangeElements",value:function(t,e){var i=Array.from(new Set(e));i.sort((function(t,e){return t._count-e._count})),t.splice(0,t.length),E.splice(t,0,i)}},{key:"getCurrentPartOffset",value:function(t,e,i,n){var r=t.getPageSize(),o=o=parseInt(n/r.pxHeight);return e==a.CONTENT_PART_BODY?n-=r.pxHeaderHeight:e==a.CONTENT_PART_HEADER?n%=r.pxHeight:e==a.CONTENT_PART_FOOTER&&(n=n%r.pxHeight-(r.pxHeight-r.pxFooterHeight)),{offsetX:i,offsetY:n,pagenum:o}}},{key:"setCursorCallBack",value:function(t){q(this,rt,t)}},{key:"setChangeCallBack",value:function(t){q(this,ot,t)}},{key:"setRefreshCallBack",value:function(t){q(this,st,t)}},{key:"setDragCallBack",value:function(t){q(this,ht,t)}},{key:"setContextMenuCallBack",value:function(t){q(this,ct,t)}},{key:"setSaveMirrorCallBack",value:function(t){q(this,lt,t)}},{key:"setCursorStyleCallBack",value:function(t){q(this,at,t)}},{key:"setLocateInputCallBack",value:function(t){q(this,ut,t)}},{key:"callbackSetCursor",value:function(t,e,i,n){$(this,rt).call(this,t,e,i,n)}},{key:"callbackContextMenu",value:function(t){$(this,ct).call(this,t)}},{key:"callbackRefresh",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];$(this,st).call(this,t)}},{key:"callbackChange",value:function(){$(this,ot).call(this)}},{key:"callbackDrag",value:function(){$(this,ht).call(this)}},{key:"callbackSaveMirror",value:function(t,e){$(this,lt).call(this,t,e)}},{key:"callbackCursorStyle",value:function(t){$(this,at).call(this,t)}},{key:"callbackLocateInput",value:function(){$(this,ut).call(this)}},{key:"callbackRefreshByChange",value:function(t,e){$(this,lt).call(this,t,e),$(this,ot).call(this),$(this,st).call(this)}}]),s}(it);function dt(t,e){gt(t,e),e.add(t)}function pt(t,e,i){gt(t,e),e.set(t,i)}function gt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vt(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}r(ft,"INSERT_WORD","insertWord"),r(ft,"INSERT_LINEFEEL","insertLineFeel"),r(ft,"INSERT_TAB","inserTab"),r(ft,"INSERT_TABLE","insertTable"),r(ft,"INSERT_IMAGE","insertImage"),r(ft,"INSERT_DATE","insertDate"),r(ft,"INSERT_SIGNATURE","insertSignature"),r(ft,"INSERT_DIVDER","insertDivder"),r(ft,"INSERT_GRAPHICCODE","insertGraphicCode"),r(ft,"INSERT_TEXTFIELD","insertTextField"),r(ft,"INSERT_WATERMARK","insertWatermark"),r(ft,"INSERT_PAGENUMBER","insertPageNumber"),r(ft,"BACKSPACE_TEXT","backspaceText"),r(ft,"CUT_TEXT","cutText"),r(ft,"DELETE_TEXT","deleteText"),r(ft,"DELETE_WATERMARK","deleteWatermark"),r(ft,"CHANGE_TEXT_STYLE","changeTextStyle"),r(ft,"CHANGE_PARAG_STYLE","changeParagStyle"),r(ft,"CHANGE_FONT_COLOR","changeFontColor"),r(ft,"CHANGE_BLOCK_SIZE","changeBlockSize"),r(ft,"CHANGE_TABLE_SIZE","changeTableSize"),r(ft,"CHANGE_OBJECT_SIZE","changeObjectSize"),r(ft,"TABLE_MERGE","tableMerge"),r(ft,"TABLE_DELETE_ROW","tableDeleteRow"),r(ft,"TABLE_DELETE_COL","tableDeleteCol"),r(ft,"TABLE_DELETE_CELL","tableDeleteCell"),r(ft,"TABLE_DELETE","tableDelete"),r(ft,"TABLE_INSERT_CELL","tableInsertCell"),r(ft,"TABLE_SPLIT","tableSplit");var _t=new WeakMap,yt=new WeakMap,Et=new WeakMap,wt=new WeakMap,mt=new WeakMap,bt=new WeakMap,Tt=new WeakMap,kt=new WeakSet,St=new WeakSet,xt=new WeakSet,Lt=new WeakSet,Ct=new WeakSet,Rt=new WeakSet,Ot=new WeakSet,It=function(e){K(o,e);var i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(i);if(r){var n=Z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return dt(U(e=a.call.apply(a,[this].concat(n))),Ot),dt(U(e),Rt),dt(U(e),Ct),dt(U(e),Lt),dt(U(e),xt),dt(U(e),St),dt(U(e),kt),pt(U(e),_t,{writable:!0,value:void 0}),pt(U(e),yt,{writable:!0,value:void 0}),pt(U(e),Et,{writable:!0,value:void 0}),pt(U(e),wt,{writable:!0,value:void 0}),pt(U(e),mt,{writable:!0,value:void 0}),pt(U(e),bt,{writable:!0,value:void 0}),pt(U(e),Tt,{writable:!0,value:void 0}),e}return n(o,[{key:"init",value:function(t,e,i,n,r,a){q(this,_t,t),q(this,yt,e),q(this,mt,i),q(this,Et,n),q(this,wt,r),q(this,bt,a)}},{key:"action",value:function(t,e){e?vt(this,xt,Mt).call(this,t):vt(this,kt,At).call(this,t),this.callbackRefresh()}}]),o}(ft);function At(t){var e=this.getCurrentPartData($(this,_t),$(this,bt));if($(this,mt).length>0){if(t==a.KEY_ARROWLEFT){var i=$(this,mt).at(0);this.clearSelects($(this,mt)),this.callbackSetCursor(i,i)}else if(t==a.KEY_ARROWRIGHT){var n=$(this,mt).at(-1);n.property.type!=D.TYPE_STRUCT&&(n=D.findNextElement(e,n)),this.clearSelects($(this,mt)),this.callbackSetCursor(n,n)}else if(t==a.KEY_ARROWUP){var r=$(this,mt).at(0);this.clearSelects($(this,mt));var o=vt(this,St,Pt).call(this,t,r,r);this.callbackSetCursor(o.element,o.nextelement,void 0,o.offsetX)}else if(t==a.KEY_ARROWDOWN){var s=$(this,mt).at(-1);s.property.type!=D.TYPE_STRUCT&&(s=D.findNextElement(e,s)),this.clearSelects($(this,mt));var l=vt(this,St,Pt).call(this,t,s,s);this.callbackSetCursor(l.element,l.nextelement,void 0,l.offsetX)}}else if(t==a.KEY_ARROWLEFT){var h=e[Math.max($(this,wt)._count-1,0)];this.callbackSetCursor(h,h)}else if(t==a.KEY_ARROWRIGHT){var c=e[Math.min($(this,wt)._count+1,e.length-1)];this.callbackSetCursor(c,c)}else if(t==a.KEY_ARROWUP||t==a.KEY_ARROWDOWN){var u=vt(this,St,Pt).call(this,t,$(this,Et),$(this,wt));this.callbackSetCursor(u.element,u.nextelement,void 0,u.offsetX)}}function Pt(t,e,i){var n=this.getCurrentPartModel($(this,yt),$(this,bt)),r=void 0;e._cursor?r=e._cursor:(r=e._offset.offsetX,e!==i&&(r+=e._size.width));var o={};if(t==a.KEY_ARROWUP&&n.localeUpElement(e,r,o)){if(o.element.property.type!=D.TYPE_STRUCT&&o.next){var s=data.findIndex((function(t){return t===o.element}));o.nextelement=data[s+1]}else o.nextelement=o.element;return o.offsetX=r,o}if(t==a.KEY_ARROWDOWN&&n.localeDownElement(e,r,o))if(o.element.property.type!=D.TYPE_STRUCT&&o.next){var l=data.findIndex((function(t){return t===o.element}));o.nextelement=data[l+1]}else o.nextelement=o.element;return o}function Mt(t){t==a.KEY_ARROWLEFT?vt(this,Lt,Dt).call(this,$(this,mt).length>0):t==a.KEY_ARROWRIGHT?vt(this,Ct,Nt).call(this,$(this,mt).length>0):t==a.KEY_ARROWUP?vt(this,Rt,Bt).call(this,$(this,mt).length>0):t==a.KEY_ARROWDOWN&&vt(this,Ot,Wt).call(this,$(this,mt).length>0)}function Dt(t){var e=this.getCurrentPartData($(this,_t),$(this,bt)),i=this.getCurrentPartModel($(this,yt),$(this,bt));if(t)i.selectElement2($(this,mt),$(this,Tt),a.SELECT_EXT_TYPE_L),this.arrangeElements($(this,mt),$(this,mt));else if($(this,wt)._count>0){var n=D.findPreElement(e,$(this,wt)),r=i.selectElement(n,$(this,wt));this.arrangeElements($(this,mt),r),q(this,Tt,a.SELECT_POINT_BEG)}}function Nt(t){var e=this.getCurrentPartData($(this,_t),$(this,bt)),i=this.getCurrentPartModel($(this,yt),$(this,bt));if(t)i.selectElement2($(this,mt),$(this,Tt),a.SELECT_EXT_TYPE_R),this.arrangeElements($(this,mt),$(this,mt));else if($(this,wt).property.classify!=D.CLS_END){var n=D.findNextElement(e,$(this,wt)),r=i.selectElement($(this,wt),n);this.arrangeElements($(this,mt),r),q(this,Tt,a.SELECT_POINT_END)}}function Bt(t){var e=this.getCurrentPartData($(this,_t),$(this,bt)),i=this.getCurrentPartModel($(this,yt),$(this,bt));if(t)i.selectElement2($(this,mt),$(this,Tt),a.SELECT_EXT_TYPE_U),this.arrangeElements($(this,mt),$(this,mt));else if($(this,wt)._count>0){var n=vt(this,St,Pt).call(this,a.KEY_ARROWUP,$(this,Et),$(this,wt));n.element||(n.element=e.at(0));var r=i.selectElement(n.element,$(this,wt));this.arrangeElements($(this,mt),r),q(this,Tt,a.SELECT_POINT_BEG)}}function Wt(t){var e=this.getCurrentPartData($(this,_t),$(this,bt)),i=this.getCurrentPartModel($(this,yt),$(this,bt));if(t)i.selectElement2($(this,mt),$(this,Tt),a.SELECT_EXT_TYPE_D),this.arrangeElements($(this,mt),$(this,mt));else if($(this,wt).property.classify!=D.CLS_END){var n=vt(this,St,Pt).call(this,a.KEY_ARROWDOWN,$(this,Et),$(this,wt));n.element||(n.element=e.at(-1));var r=i.selectElement($(this,wt),n.element);this.arrangeElements($(this,mt),r),q(this,Tt,a.SELECT_POINT_END)}}function Ht(t,e){Yt(t,e),e.add(t)}function Ft(t,e,i){Yt(t,e),e.set(t,i)}function Yt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jt(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var zt=new WeakMap,Gt=new WeakMap,Ut=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Vt=new WeakMap,Zt=new WeakMap,Jt=new WeakSet,$t=new WeakSet,qt=new WeakSet,Qt=new WeakSet,te=new WeakSet,ee=function(e){K(s,e);var i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(i);if(r){var n=Z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function s(){var e;t(this,s);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Ht(U(e=o.call.apply(o,[this].concat(n))),te),Ht(U(e),Qt),Ht(U(e),qt),Ht(U(e),$t),Ht(U(e),Jt),Ft(U(e),zt,{writable:!0,value:void 0}),Ft(U(e),Gt,{writable:!0,value:void 0}),Ft(U(e),Ut,{writable:!0,value:void 0}),Ft(U(e),Xt,{writable:!0,value:void 0}),Ft(U(e),Kt,{writable:!0,value:void 0}),Ft(U(e),Vt,{writable:!0,value:void 0}),Ft(U(e),Zt,{writable:!0,value:void 0}),e}return n(s,[{key:"init",value:function(t,e,i,n,r,a,o){q(this,zt,t),q(this,Gt,e),q(this,Ut,i),q(this,Xt,n),q(this,Zt,a),q(this,Vt,r),q(this,Kt,o)}},{key:"insertWord",value:function(t){var e=this;$(this,Ut).length>0&&jt(this,Jt,ie).call(this);var i=this.getCurrentPartData($(this,zt),$(this,Kt)),n=[];t.split("").forEach((function(t){n.push(D.createTextChar(t,$(e,Vt),i,$(e,Xt)))})),D.insertElements(i,$(this,Xt),n),this.callbackSetCursor($(this,Xt),$(this,Xt)),this.callbackRefreshByChange(ft.INSERT_TAB,t)}},{key:"insertLinefeel",value:function(){$(this,Ut).length>0&&jt(this,Jt,ie).call(this);var t=this.getCurrentPartData($(this,zt),$(this,Kt)),e=D.createLineFeel($(this,Vt),$(this,Zt),t,$(this,Xt));D.insertElement(t,$(this,Xt),e),this.callbackSetCursor($(this,Xt),$(this,Xt)),this.callbackRefreshByChange(ft.INSERT_LINEFEEL)}},{key:"inserTab",value:function(){$(this,Ut).length>0&&jt(this,Jt,ie).call(this);var t=this.getCurrentPartData($(this,zt),$(this,Kt)),e=D.createTextTab($(this,Vt),t,$(this,Xt));D.insertElement(t,$(this,Xt),e),this.callbackSetCursor($(this,Xt),$(this,Xt)),this.callbackRefreshByChange(ft.INSERT_TAB)}},{key:"insertTable",value:function(t){if(!($(this,Ut).length>0)){var e=this.getCurrentPartData($(this,zt),$(this,Kt)),i=this.getCurrentPartModel($(this,Gt),$(this,Kt));if($(this,Xt)._count>0&&e[$(this,Xt)._count-1].property.type!=D.TYPE_STRUCT){var n=D.createLineFeel($(this,Vt),$(this,Zt),e,$(this,Xt));D.insertElement(e,$(this,Xt),n)}for(var r=i.getChapterSize($(this,Xt)),a=parseInt((r.lineWidth-r.lineLeft-r.lineRight)/t.cols),o=[],s=0;s<t.rows;s++)for(var l=0;l<t.cols;l++){var h={row:s,col:l,width:a};o.push(D.createTableCell(h,$(this,Vt),$(this,Zt),e,$(this,Xt)))}var c=o[0];D.insertElements(e,$(this,Xt),o),this.callbackSetCursor(c,c),this.callbackRefreshByChange(ft.INSERT_TABLE)}}},{key:"insertImage",value:function(t){jt(this,$t,ne).call(this,D.IAMGE_TYPE_NORMAL,t,ft.INSERT_IMAGE)}},{key:"insertSignature",value:function(t){jt(this,$t,ne).call(this,D.IAMGE_TYPE_SIGNATURE,t,ft.INSERT_SIGNATURE)}},{key:"insertGraphicCode",value:function(t,e){jt(this,qt,re).call(this,t,e,ft.INSERT_GRAPHICCODE)}},{key:"insertDivder",value:function(t){$(this,Ut).length>0&&jt(this,Jt,ie).call(this);var e=this.getCurrentPartData($(this,zt),$(this,Kt)),i=D.createDivder(t,$(this,Vt),$(this,Zt),e,$(this,Xt));D.insertElement(e,$(this,Xt),i),this.callbackSetCursor($(this,Xt),$(this,Xt)),this.callbackRefreshByChange(ft.INSERT_DIVDER)}},{key:"insertDate",value:function(t,e){var i=this;$(this,Ut).length>0&&jt(this,Jt,ie).call(this);var n=this.getCurrentPartData($(this,zt),$(this,Kt)),r=[];t.pattern(e).split("").forEach((function(a){var o=D.createTextChar(a,$(i,Vt),n,$(i,Xt));D.dataDatePicker(o,t,e),r.push(o)})),D.insertElements(n,$(this,Xt),r),this.callbackSetCursor($(this,Xt),$(this,Xt)),this.callbackRefreshByChange(ft.INSERT_DATE)}},{key:"insertWatermark",value:function(t,e){if("reserve"==t){var i={text:"",style:"0",transparency:30,fontfamily:a.FontFamilys[0].value,fontsize:3e3};"1"==e?Object.assign(i,{text:"保密",style:"1"}):"2"==e?Object.assign(i,{text:"样本",style:"0"}):"3"==e?Object.assign(i,{text:"严禁复制",style:"1",fontsize:2e3}):"4"==e?Object.assign(i,{text:"原稿",style:"0"}):"5"==e?Object.assign(i,{text:"绝密",style:"1"}):"6"==e&&Object.assign(i,{text:"紧急",style:"0"}),$(this,zt).page.watermark=i}else $(this,zt).page.watermark=e;this.callbackRefreshByChange(ft.INSERT_WATERMARK)}},{key:"insertPageNumber",value:function(t){"0"==t?$(this,zt).page=Object.assign($(this,zt).page,{number:"0"}):"1"==t?$(this,zt).page=Object.assign($(this,zt).page,{number:"1",align:a.ALIGN_LEFT}):"2"==t?$(this,zt).page=Object.assign($(this,zt).page,{number:"1",align:a.ALIGN_CENTER}):"3"==t&&($(this,zt).page=Object.assign($(this,zt).page,{number:"1",align:a.ALIGN_RIGHT})),this.callbackRefreshByChange(ft.INSERT_PAGENUMBER)}},{key:"insertTextFieldWidget",value:function(){var t=this;$(this,Ut).length>0&&jt(this,Jt,ie).call(this);var e=this.getCurrentPartData($(this,zt),$(this,Kt)),i=[];i.push(D.createTextFieldBeg($(this,Vt),e,$(this,Xt))),"文本域".split("").forEach((function(n){i.push(D.createTextChar(n,$(t,Vt),e,$(t,Xt)))})),i.push(D.createTextFieldEnd($(this,Vt),e,$(this,Xt))),D.insertElements(e,$(this,Xt),i),this.callbackSetCursor($(this,Xt),$(this,Xt)),this.callbackRefreshByChange(ft.INSERT_TEXTFIELD)}},{key:"backspaceText",value:function(){if($(this,Ut).length>0)jt(this,Jt,ie).call(this),this.callbackRefreshByChange(ft.BACKSPACE_TEXT);else{var t=this.getCurrentPartData($(this,zt),$(this,Kt)),e=$(this,Xt)._count;e>0&&D.isNormalDeleteElement(t[e-1])&&(D.deleteElement(t,e-1),this.callbackSetCursor($(this,Xt),$(this,Xt)),this.callbackRefreshByChange(ft.BACKSPACE_TEXT))}}},{key:"deleteText",value:function(){if($(this,Ut).length>0)jt(this,Jt,ie).call(this),this.callbackRefreshByChange(ft.DELETE_TEXT);else{var t=this.getCurrentPartData($(this,zt),$(this,Kt));if(D.isNormalDeleteElement($(this,Xt))){var e=$(this,Xt)._count;D.deleteElement(t,e),this.callbackSetCursor(t[e],t[e]),this.callbackRefreshByChange(ft.DELETE_TEXT)}}}},{key:"cutText",value:function(){$(this,Ut).length>0&&(jt(this,Jt,ie).call(this),this.callbackRefreshByChange(ft.CUT_TEXT))}},{key:"deleteWatermark",value:function(){$(this,zt).page.watermark=void 0,this.callbackRefreshByChange(ft.DELETE_WATERMARK)}}]),s}(ft);function ie(){var t=Math.min($(this,Ut)[0]._count,$(this,Ut).at(-1)._count),e=this.getCurrentPartData($(this,zt),$(this,Kt));D.deleteElements(e,$(this,Ut)),this.clearSelects($(this,Ut)),this.callbackSetCursor(e[t],e[t])}function ne(t,e,i){var n=this;D.createImageCache(e,(function(r){$(n,Ut).length>0&&jt(n,Jt,ie).call(n),jt(n,Qt,ae).call(n,t,e,r,i)}))}function re(t,e,i){var n=this;D.createGraphicCache(t,e,(function(r){$(n,Ut).length>0&&jt(n,Jt,ie).call(n),jt(n,Qt,ae).call(n,t,e,r,i)}))}function ae(t,e,i,n){var r=this.getCurrentPartData($(this,zt),$(this,Kt)),a=jt(this,te,oe).call(this,i),o=D.createImage(t,e,a,$(this,Vt),r,$(this,Xt));D.insertElement(r,$(this,Xt),o),this.callbackSetCursor(o,o),this.callbackRefreshByChange(n)}function oe(t){var e={},i=this.getCurrentPartModel($(this,Gt),$(this,Kt)).getChapterSize($(this,Xt)),n=parseInt(i.lineWidth-i.lineLeft-i.lineRight);return e.width=t.width/a.SYS_STANDARD_RATIO,e.height=t.height/a.SYS_STANDARD_RATIO,e.width>n&&(e.height=e.height*n/e.width,e.width=n),e.height>n&&(e.width=e.width*n/e.height,e.height=n),e.view=t,e.base64=t.src,e.uuid=b.getUUID(),L.storeImage(e),e}function se(t,e){he(t,e),e.add(t)}function le(t,e,i){he(t,e),e.set(t,i)}function he(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ce(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var ue=new WeakMap,fe=new WeakMap,de=new WeakMap,pe=new WeakMap,ge=new WeakMap,ve=new WeakMap,_e=new WeakMap,ye=new WeakMap,Ee=new WeakMap,we=new WeakMap,me=new WeakMap,be=new WeakMap,Te=new WeakMap,ke=new WeakMap,Se=new WeakSet,xe=new WeakSet,Le=new WeakSet,Ce=new WeakSet,Re=new WeakSet,Oe=new WeakSet,Ie=new WeakSet,Ae=new WeakSet,Pe=new WeakSet,Me=new WeakSet,De=new WeakSet,Ne=new WeakSet,Be=new WeakSet,We=new WeakSet,He=new WeakSet,Fe=new WeakSet,Ye=new WeakSet,je=new WeakSet,ze=new WeakSet,Ge=new WeakSet,Ue=new WeakSet,Xe=new WeakSet,Ke=new WeakSet,Ve=new WeakSet,Ze=new WeakSet,Je=function(e){K(s,e);var i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(i);if(r){var n=Z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function s(){var e;t(this,s);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return se(U(e=o.call.apply(o,[this].concat(n))),Ze),se(U(e),Ve),se(U(e),Ke),se(U(e),Xe),se(U(e),Ue),se(U(e),Ge),se(U(e),ze),se(U(e),je),se(U(e),Ye),se(U(e),Fe),se(U(e),He),se(U(e),We),se(U(e),Be),se(U(e),Ne),se(U(e),De),se(U(e),Me),se(U(e),Pe),se(U(e),Ae),se(U(e),Ie),se(U(e),Oe),se(U(e),Re),se(U(e),Ce),se(U(e),Le),se(U(e),xe),se(U(e),Se),le(U(e),ue,{writable:!0,value:void 0}),le(U(e),fe,{writable:!0,value:void 0}),le(U(e),de,{writable:!0,value:void 0}),le(U(e),pe,{writable:!0,value:void 0}),le(U(e),ge,{writable:!0,value:void 0}),le(U(e),ve,{writable:!0,value:void 0}),le(U(e),_e,{writable:!0,value:void 0}),le(U(e),ye,{writable:!0,value:void 0}),le(U(e),Ee,{writable:!0,value:void 0}),le(U(e),we,{writable:!0,value:void 0}),le(U(e),me,{writable:!0,value:void 0}),le(U(e),be,{writable:!0,value:void 0}),le(U(e),Te,{writable:!0,value:void 0}),le(U(e),ke,{writable:!0,value:void 0}),e}return n(s,[{key:"init",value:function(t,e,i,n,r,a,o,s,l){q(this,ue,t),q(this,fe,e),q(this,de,i),q(this,pe,n),q(this,ge,r),q(this,ve,a),q(this,_e,o),q(this,Ee,l),q(this,ye,s)}},{key:"setPendingCallBack",value:function(t){q(this,Te,t)}},{key:"setChangePartCallBack",value:function(t){q(this,ke,t)}},{key:"mousedown",value:function(t){q(this,we,t),q(this,me,t),w.isNotUndefined($(this,_e))?(ce(this,Se,$e).call(this,t),this.callbackRefresh(!0)):ce(this,Ce,ti).call(this,t)}},{key:"mousemove",value:function(t){ce(this,Ze,mi).call(this,t)&&(w.isNotUndefined($(this,_e))?(ce(this,xe,qe).call(this,t),this.callbackRefresh()):ce(this,Re,ei).call(this,t),q(this,me,t))}},{key:"mouseup",value:function(t){w.isUndefined(t)&&(t=$(this,me)),w.isNotUndefined($(this,_e))?ce(this,Le,Qe).call(this,t):ce(this,Oe,ii).call(this,t),q(this,we,void 0),this.callbackRefresh()}},{key:"mousecursor",value:function(t){var e=this.getCanvasOffset(t),i="text",n="move",r=ce(this,je,pi).call(this,e.offsetX,e.offsetY,!1);if(r.type==a.CLICK_TYPE_ELEMENT)D.isImageBlock(r.element)&&(i=n);else if(r.type==a.CLICK_TYPE_TABLE_BORDER)i=r.border==a.TABLE_BORDER_BOT||r.border==a.TABLE_BORDER_TOP?"row-resize":"col-resize";else if(r.type==a.CLICK_TYPE_IMAGE_BLOCK)if($(this,ve)){var o=ce(this,Ue,_i).call(this,e,r.element);i=w.isNotUndefined(o)?o.c:n}else i=n;else if(r.type==a.CLICK_TYPE_OBJECT)if($(this,ve)&&D.isLineObject(r.element)){var s=ce(this,Xe,yi).call(this,e,r.element);i=w.isNotUndefined(s)?s.c:n}else if($(this,ve)&&D.isRectObject(r.element)){var l=ce(this,Ke,Ei).call(this,e,r.element);i=w.isNotUndefined(l)?l.c:n}else i=n;this.callbackCursorStyle(i)}},{key:"mousemenu",value:function(t){var e=ce(this,Ve,wi).call(this,t),i=this.getCurrentPartModel($(this,fe),$(this,Ee)),n=i.findTableMergeInfo($(this,de)),r=i.isTableElement($(this,ge),$(this,de));if($(this,Ee)!=e){var a={type:"1",pageX:t.pageX,pageY:t.pageY,seg:e};this.callbackContextMenu(a)}else{var o={type:"0",pageX:t.pageX,pageY:t.pageY,copy:$(this,de).length>0,table:r,tableMerge:n.rect,tableSplit:0==$(this,de).length,tableDeleteRow:n.arow,tableDeleteCol:n.acol,tableDeleteCell:!n.cell&&r,tableDelete:n.table};this.callbackContextMenu(o)}}},{key:"mousedblclick",value:function(t){var e=ce(this,Ve,wi).call(this,t),i=this.getCanvasOffset(t);e!=$(this,Ee)&&(q(this,Ee,e),$(this,ke).call(this,$(this,Ee)),q(this,be,ce(this,je,pi).call(this,i.offsetX,i.offsetY,!1)),ce(this,Ne,li).call(this),this.callbackChange(),this.callbackRefresh())}}]),s}(ft);function $e(t){var e=this.getCanvasOffset(t);A.debug("mousedown1 [".concat(e.offsetX,",").concat(e.offsetY,"]")),$(this,_e)._drag_offset.y1=e.offsetY,$(this,_e)._drag_offset.x1=e.offsetX,$(this,_e).offset.y1=e.offsetY,$(this,_e).offset.x1=e.offsetX,this.callbackCursorStyle("crosshair")}function qe(t){var e=this.getCanvasOffset(t);A.debug("mousemove1 [".concat(e.offsetX,",").concat(e.offsetY,"]")),$(this,_e)._drag_offset.y2=e.offsetY,$(this,_e)._drag_offset.x2=e.offsetX,this.callbackCursorStyle("crosshair")}function Qe(t){var e=this.getCanvasOffset(t);A.debug("mouseup1 [".concat(e.offsetX,",").concat(e.offsetY,"]")),$(this,_e)._drag_offset.y2=e.offsetY,$(this,_e)._drag_offset.x2=e.offsetX,$(this,_e).offset.y2=e.offsetY,$(this,_e).offset.x2=e.offsetX,this.callbackCursorStyle("crosshair"),$(this,Te).call(this)}function ti(t){var e=this.getCanvasOffset(t);A.debug("mousedown [".concat(e.offsetX,",").concat(e.offsetY,"]")),q(this,be,ce(this,je,pi).call(this,e.offsetX,e.offsetY,!1)),$(this,be).type==a.CLICK_TYPE_ELEMENT?(ce(this,Ne,li).call(this),this.callbackRefresh(!0)):$(this,be).type==a.CLICK_TYPE_TABLE_BORDER?(ce(this,Be,hi).call(this),this.callbackRefresh(!1)):$(this,be).type==a.CLICK_TYPE_IMAGE_BLOCK?(ce(this,We,ci).call(this,e),this.callbackRefresh(!0)):$(this,be).type==a.CLICK_TYPE_OBJECT&&(ce(this,He,ui).call(this,e),this.callbackRefresh(!0))}function ei(t){var e=this.getCanvasOffset(t);if(A.debug("mousemove [".concat(e.offsetX,",").concat(e.offsetY,"]")),$(this,be).type==a.CLICK_TYPE_ELEMENT){var i,n=this.getCurrentPartModel($(this,fe),$(this,Ee)),r=ce(this,je,pi).call(this,e.offsetX,e.offsetY,!0);i=r.element._count>$(this,be).element._count?n.selectElement($(this,be).element,r.element):n.selectElement(r.element,$(this,be).element),this.arrangeElements($(this,de),i),this.callbackRefresh(!0)}else $(this,be).type==a.CLICK_TYPE_TABLE_BORDER?($(this,be).border==a.TABLE_BORDER_LEFT||$(this,be).border==a.TABLE_BORDER_RIGHT?$(this,ye).setType(a.DRAG_VIEW_LINE_V,e):$(this,ye).setType(a.DRAG_VIEW_LINE_H,e),this.callbackRefresh(!1)):$(this,be).type==a.CLICK_TYPE_IMAGE_BLOCK?(ce(this,Fe,fi).call(this,t),this.callbackRefresh(!0)):$(this,be).type==a.CLICK_TYPE_OBJECT&&(ce(this,Ye,di).call(this,t),this.callbackRefresh(!0))}function ii(t){var e=this.getCanvasOffset(t);A.debug("mouseup [".concat(e.offsetX,",").concat(e.offsetY,"]")),$(this,be).type==a.CLICK_TYPE_ELEMENT||($(this,be).type==a.CLICK_TYPE_TABLE_BORDER?(ce(this,Ie,ni).call(this,t),this.callbackSaveMirror(ft.CHANGE_TABLE_SIZE),this.callbackChange(),$(this,ye).setType(a.DRAG_VIEW_NONE)):$(this,be).type==a.CLICK_TYPE_IMAGE_BLOCK?(ce(this,Me,oi).call(this,t),this.callbackSaveMirror(ft.CHANGE_BLOCK_SIZE),this.callbackChange(),$(this,ye).setType(a.DRAG_VIEW_NONE)):$(this,be).type==a.CLICK_TYPE_OBJECT&&(ce(this,De,si).call(this,t),this.callbackSaveMirror(ft.CHANGE_OBJECT_SIZE),this.callbackChange(),$(this,ye).setType(a.DRAG_VIEW_NONE)))}function ni(t){var e=this.getCanvasOffset($(this,we)),i=this.getCanvasOffset(t),n=$(this,be).cell,r=$(this,be).border,o=$(this,be).all;r==a.TABLE_BORDER_TOP?ce(this,Ae,ri).call(this,n.property.row-n.property.rowspan,o,i.offsetY-e.offsetY):r==a.TABLE_BORDER_BOT?ce(this,Ae,ri).call(this,n.property.row,o,i.offsetY-e.offsetY):r==a.TABLE_BORDER_LEFT?ce(this,Pe,ai).call(this,n.property.col-n.property.colspan,o,i.offsetX-e.offsetX):r==a.TABLE_BORDER_RIGHT&&ce(this,Pe,ai).call(this,n.property.col,o,i.offsetX-e.offsetX)}function ri(t,e,i){t>=0&&e.forEach((function(e){e.property.row==t&&(e.property.preHeight=Math.max(e.property.preHeight+i,a.TABLE_FIELD_MIN_HEIGHT))}))}function ai(t,e,i){var n=0,r=0,o=0,s=[];e.forEach((function(t){0==t.property.row&&(n=Math.max(n,t.property.col),r=t.property.indentRight,o=t.property.indentLeft,s.push(t.property.preWidth))}));var l=void 0;t<0?(l=i>=0?Math.min(i,s[0]-a.TABLE_FIELD_MIN_WIDTH):i,o+=l,s[0]-=l):t<n?(l=i>=0?Math.min(i,s[t+1]-a.TABLE_FIELD_MIN_WIDTH):-1*Math.min(Math.abs(i),s[t]-a.TABLE_FIELD_MIN_WIDTH),s[t]+=l,s[t+1]-=l):(l=i>=0?i:-1*Math.min(Math.abs(i),s[t]-a.TABLE_FIELD_MIN_WIDTH),s[t]+=l,r-=l),e.forEach((function(t){t.property.preWidth=s[t.property.col],t.property.indentRight=r,t.property.indentLeft=o}))}function oi(){if($(this,ve)&&D.isImageBlock($(this,ve))){var t=$(this,ve)._drag_size,e=$(this,ve).image;e.width=Math.abs(t.width),e.height=Math.abs(t.height)}}function si(){($(this,ve)&&D.isLineObject($(this,ve))||$(this,ve)&&D.isRectObject($(this,ve)))&&($(this,ve).offset.x1=$(this,ve)._drag_offset.x1,$(this,ve).offset.y1=$(this,ve)._drag_offset.y1,$(this,ve).offset.x2=$(this,ve)._drag_offset.x2,$(this,ve).offset.y2=$(this,ve)._drag_offset.y2)}function li(){var t=this;this.clearSelects($(this,de));var e=this.getCurrentPartData($(this,ue),$(this,Ee));if($(this,be).next){var i=e.findIndex((function(e){return e===$(t,be).element}));this.callbackSetCursor($(this,be).element,e[i+1])}else this.callbackSetCursor($(this,be).element,$(this,be).element)}function hi(){}function ci(t){if($(this,ve)===$(this,be).element){var e=ce(this,Ue,_i).call(this,t,$(this,be).element);w.isNotUndefined(e)?$(this,be).point=e.i:$(this,be).point=-1}else $(this,be).point=-1,this.clearSelects($(this,de)),this.callbackSetCursor($(this,be).element,$(this,be).element,$(this,be).element)}function ui(t){if($(this,ve)===$(this,be).element){if(D.isLineObject($(this,ve))){var e=ce(this,Xe,yi).call(this,t,$(this,be).element);w.isNotUndefined(e)?$(this,be).point=e.i:$(this,be).point=-1}else if(D.isRectObject($(this,ve))){var i=ce(this,Ke,Ei).call(this,t,$(this,be).element);w.isNotUndefined(i)?$(this,be).point=i.i:$(this,be).point=-1}}else $(this,be).point=-1,this.clearSelects($(this,de)),this.callbackSetCursor($(this,pe),$(this,ge),$(this,be).element)}function fi(t){var e=this.getCanvasOffset($(this,me)),i=this.getCanvasOffset(t),n=i.offsetX-e.offsetX,r=i.offsetY-e.offsetY,o=$(this,ve)._drag_size,s=$(this,ve)._drag_offset;0==$(this,be).point?(o.height=o.height-r,o.width=o.width-n,s.offsetX+=n,s.offsetY+=r):1==$(this,be).point?(s.offsetY+=r,o.height=o.height-r):2==$(this,be).point?(s.offsetY+=r,o.height=o.height-r,o.width=o.width+n):3==$(this,be).point?(s.offsetX+=n,o.width=o.width-n):4==$(this,be).point?o.width=o.width+n:5==$(this,be).point?(s.offsetX+=n,o.height=o.height+r,o.width=o.width-n):6==$(this,be).point?o.height=o.height+r:7==$(this,be).point&&(o.height=o.height+r,o.width=o.width+n),$(this,ye).setType(a.DRAG_VIEW_IMAGE,$(this,ve))}function di(t){var e=this.getCanvasOffset(t);if(D.isLineObject($(this,ve))){var i=$(this,ve)._drag_offset;if(0==$(this,be).point)i.x1=e.offsetX,i.y1=e.offsetY;else if(1==$(this,be).point)i.x2=e.offsetX,i.y2=e.offsetY;else{var n=this.getCanvasOffset($(this,me));i.x1+=e.offsetX-n.offsetX,i.y1+=e.offsetY-n.offsetY,i.x2+=e.offsetX-n.offsetX,i.y2+=e.offsetY-n.offsetY}}else if(D.isRectObject($(this,ve))){var r=$(this,ve)._drag_offset;if(0==$(this,be).point)r.x1=e.offsetX,r.y1=e.offsetY;else if(1==$(this,be).point)r.y1=e.offsetY;else if(2==$(this,be).point)r.x2=e.offsetX,r.y1=e.offsetY;else if(3==$(this,be).point)r.x1=e.offsetX;else if(4==$(this,be).point)r.x2=e.offsetX;else if(5==$(this,be).point)r.x1=e.offsetX,r.y2=e.offsetY;else if(6==$(this,be).point)r.y2=e.offsetY;else if(7==$(this,be).point)r.x2=e.offsetX,r.y2=e.offsetY;else{var o=this.getCanvasOffset($(this,me));r.x1+=e.offsetX-o.offsetX,r.y1+=e.offsetY-o.offsetY,r.x2+=e.offsetX-o.offsetX,r.y2+=e.offsetY-o.offsetY}}$(this,ye).setType(a.DRAG_VIEW_OBJECT,$(this,ve))}function pi(t,e,i){if(!i){if($(this,ve)){var n=ce(this,Ge,vi).call(this,t,e);if(w.isNotUndefined(n))return n}var r=ce(this,ze,gi).call(this,$(this,ue).objects.above,t,e);if(w.isNotUndefined(r))return{element:r,type:a.CLICK_TYPE_OBJECT}}var o=this.getCurrentPartOffset($(this,fe),$(this,Ee),t,e);return this.getCurrentPartModel($(this,fe),$(this,Ee)).localeElement(o.offsetX,o.offsetY,i)}function gi(t,e,i){return t.find((function(t){if(D.isLineObject(t)){var n=t.offset;return v.pointToLineDistance(e,i,n.x1,n.y1,n.x2,n.y2)<=a.LEN_GAP_DRAG}if(D.isRectObject(t)){if(t.property.classify==D.OBJECT_SHAPE_RECT){var r=t.offset;return v.pointToRectDistance(e,i,r.x1,r.y1,r.x2,r.y2)<=a.LEN_GAP_DRAG}if(t.property.classify==D.OBJECT_SHAPE_ELLIPSE){var o=t.offset;return v.pointToEllipseDistance(e,i,o.x1,o.y1,o.x2,o.y2)<=a.LEN_GAP_DRAG}if(t.property.classify==D.OBJECT_SHAPE_TRIANGLE){var s=t.offset;return v.pointToTriangleDistance(e,i,s.x1,s.y1,s.x2,s.y2)<=a.LEN_GAP_DRAG}return!1}return!1}))}function vi(t,e){if(D.isImageBlock($(this,ve))){var i=ce(this,Ue,_i).call(this,{offsetX:t,offsetY:e},$(this,ve));if(w.isNotUndefined(i))return{element:$(this,ve),type:a.CLICK_TYPE_IMAGE_BLOCK}}else if(D.isLineObject($(this,ve))){var n=ce(this,Xe,yi).call(this,{offsetX:t,offsetY:e},$(this,ve));if(w.isNotUndefined(n))return{element:$(this,ve),type:a.CLICK_TYPE_OBJECT}}else if(D.isRectObject($(this,ve))){var r=ce(this,Ke,Ei).call(this,{offsetX:t,offsetY:e},$(this,ve));if(w.isNotUndefined(r))return{element:$(this,ve),type:a.CLICK_TYPE_OBJECT}}}function _i(t,e){return v.getBlockDragRect(e._offset,e._size,a.LEN_BLOCK_DRAG).find((function(e){return v.pointInRect({x:t.offsetX,y:t.offsetY},e)}))}function yi(t,e){if(D.isLineObject(e))return v.getLineObjectDrag(e.offset.x1,e.offset.y1,e.offset.x2,e.offset.y2,a.LEN_BLOCK_DRAG).find((function(e){return v.pointInRect({x:t.offsetX,y:t.offsetY},e)}))}function Ei(t,e){if(D.isRectObject(e))return v.getRectObjectDrag(e.offset.x1,e.offset.y1,e.offset.x2,e.offset.y2,a.LEN_BLOCK_DRAG).find((function(e){return v.pointInRect({x:t.offsetX,y:t.offsetY},e)}))}function wi(t){var e=this.getCanvasOffset(t),i=$(this,fe).getPageSize(),n=e.offsetY%i.pxHeight;return n<i.pxHeaderHeight?a.CONTENT_PART_HEADER:n>i.pxHeight-i.pxFooterHeight?a.CONTENT_PART_FOOTER:a.CONTENT_PART_BODY}function mi(t){return $(this,we)&&t.timeStamp-$(this,me).timeStamp>20}function bi(t,e){ki(t,e),e.add(t)}function Ti(t,e,i){ki(t,e),e.set(t,i)}function ki(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Si(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var xi=new WeakMap,Li=new WeakMap,Ci=new WeakMap,Ri=new WeakMap,Oi=new WeakSet,Ii=new WeakSet,Ai=new WeakSet,Pi=function(e){K(o,e);var i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(i);if(r){var n=Z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return bi(U(e=a.call.apply(a,[this].concat(n))),Ai),bi(U(e),Ii),bi(U(e),Oi),Ti(U(e),xi,{writable:!0,value:void 0}),Ti(U(e),Li,{writable:!0,value:void 0}),Ti(U(e),Ci,{writable:!0,value:void 0}),Ti(U(e),Ri,{writable:!0,value:void 0}),e}return n(o,[{key:"init",value:function(t,e,i,n){q(this,xi,t),q(this,Ci,e),q(this,Li,i),q(this,Ri,n)}},{key:"changeTextStyle",value:function(t){Si(this,Oi,Mi).call(this,t,ft.CHANGE_TEXT_STYLE)}},{key:"changeParagStyle",value:function(t){var e=this;$(this,Ci).length>0?($(this,Ci).length>2&&$(this,Ci).forEach((function(i){i.property.type==D.TYPE_STRUCT&&Si(e,Ii,Di).call(e,i,t)})),Si(this,Ii,Di).call(this,$(this,Ci)[0],t),Si(this,Ii,Di).call(this,$(this,Ci).at(-1),t)):Si(this,Ii,Di).call(this,$(this,Li),t),this.callbackRefreshByChange(ft.CHANGE_PARAG_STYLE)}},{key:"changeFontColor",value:function(t){Si(this,Oi,Mi).call(this,{color:t},ft.CHANGE_FONT_COLOR);var e=$(this,xi).config.usedColors;e.unshift(t),e.length>20&&e.splice(20,e.length-20)}},{key:"getParagStyle",value:function(){if($(this,Ci).length>0){for(var t=[],e=0;e<$(this,Ci).length;e++){var i=$(this,Ci)[e];i.property.type==D.TYPE_STRUCT&&t.push(i.paragStyle)}$(this,Ci).at(-1).type!=D.TYPE_STRUCT&&t.push(Si(this,Ai,Ni).call(this,$(this,Ci).at(-1)));var n=t.at(0);return t.forEach((function(t){["align","indentLeft","indentRight","indentSpecialType","indentSpecialvalue","rowspac","segmentSpacPre","segmentSpacAft"].forEach((function(e){t[e]!=n[e]&&(n[e]=void 0)}))})),n}return Si(this,Ai,Ni).call(this,$(this,Li))}},{key:"getUsedColors",value:function(){return $(this,xi)?$(this,xi).config.usedColors:[]}}]),o}(ft);function Mi(t,e){$(this,Ci).length>0&&($(this,Ci).forEach((function(e){Object.assign(e.textStyle,t)})),console.info($(this,Ci)),this.callbackRefreshByChange(e))}function Di(t,e){for(var i=this.getCurrentPartData($(this,xi),$(this,Ri)),n=t._count;n<i.length;n++){var r=i[n];if(r.property.type==D.TYPE_STRUCT){Object.assign(r.paragStyle,e);break}}}function Ni(t){for(var e=this.getCurrentPartData($(this,xi),$(this,Ri)),i=t._count;i<e.length;i++){var n=e[i];if(n.property.type==D.TYPE_STRUCT)return n.paragStyle}}function Bi(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}var Wi=new WeakMap,Hi=new WeakMap,Fi=new WeakMap,Yi=new WeakMap,ji=new WeakMap,zi=new WeakMap,Gi=function(e){K(s,e);var i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(i);if(r){var n=Z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function s(){var e;t(this,s);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return Bi(U(e=o.call.apply(o,[this].concat(n))),Wi,{writable:!0,value:void 0}),Bi(U(e),Hi,{writable:!0,value:void 0}),Bi(U(e),Fi,{writable:!0,value:void 0}),Bi(U(e),Yi,{writable:!0,value:void 0}),Bi(U(e),ji,{writable:!0,value:void 0}),Bi(U(e),zi,{writable:!0,value:void 0}),e}return n(s,[{key:"init",value:function(t,e,i,n,r,a){q(this,Wi,t),q(this,Hi,e),q(this,Yi,n),q(this,Fi,i),q(this,ji,r),q(this,zi,a)}},{key:"tableMerge",value:function(){var t=this.getCurrentPartData($(this,Wi),$(this,zi)),e=this.getCurrentPartModel($(this,Hi),$(this,zi)).findTableMergeInfo($(this,Fi));e.rect&&(D.tableMerge(t,e),this.callbackSetCursor($(this,Fi).at(-1),$(this,Fi).at(-1)),this.clearSelects($(this,Fi)),this.callbackRefreshByChange(ft.TABLE_MERGE))}},{key:"tableDeleteRow",value:function(){var t=this.getCurrentPartData($(this,Wi),$(this,zi)),e=this.getCurrentPartModel($(this,Hi),$(this,zi)).findTableMergeInfo($(this,Fi));if(e.rect&&e.arow){var i=D.findNextElement(t,$(this,Fi).at(-1));D.tableDeleteRow(t,e.fields,e.minrow,e.maxrow),this.clearSelects($(this,Fi)),this.callbackSetCursor(i,i),this.callbackRefreshByChange(ft.TABLE_DELETE_ROW)}}},{key:"tableDeleteCol",value:function(){var t=this.getCurrentPartData($(this,Wi),$(this,zi)),e=this.getCurrentPartModel($(this,Hi),$(this,zi)).findTableMergeInfo($(this,Fi));if(e.rect&&e.acol){var i=D.findNextElement(t,$(this,Fi).at(-1));D.tableDeleteCol(t,e.fields,e.mincol,e.maxcol),this.clearSelects($(this,Fi)),this.callbackSetCursor(i,i),this.callbackRefreshByChange(ft.TABLE_DELETE_COL)}}},{key:"tableDeleteCell",value:function(t){var e=this.getCurrentPartData($(this,Wi),$(this,zi)),i=this.getCurrentPartModel($(this,Hi),$(this,zi)).findTableFieldInfo($(this,ji),$(this,Fi));if("col"==t){var n=D.tableDeleteCell(e,i.fields,i.mincol,i.maxcol,t);this.callbackSetCursor(n,n)}else{var r=D.tableDeleteCell(e,i.fields,i.minrow,i.maxrow,t);this.callbackSetCursor(r,r)}this.clearSelects($(this,Fi)),this.callbackRefreshByChange(ft.TABLE_DELETE_CELL)}},{key:"tableDelete",value:function(){var t=this.getCurrentPartData($(this,Wi),$(this,zi)),e=this.getCurrentPartModel($(this,Hi),$(this,zi)).findTableFieldInfo($(this,Fi));if(e.rect&&e.table){var i=D.findNextElement(t,$(this,Fi).at(-1));D.tableDelete(t,$(this,Fi),e),this.clearSelects($(this,Fi)),this.callbackSetCursor(i,i),this.callbackRefreshByChange(ft.TABLE_DELETE)}}},{key:"tableInsertCell",value:function(t){var e=this.getCurrentPartData($(this,Wi),$(this,zi)),i=this.getCurrentPartModel($(this,Hi),$(this,zi)).findTableFieldInfo($(this,ji),$(this,Fi));i&&(t==a.TABLE_INSERT_ABOVE?D.tableInsertRowAbove(e,i.minrow,i.fields):t==a.TABLE_INSERT_BELOW?D.tableInsertRowBelow(e,i.maxrow,i.fields):t==a.TABLE_INSERT_LEFT?D.tableInsertColLeft(e,i.mincol,i.fields):t==a.TABLE_INSERT_RIGHT&&D.tableInsertColRight(e,i.maxcol,i.fields),this.clearSelects($(this,Fi)),this.callbackRefreshByChange(ft.TABLE_INSERT_CELL))}},{key:"tableSplit",value:function(t){A.debug("tableSplit [".concat(t.rows,",").concat(t.cols,"]"));var e=this.getCurrentPartData($(this,Wi),$(this,zi)),i=this.getCurrentPartModel($(this,Hi),$(this,zi)).findTableFieldInfo($(this,ji),$(this,Fi)),n=i.field.at(-1).property.rowspan,r=i.field.at(-1).property.colspan,a=i.field.at(-1).property.col,o=(i.field.at(-1).property.row,i.field.at(-1).property.preWidth);if(!(t.rows>1&&n>1&&t.rows!=n||t.cols>1&&r>1&&t.cols!=r)){var s=[];if(t.rows>1?s=n>1?D.tableSplitRowspan(i.field,i.fields):D.tableSplitRow(e,i.field,i.fields,t.rows):s.push(i.field),t.cols>1)if(r>1)D.tableSplitColspan(s,i.fields);else{for(var l=[],h=parseInt(o/t.cols),c=0;c<t.cols;c++)c==t.cols-1?l.push(o):l.push(h),o-=h;D.tableSplitCol(e,s,i.fields,t.cols,l,a)}this.clearSelects($(this,Fi)),this.callbackRefreshByChange(ft.TABLE_SPLIT)}}},{key:"tableCellInfo",value:function(){return this.getCurrentPartModel($(this,Hi),$(this,zi)).findTableFieldInfo($(this,ji),$(this,Fi))}}]),s}(ft);function Ui(t,e,i){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,i)}var Xi=new WeakMap,Ki=new WeakMap,Vi=new WeakMap,Zi=function(){function e(){t(this,e),Ui(this,Xi,{writable:!0,value:void 0}),Ui(this,Ki,{writable:!0,value:void 0}),Ui(this,Vi,{writable:!0,value:void 0})}return n(e,[{key:"setState",value:function(t){q(this,Xi,t)}},{key:"setType",value:function(t,e){q(this,Ki,t),q(this,Vi,e)}},{key:"getType",value:function(){return $(this,Ki)}},{key:"getObject",value:function(){return $(this,Vi)}},{key:"isActive",value:function(){return $(this,Xi)}}]),e}();function Ji(){return Ji="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Z(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},Ji.apply(this,arguments)}function $i(t,e,i){qi(t,e),e.set(t,i)}function qi(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qi(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var tn=new WeakMap,en=new WeakMap,nn=new WeakMap,rn=new WeakSet,an=function(){function e(){var i;t(this,e),qi(this,i=rn),i.add(this),$i(this,tn,{writable:!0,value:void 0}),$i(this,en,{writable:!0,value:600}),$i(this,nn,{writable:!0,value:void 0})}return n(e,[{key:"setMillisec",value:function(t){q(this,en,t)}},{key:"setAction",value:function(t){q(this,nn,t)}},{key:"start",value:function(t){var e=this;clearInterval($(this,tn)),q(this,tn,window.setTimeout((function(){Qi(e,rn,on).call(e)}),t))}},{key:"pause",value:function(){window.clearInterval($(this,tn))}}]),e}();function on(){var t=this;$(this,nn).call(this),q(this,tn,window.setTimeout((function(){Qi(t,rn,on).call(t,0)}),$(this,en)))}var sn=new WeakMap,ln=new WeakMap,hn=function(e){K(o,e);var i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(i);if(r){var n=Z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return $i(U(e=a.call.apply(a,[this].concat(n))),sn,{writable:!0,value:void 0}),$i(U(e),ln,{writable:!0,value:void 0}),e}return n(o,[{key:"start",value:function(t){Ji(Z(o.prototype),"start",this).call(this,t),q(this,sn,!0)}},{key:"switch",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){q(this,ln,t)}))},{key:"setRefresh",value:function(t){var e=this;this.setAction((function(){t($(e,ln)&&$(e,sn)),q(e,sn,!$(e,sn))}))}}]),o}(an);function cn(t){let e=t.length;for(;--e>=0;)t[e]=0}const un=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),fn=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),dn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),pn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gn=new Array(576);cn(gn);const vn=new Array(60);cn(vn);const _n=new Array(512);cn(_n);const yn=new Array(256);cn(yn);const En=new Array(29);cn(En);const wn=new Array(30);function mn(t,e,i,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}let bn,Tn,kn;function Sn(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}cn(wn);const xn=t=>t<256?_n[t]:_n[256+(t>>>7)],Ln=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},Cn=(t,e,i)=>{t.bi_valid>16-i?(t.bi_buf|=e<<t.bi_valid&65535,Ln(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=i-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)},Rn=(t,e,i)=>{Cn(t,i[2*e],i[2*e+1])},On=(t,e)=>{let i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1},In=(t,e,i)=>{const n=new Array(16);let r,a,o=0;for(r=1;r<=15;r++)o=o+i[r-1]<<1,n[r]=o;for(a=0;a<=e;a++){let e=t[2*a+1];0!==e&&(t[2*a]=On(n[e]++,e))}},An=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Pn=t=>{t.bi_valid>8?Ln(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Mn=(t,e,i,n)=>{const r=2*e,a=2*i;return t[r]<t[a]||t[r]===t[a]&&n[e]<=n[i]},Dn=(t,e,i)=>{const n=t.heap[i];let r=i<<1;for(;r<=t.heap_len&&(r<t.heap_len&&Mn(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!Mn(e,n,t.heap[r],t.depth));)t.heap[i]=t.heap[r],i=r,r<<=1;t.heap[i]=n},Nn=(t,e,i)=>{let n,r,a,o,s=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+s++],n+=(255&t.pending_buf[t.sym_buf+s++])<<8,r=t.pending_buf[t.sym_buf+s++],0===n?Rn(t,r,e):(a=yn[r],Rn(t,a+256+1,e),o=un[a],0!==o&&(r-=En[a],Cn(t,r,o)),n--,a=xn(n),Rn(t,a,i),o=fn[a],0!==o&&(n-=wn[a],Cn(t,n,o)))}while(s<t.sym_next);Rn(t,256,e)},Bn=(t,e)=>{const i=e.dyn_tree,n=e.stat_desc.static_tree,r=e.stat_desc.has_stree,a=e.stat_desc.elems;let o,s,l,h=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<a;o++)0!==i[2*o]?(t.heap[++t.heap_len]=h=o,t.depth[o]=0):i[2*o+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=h<2?++h:0,i[2*l]=1,t.depth[l]=0,t.opt_len--,r&&(t.static_len-=n[2*l+1]);for(e.max_code=h,o=t.heap_len>>1;o>=1;o--)Dn(t,i,o);l=a;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Dn(t,i,1),s=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=s,i[2*l]=i[2*o]+i[2*s],t.depth[l]=(t.depth[o]>=t.depth[s]?t.depth[o]:t.depth[s])+1,i[2*o+1]=i[2*s+1]=l,t.heap[1]=l++,Dn(t,i,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const i=e.dyn_tree,n=e.max_code,r=e.stat_desc.static_tree,a=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,l=e.stat_desc.max_length;let h,c,u,f,d,p,g=0;for(f=0;f<=15;f++)t.bl_count[f]=0;for(i[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<573;h++)c=t.heap[h],f=i[2*i[2*c+1]+1]+1,f>l&&(f=l,g++),i[2*c+1]=f,c>n||(t.bl_count[f]++,d=0,c>=s&&(d=o[c-s]),p=i[2*c],t.opt_len+=p*(f+d),a&&(t.static_len+=p*(r[2*c+1]+d)));if(0!==g){do{for(f=l-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,g-=2}while(g>0);for(f=l;0!==f;f--)for(c=t.bl_count[f];0!==c;)u=t.heap[--h],u>n||(i[2*u+1]!==f&&(t.opt_len+=(f-i[2*u+1])*i[2*u],i[2*u+1]=f),c--)}})(t,e),In(i,h,t.bl_count)},Wn=(t,e,i)=>{let n,r,a=-1,o=e[1],s=0,l=7,h=4;for(0===o&&(l=138,h=3),e[2*(i+1)+1]=65535,n=0;n<=i;n++)r=o,o=e[2*(n+1)+1],++s<l&&r===o||(s<h?t.bl_tree[2*r]+=s:0!==r?(r!==a&&t.bl_tree[2*r]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,a=r,0===o?(l=138,h=3):r===o?(l=6,h=3):(l=7,h=4))},Hn=(t,e,i)=>{let n,r,a=-1,o=e[1],s=0,l=7,h=4;for(0===o&&(l=138,h=3),n=0;n<=i;n++)if(r=o,o=e[2*(n+1)+1],!(++s<l&&r===o)){if(s<h)do{Rn(t,r,t.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(Rn(t,r,t.bl_tree),s--),Rn(t,16,t.bl_tree),Cn(t,s-3,2)):s<=10?(Rn(t,17,t.bl_tree),Cn(t,s-3,3)):(Rn(t,18,t.bl_tree),Cn(t,s-11,7));s=0,a=r,0===o?(l=138,h=3):r===o?(l=6,h=3):(l=7,h=4)}};let Fn=!1;const Yn=(t,e,i,n)=>{Cn(t,0+(n?1:0),3),Pn(t),Ln(t,i),Ln(t,~i),i&&t.pending_buf.set(t.window.subarray(e,e+i),t.pending),t.pending+=i};var jn={_tr_init:t=>{Fn||((()=>{let t,e,i,n,r;const a=new Array(16);for(i=0,n=0;n<28;n++)for(En[n]=i,t=0;t<1<<un[n];t++)yn[i++]=n;for(yn[i-1]=n,r=0,n=0;n<16;n++)for(wn[n]=r,t=0;t<1<<fn[n];t++)_n[r++]=n;for(r>>=7;n<30;n++)for(wn[n]=r<<7,t=0;t<1<<fn[n]-7;t++)_n[256+r++]=n;for(e=0;e<=15;e++)a[e]=0;for(t=0;t<=143;)gn[2*t+1]=8,t++,a[8]++;for(;t<=255;)gn[2*t+1]=9,t++,a[9]++;for(;t<=279;)gn[2*t+1]=7,t++,a[7]++;for(;t<=287;)gn[2*t+1]=8,t++,a[8]++;for(In(gn,287,a),t=0;t<30;t++)vn[2*t+1]=5,vn[2*t]=On(t,5);bn=new mn(gn,un,257,286,15),Tn=new mn(vn,fn,0,30,15),kn=new mn(new Array(0),dn,0,19,7)})(),Fn=!0),t.l_desc=new Sn(t.dyn_ltree,bn),t.d_desc=new Sn(t.dyn_dtree,Tn),t.bl_desc=new Sn(t.bl_tree,kn),t.bi_buf=0,t.bi_valid=0,An(t)},_tr_stored_block:Yn,_tr_flush_block:(t,e,i,n)=>{let r,a,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),Bn(t,t.l_desc),Bn(t,t.d_desc),o=(t=>{let e;for(Wn(t,t.dyn_ltree,t.l_desc.max_code),Wn(t,t.dyn_dtree,t.d_desc.max_code),Bn(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*pn[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),r=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=r&&(r=a)):r=a=i+5,i+4<=r&&-1!==e?Yn(t,e,i,n):4===t.strategy||a===r?(Cn(t,2+(n?1:0),3),Nn(t,gn,vn)):(Cn(t,4+(n?1:0),3),((t,e,i,n)=>{let r;for(Cn(t,e-257,5),Cn(t,i-1,5),Cn(t,n-4,4),r=0;r<n;r++)Cn(t,t.bl_tree[2*pn[r]+1],3);Hn(t,t.dyn_ltree,e-1),Hn(t,t.dyn_dtree,i-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),Nn(t,t.dyn_ltree,t.dyn_dtree)),An(t),n&&Pn(t)},_tr_tally:(t,e,i)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=i,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(yn[i]+256+1)]++,t.dyn_dtree[2*xn(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{Cn(t,2,3),Rn(t,256,gn),(t=>{16===t.bi_valid?(Ln(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},zn=(t,e,i,n)=>{let r=65535&t,a=t>>>16&65535,o=0;for(;0!==i;){o=i>2e3?2e3:i,i-=o;do{r=r+e[n++]|0,a=a+r|0}while(--o);r%=65521,a%=65521}return r|a<<16};const Gn=new Uint32Array((()=>{let t,e=[];for(var i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e})());var Un=(t,e,i,n)=>{const r=Gn,a=n+i;t^=-1;for(let i=n;i<a;i++)t=t>>>8^r[255&(t^e[i])];return~t},Xn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Kn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Vn,_tr_stored_block:Zn,_tr_flush_block:Jn,_tr_tally:$n,_tr_align:qn}=jn,{Z_NO_FLUSH:Qn,Z_PARTIAL_FLUSH:tr,Z_FULL_FLUSH:er,Z_FINISH:ir,Z_BLOCK:nr,Z_OK:rr,Z_STREAM_END:ar,Z_STREAM_ERROR:or,Z_DATA_ERROR:sr,Z_BUF_ERROR:lr,Z_DEFAULT_COMPRESSION:hr,Z_FILTERED:cr,Z_HUFFMAN_ONLY:ur,Z_RLE:fr,Z_FIXED:dr,Z_DEFAULT_STRATEGY:pr,Z_UNKNOWN:gr,Z_DEFLATED:vr}=Kn,_r=258,yr=262,Er=42,wr=113,mr=666,br=(t,e)=>(t.msg=Xn[e],e),Tr=t=>2*t-(t>4?9:0),kr=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Sr=t=>{let e,i,n,r=t.w_size;e=t.hash_size,n=e;do{i=t.head[--n],t.head[n]=i>=r?i-r:0}while(--e);e=r,n=e;do{i=t.prev[--n],t.prev[n]=i>=r?i-r:0}while(--e)};let xr=(t,e,i)=>(e<<t.hash_shift^i)&t.hash_mask;const Lr=t=>{const e=t.state;let i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+i),t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))},Cr=(t,e)=>{Jn(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Lr(t.strm)},Rr=(t,e)=>{t.pending_buf[t.pending++]=e},Or=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Ir=(t,e,i,n)=>{let r=t.avail_in;return r>n&&(r=n),0===r?0:(t.avail_in-=r,e.set(t.input.subarray(t.next_in,t.next_in+r),i),1===t.state.wrap?t.adler=zn(t.adler,e,r,i):2===t.state.wrap&&(t.adler=Un(t.adler,e,r,i)),t.next_in+=r,t.total_in+=r,r)},Ar=(t,e)=>{let i,n,r=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match;const l=t.strstart>t.w_size-yr?t.strstart-(t.w_size-yr):0,h=t.window,c=t.w_mask,u=t.prev,f=t.strstart+_r;let d=h[a+o-1],p=h[a+o];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(i=e,h[i+o]===p&&h[i+o-1]===d&&h[i]===h[a]&&h[++i]===h[a+1]){a+=2,i++;do{}while(h[++a]===h[++i]&&h[++a]===h[++i]&&h[++a]===h[++i]&&h[++a]===h[++i]&&h[++a]===h[++i]&&h[++a]===h[++i]&&h[++a]===h[++i]&&h[++a]===h[++i]&&a<f);if(n=_r-(f-a),a=f-_r,n>o){if(t.match_start=e,o=n,n>=s)break;d=h[a+o-1],p=h[a+o]}}}while((e=u[e&c])>l&&0!=--r);return o<=t.lookahead?o:t.lookahead},Pr=t=>{const e=t.w_size;let i,n,r;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-yr)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Sr(t),n+=e),0===t.strm.avail_in)break;if(i=Ir(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=i,t.lookahead+t.insert>=3)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=xr(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=xr(t,t.ins_h,t.window[r+3-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<yr&&0!==t.strm.avail_in)},Mr=(t,e)=>{let i,n,r,a=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,o=0,s=t.strm.avail_in;do{if(i=65535,r=t.bi_valid+42>>3,t.strm.avail_out<r)break;if(r=t.strm.avail_out-r,n=t.strstart-t.block_start,i>n+t.strm.avail_in&&(i=n+t.strm.avail_in),i>r&&(i=r),i<a&&(0===i&&e!==ir||e===Qn||i!==n+t.strm.avail_in))break;o=e===ir&&i===n+t.strm.avail_in?1:0,Zn(t,0,0,o),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,Lr(t.strm),n&&(n>i&&(n=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,i-=n),i&&(Ir(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(0===o);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?4:e!==Qn&&e!==ir&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(r=t.window_size-t.strstart,t.strm.avail_in>r&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,r+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),r>t.strm.avail_in&&(r=t.strm.avail_in),r&&(Ir(t.strm,t.window,t.strstart,r),t.strstart+=r,t.insert+=r>t.w_size-t.insert?t.w_size-t.insert:r),t.high_water<t.strstart&&(t.high_water=t.strstart),r=t.bi_valid+42>>3,r=t.pending_buf_size-r>65535?65535:t.pending_buf_size-r,a=r>t.w_size?t.w_size:r,n=t.strstart-t.block_start,(n>=a||(n||e===ir)&&e!==Qn&&0===t.strm.avail_in&&n<=r)&&(i=n>r?r:n,o=e===ir&&0===t.strm.avail_in&&i===n?1:0,Zn(t,t.block_start,i,o),t.block_start+=i,Lr(t.strm)),o?3:1)},Dr=(t,e)=>{let i,n;for(;;){if(t.lookahead<yr){if(Pr(t),t.lookahead<yr&&e===Qn)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=xr(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-yr&&(t.match_length=Ar(t,i)),t.match_length>=3)if(n=$n(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=xr(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=xr(t,t.ins_h,t.window[t.strstart+1]);else n=$n(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Cr(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===ir?(Cr(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Cr(t,!1),0===t.strm.avail_out)?1:2},Nr=(t,e)=>{let i,n,r;for(;;){if(t.lookahead<yr){if(Pr(t),t.lookahead<yr&&e===Qn)return 1;if(0===t.lookahead)break}if(i=0,t.lookahead>=3&&(t.ins_h=xr(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-yr&&(t.match_length=Ar(t,i),t.match_length<=5&&(t.strategy===cr||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=$n(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=xr(t,t.ins_h,t.window[t.strstart+3-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Cr(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=$n(t,0,t.window[t.strstart-1]),n&&Cr(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=$n(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===ir?(Cr(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Cr(t,!1),0===t.strm.avail_out)?1:2};function Br(t,e,i,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=r}const Wr=[new Br(0,0,0,0,Mr),new Br(4,4,8,4,Dr),new Br(4,5,16,8,Dr),new Br(4,6,32,32,Dr),new Br(4,4,16,16,Nr),new Br(8,16,32,32,Nr),new Br(8,16,128,128,Nr),new Br(8,32,128,256,Nr),new Br(32,128,258,1024,Nr),new Br(32,258,258,4096,Nr)];function Hr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=vr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),kr(this.dyn_ltree),kr(this.dyn_dtree),kr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),kr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),kr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Fr=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Er&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==wr&&e.status!==mr?1:0},Yr=t=>{if(Fr(t))return br(t,or);t.total_in=t.total_out=0,t.data_type=gr;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?Er:wr,t.adler=2===e.wrap?0:1,e.last_flush=-2,Vn(e),rr},jr=t=>{const e=Yr(t);var i;return e===rr&&((i=t.state).window_size=2*i.w_size,kr(i.head),i.max_lazy_match=Wr[i.level].max_lazy,i.good_match=Wr[i.level].good_length,i.nice_match=Wr[i.level].nice_length,i.max_chain_length=Wr[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),e},zr=(t,e,i,n,r,a)=>{if(!t)return or;let o=1;if(e===hr&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),r<1||r>9||i!==vr||n<8||n>15||e<0||e>9||a<0||a>dr||8===n&&1!==o)return br(t,or);8===n&&(n=9);const s=new Hr;return t.state=s,s.strm=t,s.status=Er,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=e,s.strategy=a,s.method=i,jr(t)};var Gr={deflateInit:(t,e)=>zr(t,e,vr,15,8,pr),deflateInit2:zr,deflateReset:jr,deflateResetKeep:Yr,deflateSetHeader:(t,e)=>Fr(t)||2!==t.state.wrap?or:(t.state.gzhead=e,rr),deflate:(t,e)=>{if(Fr(t)||e>nr||e<0)return t?br(t,or):or;const i=t.state;if(!t.output||0!==t.avail_in&&!t.input||i.status===mr&&e!==ir)return br(t,0===t.avail_out?lr:or);const n=i.last_flush;if(i.last_flush=e,0!==i.pending){if(Lr(t),0===t.avail_out)return i.last_flush=-1,rr}else if(0===t.avail_in&&Tr(e)<=Tr(n)&&e!==ir)return br(t,lr);if(i.status===mr&&0!==t.avail_in)return br(t,lr);if(i.status===Er&&0===i.wrap&&(i.status=wr),i.status===Er){let e=vr+(i.w_bits-8<<4)<<8,n=-1;if(n=i.strategy>=ur||i.level<2?0:i.level<6?1:6===i.level?2:3,e|=n<<6,0!==i.strstart&&(e|=32),e+=31-e%31,Or(i,e),0!==i.strstart&&(Or(i,t.adler>>>16),Or(i,65535&t.adler)),t.adler=1,i.status=wr,Lr(t),0!==i.pending)return i.last_flush=-1,rr}if(57===i.status)if(t.adler=0,Rr(i,31),Rr(i,139),Rr(i,8),i.gzhead)Rr(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Rr(i,255&i.gzhead.time),Rr(i,i.gzhead.time>>8&255),Rr(i,i.gzhead.time>>16&255),Rr(i,i.gzhead.time>>24&255),Rr(i,9===i.level?2:i.strategy>=ur||i.level<2?4:0),Rr(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Rr(i,255&i.gzhead.extra.length),Rr(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=Un(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(Rr(i,0),Rr(i,0),Rr(i,0),Rr(i,0),Rr(i,0),Rr(i,9===i.level?2:i.strategy>=ur||i.level<2?4:0),Rr(i,3),i.status=wr,Lr(t),0!==i.pending)return i.last_flush=-1,rr;if(69===i.status){if(i.gzhead.extra){let e=i.pending,n=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let r=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+r),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>e&&(t.adler=Un(t.adler,i.pending_buf,i.pending-e,e)),i.gzindex+=r,Lr(t),0!==i.pending)return i.last_flush=-1,rr;e=0,n-=r}let r=new Uint8Array(i.gzhead.extra);i.pending_buf.set(r.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>e&&(t.adler=Un(t.adler,i.pending_buf,i.pending-e,e)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let e,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(t.adler=Un(t.adler,i.pending_buf,i.pending-n,n)),Lr(t),0!==i.pending)return i.last_flush=-1,rr;n=0}e=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Rr(i,e)}while(0!==e);i.gzhead.hcrc&&i.pending>n&&(t.adler=Un(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let e,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(t.adler=Un(t.adler,i.pending_buf,i.pending-n,n)),Lr(t),0!==i.pending)return i.last_flush=-1,rr;n=0}e=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Rr(i,e)}while(0!==e);i.gzhead.hcrc&&i.pending>n&&(t.adler=Un(t.adler,i.pending_buf,i.pending-n,n))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(Lr(t),0!==i.pending))return i.last_flush=-1,rr;Rr(i,255&t.adler),Rr(i,t.adler>>8&255),t.adler=0}if(i.status=wr,Lr(t),0!==i.pending)return i.last_flush=-1,rr}if(0!==t.avail_in||0!==i.lookahead||e!==Qn&&i.status!==mr){let n=0===i.level?Mr(i,e):i.strategy===ur?((t,e)=>{let i;for(;;){if(0===t.lookahead&&(Pr(t),0===t.lookahead)){if(e===Qn)return 1;break}if(t.match_length=0,i=$n(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(Cr(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===ir?(Cr(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Cr(t,!1),0===t.strm.avail_out)?1:2})(i,e):i.strategy===fr?((t,e)=>{let i,n,r,a;const o=t.window;for(;;){if(t.lookahead<=_r){if(Pr(t),t.lookahead<=_r&&e===Qn)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=t.strstart-1,n=o[r],n===o[++r]&&n===o[++r]&&n===o[++r])){a=t.strstart+_r;do{}while(n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&n===o[++r]&&r<a);t.match_length=_r-(a-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(i=$n(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=$n(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(Cr(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===ir?(Cr(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Cr(t,!1),0===t.strm.avail_out)?1:2})(i,e):Wr[i.level].func(i,e);if(3!==n&&4!==n||(i.status=mr),1===n||3===n)return 0===t.avail_out&&(i.last_flush=-1),rr;if(2===n&&(e===tr?qn(i):e!==nr&&(Zn(i,0,0,!1),e===er&&(kr(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Lr(t),0===t.avail_out))return i.last_flush=-1,rr}return e!==ir?rr:i.wrap<=0?ar:(2===i.wrap?(Rr(i,255&t.adler),Rr(i,t.adler>>8&255),Rr(i,t.adler>>16&255),Rr(i,t.adler>>24&255),Rr(i,255&t.total_in),Rr(i,t.total_in>>8&255),Rr(i,t.total_in>>16&255),Rr(i,t.total_in>>24&255)):(Or(i,t.adler>>>16),Or(i,65535&t.adler)),Lr(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?rr:ar)},deflateEnd:t=>{if(Fr(t))return or;const e=t.state.status;return t.state=null,e===wr?br(t,sr):rr},deflateSetDictionary:(t,e)=>{let i=e.length;if(Fr(t))return or;const n=t.state,r=n.wrap;if(2===r||1===r&&n.status!==Er||n.lookahead)return or;if(1===r&&(t.adler=zn(t.adler,e,i,0)),n.wrap=0,i>=n.w_size){0===r&&(kr(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(i-n.w_size,i),0),e=t,i=n.w_size}const a=t.avail_in,o=t.next_in,s=t.input;for(t.avail_in=i,t.next_in=0,t.input=e,Pr(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=xr(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,Pr(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=o,t.input=s,t.avail_in=a,n.wrap=r,rr},deflateInfo:"pako deflate (from Nodeca project)"};const Ur=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Xr={assign:function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const e in i)Ur(i,e)&&(t[e]=i[e])}}return t},flattenChunks:t=>{let e=0;for(let i=0,n=t.length;i<n;i++)e+=t[i].length;const i=new Uint8Array(e);for(let e=0,n=0,r=t.length;e<r;e++){let r=t[e];i.set(r,n),n+=r.length}return i}};let Kr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Kr=!1}const Vr=new Uint8Array(256);for(let t=0;t<256;t++)Vr[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Vr[254]=Vr[254]=1;var Zr={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,i,n,r,a,o=t.length,s=0;for(r=0;r<o;r++)i=t.charCodeAt(r),55296==(64512&i)&&r+1<o&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),s+=i<128?1:i<2048?2:i<65536?3:4;for(e=new Uint8Array(s),a=0,r=0;a<s;r++)i=t.charCodeAt(r),55296==(64512&i)&&r+1<o&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),i<128?e[a++]=i:i<2048?(e[a++]=192|i>>>6,e[a++]=128|63&i):i<65536?(e[a++]=224|i>>>12,e[a++]=128|i>>>6&63,e[a++]=128|63&i):(e[a++]=240|i>>>18,e[a++]=128|i>>>12&63,e[a++]=128|i>>>6&63,e[a++]=128|63&i);return e},buf2string:(t,e)=>{const i=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,r;const a=new Array(2*i);for(r=0,n=0;n<i;){let e=t[n++];if(e<128){a[r++]=e;continue}let o=Vr[e];if(o>4)a[r++]=65533,n+=o-1;else{for(e&=2===o?31:3===o?15:7;o>1&&n<i;)e=e<<6|63&t[n++],o--;o>1?a[r++]=65533:e<65536?a[r++]=e:(e-=65536,a[r++]=55296|e>>10&1023,a[r++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Kr)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let i="";for(let n=0;n<e;n++)i+=String.fromCharCode(t[n]);return i})(a,r)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let i=e-1;for(;i>=0&&128==(192&t[i]);)i--;return i<0||0===i?e:i+Vr[t[i]]>e?i:e}},Jr=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const $r=Object.prototype.toString,{Z_NO_FLUSH:qr,Z_SYNC_FLUSH:Qr,Z_FULL_FLUSH:ta,Z_FINISH:ea,Z_OK:ia,Z_STREAM_END:na,Z_DEFAULT_COMPRESSION:ra,Z_DEFAULT_STRATEGY:aa,Z_DEFLATED:oa}=Kn;function sa(t){this.options=Xr.assign({level:ra,method:oa,chunkSize:16384,windowBits:15,memLevel:8,strategy:aa},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Jr,this.strm.avail_out=0;let i=Gr.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==ia)throw new Error(Xn[i]);if(e.header&&Gr.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Zr.string2buf(e.dictionary):"[object ArrayBuffer]"===$r.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,i=Gr.deflateSetDictionary(this.strm,t),i!==ia)throw new Error(Xn[i]);this._dict_set=!0}}function la(t,e){const i=new sa(e);if(i.push(t,!0),i.err)throw i.msg||Xn[i.err];return i.result}sa.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize;let r,a;if(this.ended)return!1;for(a=e===~~e?e:!0===e?ea:qr,"string"==typeof t?i.input=Zr.string2buf(t):"[object ArrayBuffer]"===$r.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(a===Qr||a===ta)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(r=Gr.deflate(i,a),r===na)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=Gr.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===ia;if(0!==i.avail_out){if(a>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},sa.prototype.onData=function(t){this.chunks.push(t)},sa.prototype.onEnd=function(t){t===ia&&(this.result=Xr.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ha={Deflate:sa,deflate:la,deflateRaw:function(t,e){return(e=e||{}).raw=!0,la(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,la(t,e)},constants:Kn};const ca=16209;var ua=function(t,e){let i,n,r,a,o,s,l,h,c,u,f,d,p,g,v,_,y,E,w,m,b,T,k,S;const x=t.state;i=t.next_in,k=t.input,n=i+(t.avail_in-5),r=t.next_out,S=t.output,a=r-(e-t.avail_out),o=r+(t.avail_out-257),s=x.dmax,l=x.wsize,h=x.whave,c=x.wnext,u=x.window,f=x.hold,d=x.bits,p=x.lencode,g=x.distcode,v=(1<<x.lenbits)-1,_=(1<<x.distbits)-1;t:do{d<15&&(f+=k[i++]<<d,d+=8,f+=k[i++]<<d,d+=8),y=p[f&v];e:for(;;){if(E=y>>>24,f>>>=E,d-=E,E=y>>>16&255,0===E)S[r++]=65535&y;else{if(!(16&E)){if(64&E){if(32&E){x.mode=16191;break t}t.msg="invalid literal/length code",x.mode=ca;break t}y=p[(65535&y)+(f&(1<<E)-1)];continue e}for(w=65535&y,E&=15,E&&(d<E&&(f+=k[i++]<<d,d+=8),w+=f&(1<<E)-1,f>>>=E,d-=E),d<15&&(f+=k[i++]<<d,d+=8,f+=k[i++]<<d,d+=8),y=g[f&_];;){if(E=y>>>24,f>>>=E,d-=E,E=y>>>16&255,16&E){if(m=65535&y,E&=15,d<E&&(f+=k[i++]<<d,d+=8,d<E&&(f+=k[i++]<<d,d+=8)),m+=f&(1<<E)-1,m>s){t.msg="invalid distance too far back",x.mode=ca;break t}if(f>>>=E,d-=E,E=r-a,m>E){if(E=m-E,E>h&&x.sane){t.msg="invalid distance too far back",x.mode=ca;break t}if(b=0,T=u,0===c){if(b+=l-E,E<w){w-=E;do{S[r++]=u[b++]}while(--E);b=r-m,T=S}}else if(c<E){if(b+=l+c-E,E-=c,E<w){w-=E;do{S[r++]=u[b++]}while(--E);if(b=0,c<w){E=c,w-=E;do{S[r++]=u[b++]}while(--E);b=r-m,T=S}}}else if(b+=c-E,E<w){w-=E;do{S[r++]=u[b++]}while(--E);b=r-m,T=S}for(;w>2;)S[r++]=T[b++],S[r++]=T[b++],S[r++]=T[b++],w-=3;w&&(S[r++]=T[b++],w>1&&(S[r++]=T[b++]))}else{b=r-m;do{S[r++]=S[b++],S[r++]=S[b++],S[r++]=S[b++],w-=3}while(w>2);w&&(S[r++]=S[b++],w>1&&(S[r++]=S[b++]))}break}if(64&E){t.msg="invalid distance code",x.mode=ca;break t}y=g[(65535&y)+(f&(1<<E)-1)]}}break}}while(i<n&&r<o);w=d>>3,i-=w,d-=w<<3,f&=(1<<d)-1,t.next_in=i,t.next_out=r,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=r<o?o-r+257:257-(r-o),x.hold=f,x.bits=d};const fa=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),da=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),pa=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ga=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var va=(t,e,i,n,r,a,o,s)=>{const l=s.bits;let h,c,u,f,d,p,g=0,v=0,_=0,y=0,E=0,w=0,m=0,b=0,T=0,k=0,S=null;const x=new Uint16Array(16),L=new Uint16Array(16);let C,R,O,I=null;for(g=0;g<=15;g++)x[g]=0;for(v=0;v<n;v++)x[e[i+v]]++;for(E=l,y=15;y>=1&&0===x[y];y--);if(E>y&&(E=y),0===y)return r[a++]=20971520,r[a++]=20971520,s.bits=1,0;for(_=1;_<y&&0===x[_];_++);for(E<_&&(E=_),b=1,g=1;g<=15;g++)if(b<<=1,b-=x[g],b<0)return-1;if(b>0&&(0===t||1!==y))return-1;for(L[1]=0,g=1;g<15;g++)L[g+1]=L[g]+x[g];for(v=0;v<n;v++)0!==e[i+v]&&(o[L[e[i+v]]++]=v);if(0===t?(S=I=o,p=20):1===t?(S=fa,I=da,p=257):(S=pa,I=ga,p=0),k=0,v=0,g=_,d=a,w=E,m=0,u=-1,T=1<<E,f=T-1,1===t&&T>852||2===t&&T>592)return 1;for(;;){C=g-m,o[v]+1<p?(R=0,O=o[v]):o[v]>=p?(R=I[o[v]-p],O=S[o[v]-p]):(R=96,O=0),h=1<<g-m,c=1<<w,_=c;do{c-=h,r[d+(k>>m)+c]=C<<24|R<<16|O}while(0!==c);for(h=1<<g-1;k&h;)h>>=1;if(0!==h?(k&=h-1,k+=h):k=0,v++,0==--x[g]){if(g===y)break;g=e[i+o[v]]}if(g>E&&(k&f)!==u){for(0===m&&(m=E),d+=_,w=g-m,b=1<<w;w+m<y&&(b-=x[w+m],!(b<=0));)w++,b<<=1;if(T+=1<<w,1===t&&T>852||2===t&&T>592)return 1;u=k&f,r[u]=E<<24|w<<16|d-a}}return 0!==k&&(r[d+k]=g-m<<24|64<<16),s.bits=E,0};const{Z_FINISH:_a,Z_BLOCK:ya,Z_TREES:Ea,Z_OK:wa,Z_STREAM_END:ma,Z_NEED_DICT:ba,Z_STREAM_ERROR:Ta,Z_DATA_ERROR:ka,Z_MEM_ERROR:Sa,Z_BUF_ERROR:xa,Z_DEFLATED:La}=Kn,Ca=16180,Ra=16190,Oa=16191,Ia=16192,Aa=16194,Pa=16199,Ma=16200,Da=16206,Na=16209,Ba=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Wa(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ha=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Ca||e.mode>16211?1:0},Fa=t=>{if(Ha(t))return Ta;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Ca,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,wa},Ya=t=>{if(Ha(t))return Ta;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Fa(t)},ja=(t,e)=>{let i;if(Ha(t))return Ta;const n=t.state;return e<0?(i=0,e=-e):(i=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Ta:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,Ya(t))},za=(t,e)=>{if(!t)return Ta;const i=new Wa;t.state=i,i.strm=t,i.window=null,i.mode=Ca;const n=ja(t,e);return n!==wa&&(t.state=null),n};let Ga,Ua,Xa=!0;const Ka=t=>{if(Xa){Ga=new Int32Array(512),Ua=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(va(1,t.lens,0,288,Ga,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;va(2,t.lens,0,32,Ua,0,t.work,{bits:5}),Xa=!1}t.lencode=Ga,t.lenbits=9,t.distcode=Ua,t.distbits=5},Va=(t,e,i,n)=>{let r;const a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(i-a.wsize,i),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>n&&(r=n),a.window.set(e.subarray(i-n,i-n+r),a.wnext),(n-=r)?(a.window.set(e.subarray(i-n,i),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0};var Za={inflateReset:Ya,inflateReset2:ja,inflateResetKeep:Fa,inflateInit:t=>za(t,15),inflateInit2:za,inflate:(t,e)=>{let i,n,r,a,o,s,l,h,c,u,f,d,p,g,v,_,y,E,w,m,b,T,k=0;const S=new Uint8Array(4);let x,L;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ha(t)||!t.output||!t.input&&0!==t.avail_in)return Ta;i=t.state,i.mode===Oa&&(i.mode=Ia),o=t.next_out,r=t.output,l=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,h=i.hold,c=i.bits,u=s,f=l,T=wa;t:for(;;)switch(i.mode){case Ca:if(0===i.wrap){i.mode=Ia;break}for(;c<16;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(2&i.wrap&&35615===h){0===i.wbits&&(i.wbits=15),i.check=0,S[0]=255&h,S[1]=h>>>8&255,i.check=Un(i.check,S,2,0),h=0,c=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",i.mode=Na;break}if((15&h)!==La){t.msg="unknown compression method",i.mode=Na;break}if(h>>>=4,c-=4,b=8+(15&h),0===i.wbits&&(i.wbits=b),b>15||b>i.wbits){t.msg="invalid window size",i.mode=Na;break}i.dmax=1<<i.wbits,i.flags=0,t.adler=i.check=1,i.mode=512&h?16189:Oa,h=0,c=0;break;case 16181:for(;c<16;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(i.flags=h,(255&i.flags)!==La){t.msg="unknown compression method",i.mode=Na;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=Na;break}i.head&&(i.head.text=h>>8&1),512&i.flags&&4&i.wrap&&(S[0]=255&h,S[1]=h>>>8&255,i.check=Un(i.check,S,2,0)),h=0,c=0,i.mode=16182;case 16182:for(;c<32;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}i.head&&(i.head.time=h),512&i.flags&&4&i.wrap&&(S[0]=255&h,S[1]=h>>>8&255,S[2]=h>>>16&255,S[3]=h>>>24&255,i.check=Un(i.check,S,4,0)),h=0,c=0,i.mode=16183;case 16183:for(;c<16;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}i.head&&(i.head.xflags=255&h,i.head.os=h>>8),512&i.flags&&4&i.wrap&&(S[0]=255&h,S[1]=h>>>8&255,i.check=Un(i.check,S,2,0)),h=0,c=0,i.mode=16184;case 16184:if(1024&i.flags){for(;c<16;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}i.length=h,i.head&&(i.head.extra_len=h),512&i.flags&&4&i.wrap&&(S[0]=255&h,S[1]=h>>>8&255,i.check=Un(i.check,S,2,0)),h=0,c=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(d=i.length,d>s&&(d=s),d&&(i.head&&(b=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(a,a+d),b)),512&i.flags&&4&i.wrap&&(i.check=Un(i.check,n,d,a)),s-=d,a+=d,i.length-=d),i.length))break t;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===s)break t;d=0;do{b=n[a+d++],i.head&&b&&i.length<65536&&(i.head.name+=String.fromCharCode(b))}while(b&&d<s);if(512&i.flags&&4&i.wrap&&(i.check=Un(i.check,n,d,a)),s-=d,a+=d,b)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===s)break t;d=0;do{b=n[a+d++],i.head&&b&&i.length<65536&&(i.head.comment+=String.fromCharCode(b))}while(b&&d<s);if(512&i.flags&&4&i.wrap&&(i.check=Un(i.check,n,d,a)),s-=d,a+=d,b)break t}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;c<16;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(4&i.wrap&&h!==(65535&i.check)){t.msg="header crc mismatch",i.mode=Na;break}h=0,c=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=Oa;break;case 16189:for(;c<32;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}t.adler=i.check=Ba(h),h=0,c=0,i.mode=Ra;case Ra:if(0===i.havedict)return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,i.hold=h,i.bits=c,ba;t.adler=i.check=1,i.mode=Oa;case Oa:if(e===ya||e===Ea)break t;case Ia:if(i.last){h>>>=7&c,c-=7&c,i.mode=Da;break}for(;c<3;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}switch(i.last=1&h,h>>>=1,c-=1,3&h){case 0:i.mode=16193;break;case 1:if(Ka(i),i.mode=Pa,e===Ea){h>>>=2,c-=2;break t}break;case 2:i.mode=16196;break;case 3:t.msg="invalid block type",i.mode=Na}h>>>=2,c-=2;break;case 16193:for(h>>>=7&c,c-=7&c;c<32;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",i.mode=Na;break}if(i.length=65535&h,h=0,c=0,i.mode=Aa,e===Ea)break t;case Aa:i.mode=16195;case 16195:if(d=i.length,d){if(d>s&&(d=s),d>l&&(d=l),0===d)break t;r.set(n.subarray(a,a+d),o),s-=d,a+=d,l-=d,o+=d,i.length-=d;break}i.mode=Oa;break;case 16196:for(;c<14;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(i.nlen=257+(31&h),h>>>=5,c-=5,i.ndist=1+(31&h),h>>>=5,c-=5,i.ncode=4+(15&h),h>>>=4,c-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=Na;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;c<3;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}i.lens[C[i.have++]]=7&h,h>>>=3,c-=3}for(;i.have<19;)i.lens[C[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,x={bits:i.lenbits},T=va(0,i.lens,0,19,i.lencode,0,i.work,x),i.lenbits=x.bits,T){t.msg="invalid code lengths set",i.mode=Na;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;k=i.lencode[h&(1<<i.lenbits)-1],v=k>>>24,_=k>>>16&255,y=65535&k,!(v<=c);){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(y<16)h>>>=v,c-=v,i.lens[i.have++]=y;else{if(16===y){for(L=v+2;c<L;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(h>>>=v,c-=v,0===i.have){t.msg="invalid bit length repeat",i.mode=Na;break}b=i.lens[i.have-1],d=3+(3&h),h>>>=2,c-=2}else if(17===y){for(L=v+3;c<L;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}h>>>=v,c-=v,b=0,d=3+(7&h),h>>>=3,c-=3}else{for(L=v+7;c<L;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}h>>>=v,c-=v,b=0,d=11+(127&h),h>>>=7,c-=7}if(i.have+d>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=Na;break}for(;d--;)i.lens[i.have++]=b}}if(i.mode===Na)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=Na;break}if(i.lenbits=9,x={bits:i.lenbits},T=va(1,i.lens,0,i.nlen,i.lencode,0,i.work,x),i.lenbits=x.bits,T){t.msg="invalid literal/lengths set",i.mode=Na;break}if(i.distbits=6,i.distcode=i.distdyn,x={bits:i.distbits},T=va(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,x),i.distbits=x.bits,T){t.msg="invalid distances set",i.mode=Na;break}if(i.mode=Pa,e===Ea)break t;case Pa:i.mode=Ma;case Ma:if(s>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,i.hold=h,i.bits=c,ua(t,f),o=t.next_out,r=t.output,l=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,h=i.hold,c=i.bits,i.mode===Oa&&(i.back=-1);break}for(i.back=0;k=i.lencode[h&(1<<i.lenbits)-1],v=k>>>24,_=k>>>16&255,y=65535&k,!(v<=c);){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(_&&!(240&_)){for(E=v,w=_,m=y;k=i.lencode[m+((h&(1<<E+w)-1)>>E)],v=k>>>24,_=k>>>16&255,y=65535&k,!(E+v<=c);){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}h>>>=E,c-=E,i.back+=E}if(h>>>=v,c-=v,i.back+=v,i.length=y,0===_){i.mode=16205;break}if(32&_){i.back=-1,i.mode=Oa;break}if(64&_){t.msg="invalid literal/length code",i.mode=Na;break}i.extra=15&_,i.mode=16201;case 16201:if(i.extra){for(L=i.extra;c<L;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}i.length+=h&(1<<i.extra)-1,h>>>=i.extra,c-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;k=i.distcode[h&(1<<i.distbits)-1],v=k>>>24,_=k>>>16&255,y=65535&k,!(v<=c);){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(!(240&_)){for(E=v,w=_,m=y;k=i.distcode[m+((h&(1<<E+w)-1)>>E)],v=k>>>24,_=k>>>16&255,y=65535&k,!(E+v<=c);){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}h>>>=E,c-=E,i.back+=E}if(h>>>=v,c-=v,i.back+=v,64&_){t.msg="invalid distance code",i.mode=Na;break}i.offset=y,i.extra=15&_,i.mode=16203;case 16203:if(i.extra){for(L=i.extra;c<L;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}i.offset+=h&(1<<i.extra)-1,h>>>=i.extra,c-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=Na;break}i.mode=16204;case 16204:if(0===l)break t;if(d=f-l,i.offset>d){if(d=i.offset-d,d>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=Na;break}d>i.wnext?(d-=i.wnext,p=i.wsize-d):p=i.wnext-d,d>i.length&&(d=i.length),g=i.window}else g=r,p=o-i.offset,d=i.length;d>l&&(d=l),l-=d,i.length-=d;do{r[o++]=g[p++]}while(--d);0===i.length&&(i.mode=Ma);break;case 16205:if(0===l)break t;r[o++]=i.length,l--,i.mode=Ma;break;case Da:if(i.wrap){for(;c<32;){if(0===s)break t;s--,h|=n[a++]<<c,c+=8}if(f-=l,t.total_out+=f,i.total+=f,4&i.wrap&&f&&(t.adler=i.check=i.flags?Un(i.check,r,f,o-f):zn(i.check,r,f,o-f)),f=l,4&i.wrap&&(i.flags?h:Ba(h))!==i.check){t.msg="incorrect data check",i.mode=Na;break}h=0,c=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;c<32;){if(0===s)break t;s--,h+=n[a++]<<c,c+=8}if(4&i.wrap&&h!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=Na;break}h=0,c=0}i.mode=16208;case 16208:T=ma;break t;case Na:T=ka;break t;case 16210:return Sa;default:return Ta}return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,i.hold=h,i.bits=c,(i.wsize||f!==t.avail_out&&i.mode<Na&&(i.mode<Da||e!==_a))&&Va(t,t.output,t.next_out,f-t.avail_out),u-=t.avail_in,f-=t.avail_out,t.total_in+=u,t.total_out+=f,i.total+=f,4&i.wrap&&f&&(t.adler=i.check=i.flags?Un(i.check,r,f,t.next_out-f):zn(i.check,r,f,t.next_out-f)),t.data_type=i.bits+(i.last?64:0)+(i.mode===Oa?128:0)+(i.mode===Pa||i.mode===Aa?256:0),(0===u&&0===f||e===_a)&&T===wa&&(T=xa),T},inflateEnd:t=>{if(Ha(t))return Ta;let e=t.state;return e.window&&(e.window=null),t.state=null,wa},inflateGetHeader:(t,e)=>{if(Ha(t))return Ta;const i=t.state;return 2&i.wrap?(i.head=e,e.done=!1,wa):Ta},inflateSetDictionary:(t,e)=>{const i=e.length;let n,r,a;return Ha(t)?Ta:(n=t.state,0!==n.wrap&&n.mode!==Ra?Ta:n.mode===Ra&&(r=1,r=zn(r,e,i,0),r!==n.check)?ka:(a=Va(t,e,i,i),a?(n.mode=16210,Sa):(n.havedict=1,wa)))},inflateInfo:"pako inflate (from Nodeca project)"},Ja=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const $a=Object.prototype.toString,{Z_NO_FLUSH:qa,Z_FINISH:Qa,Z_OK:to,Z_STREAM_END:eo,Z_NEED_DICT:io,Z_STREAM_ERROR:no,Z_DATA_ERROR:ro,Z_MEM_ERROR:ao}=Kn;function oo(t){this.options=Xr.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Jr,this.strm.avail_out=0;let i=Za.inflateInit2(this.strm,e.windowBits);if(i!==to)throw new Error(Xn[i]);if(this.header=new Ja,Za.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Zr.string2buf(e.dictionary):"[object ArrayBuffer]"===$a.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=Za.inflateSetDictionary(this.strm,e.dictionary),i!==to)))throw new Error(Xn[i])}function so(t,e){const i=new oo(e);if(i.push(t),i.err)throw i.msg||Xn[i.err];return i.result}oo.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(o=e===~~e?e:!0===e?Qa:qa,"[object ArrayBuffer]"===$a.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),a=Za.inflate(i,o),a===io&&r&&(a=Za.inflateSetDictionary(i,r),a===to?a=Za.inflate(i,o):a===ro&&(a=io));i.avail_in>0&&a===eo&&i.state.wrap>0&&0!==t[i.next_in];)Za.inflateReset(i),a=Za.inflate(i,o);switch(a){case no:case ro:case io:case ao:return this.onEnd(a),this.ended=!0,!1}if(s=i.avail_out,i.next_out&&(0===i.avail_out||a===eo))if("string"===this.options.to){let t=Zr.utf8border(i.output,i.next_out),e=i.next_out-t,r=Zr.buf2string(i.output,t);i.next_out=e,i.avail_out=n-e,e&&i.output.set(i.output.subarray(t,t+e),0),this.onData(r)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(a!==to||0!==s){if(a===eo)return a=Za.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},oo.prototype.onData=function(t){this.chunks.push(t)},oo.prototype.onEnd=function(t){t===to&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Xr.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var lo={Inflate:oo,inflate:so,inflateRaw:function(t,e){return(e=e||{}).raw=!0,so(t,e)},ungzip:so,constants:Kn};const{Deflate:ho,deflate:co,deflateRaw:uo,gzip:fo}=ha,{Inflate:po,inflate:go,inflateRaw:vo,ungzip:_o}=lo;var yo={Deflate:ho,deflate:co,deflateRaw:uo,gzip:fo,Inflate:po,inflate:go,inflateRaw:vo,ungzip:_o,constants:Kn},Eo=function(){function e(){t(this,e)}return n(e,null,[{key:"zip",value:function(t){for(var e=(new TextEncoder).encode(t),i=yo.gzip(e),n="",r=0;r<i.length;r++)n+=String.fromCharCode(i[r]);return btoa(n)}},{key:"unzip",value:function(t){for(var e=atob(t),i=e.length,n=new Uint8Array(i),r=0;r<i;r++)n[r]=e.charCodeAt(r);var a=yo.inflate(n);return(new TextDecoder).decode(a)}}]),e}();function wo(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),i}var mo=function(){function e(){t(this,e)}return n(e,null,[{key:"filePreview",value:function(t,i,n){wo(this,e,bo).call(this,t,"preview",i,n)}},{key:"filePrint",value:function(t,i,n){wo(this,e,bo).call(this,t,"print",i,n)}},{key:"fileExpImage",value:function(t,i){var n=this,r=t.toDataURL({format:"image/png",quality:1}),a=new Image;a.src=r,a.onload=function(){var r=document.createElement("canvas");r.width=t.width,r.height=t.height;var o=r.getContext("2d");o.fillStyle="#ffffff",o.fillRect(0,0,r.width,r.height),o.drawImage(a,0,0,r.width,r.height);var s="".concat(i.info.name,"-").concat(Date.now(),".png");wo(n,e,To).call(n,r.toDataURL({format:"image/png",quality:1}),s)}}},{key:"fileDownload",value:function(t){var i=window.URL.createObjectURL(new Blob([this.compressData(t)])),n="".concat(t.info.name,"-").concat(Date.now(),".pxd");wo(this,e,To).call(this,i,n)}},{key:"compressData",value:function(t){var e=JSON.stringify(t);return Eo.zip(e)}},{key:"loadData",value:function(t,e,i){var n=[];t.header.forEach((function(t){D.isImageBlock(t)&&n.push(t)})),t.body.forEach((function(t){D.isImageBlock(t)&&n.push(t)})),t.footer.forEach((function(t){D.isImageBlock(t)&&n.push(t)})),D.loadImageCache(n,0,(function(t){e("正在加载".concat(t+1,"/").concat(n.length,"图片"))}),(function(){i(t)}))}},{key:"importData",value:function(t){return JSON.parse(Eo.unzip(t))}}]),e}();function bo(t,e,i,n){var r={view:t.view,paper:t.paper,info:t.info};fetch("http://127.0.0.1:9523/".concat(e),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"type=editor&template=".concat(encodeURIComponent(this.compressData(r)))}).then((function(t){if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((function(t){console.log("Success:",t)})).catch((function(t){console.error("Error:",t),n()}))}function To(t,e){var i=document.createElement("a");i.href=t,i.setAttribute("download",e),i.click()}var ko=function(){function e(){t(this,e)}var i,r;return n(e,null,[{key:"copy",value:(r=G(tt().mark((function t(i){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.writeText(i);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),wo(this,e,So).call(this,i);case 8:case"end":return t.stop()}}),t,this,[[0,5]])}))),function(t){return r.apply(this,arguments)})},{key:"paste",value:(i=G(tt().mark((function t(){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.readText();case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",wo(this,e,xo).call(this));case 9:case"end":return t.stop()}}),t,this,[[0,6]])}))),function(){return i.apply(this,arguments)})}]),e}();function So(t){var e=document.createElement("input");e.setAttribute("value",t),e.classList.add("editor-clipboard"),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}function xo(){var t=document.createElement("input");t.classList.add("editor-clipboard"),document.body.appendChild(t),t.focus(),document.execCommand("paste");var e=t.value;return document.body.removeChild(t),e}function Lo(t,e){Ro(t,e),e.add(t)}function Co(t,e,i){Ro(t,e),e.set(t,i)}function Ro(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Oo(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var Io=new WeakMap,Ao=new WeakMap,Po=new WeakSet,Mo=new WeakSet,Do=function(e){K(o,e);var i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(i);if(r){var n=Z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function o(){var e;return t(this,o),Lo(U(e=a.call(this)),Mo),Lo(U(e),Po),Co(U(e),Io,{writable:!0,value:void 0}),Co(U(e),Ao,{writable:!0,value:void 0}),q(U(e),Io,[]),q(U(e),Ao,[]),e}return n(o,[{key:"reset",value:function(){$(this,Io).splice(0,$(this,Io).length),$(this,Ao).splice(0,$(this,Ao).length)}},{key:"save",value:function(t,e,i,n,r,a,o){$(this,Ao).splice(0,$(this,Ao).length),Oo(this,Po,No).call(this,t,e,i,n,r,a,o)}},{key:"prev",value:function(){return $(this,Ao).push($(this,Io).pop()),Oo(this,Mo,Bo).call(this,$(this,Io),-1)}},{key:"next",value:function(){return $(this,Io).push($(this,Ao).pop()),Oo(this,Mo,Bo).call(this,$(this,Io),-1)}},{key:"stackSize",value:function(){return $(this,Io).length}},{key:"recycleSize",value:function(){return $(this,Ao).length}}]),o}(it);function No(t,e,i,n,r,a,o){var s=this.getCurrentPartData(i,n),l=r.map((function(t){return s.findIndex((function(e){return e===t}))})),h=s.findIndex((function(t){return t===a})),c=s.findIndex((function(t){return t===o})),u={action:t,options:e,data:JSON.stringify(i),part:n,selects:l,insert:h,cursor:c};$(this,Io).push(u)}function Bo(t,e){var i=t.at(e),n=JSON.parse(i.data);n.header.forEach((function(t){D.isImageBlock(t)&&(t.image.view=L.getImage(t.image.uuid))})),n.body.forEach((function(t){D.isImageBlock(t)&&(console.info(L.getImage(t.image.uuid)),t.image.view=L.getImage(t.image.uuid))})),n.footer.forEach((function(t){D.isImageBlock(t)&&(t.image.view=L.getImage(t.image.uuid))}));var r=this.getCurrentPartData(n,i.part),a=i.selects.map((function(t){return r.at(t)}));return{data:n,part:i.part,selects:a,insert:r.at(i.insert),cursor:r.at(i.cursor)}}function Wo(t){throw new TypeError('"'+t+'" is read-only')}var Ho=function(){function e(){t(this,e)}return n(e,null,[{key:"lineFeel",value:function(t,e){e=e||1;var i=a.STYLE_LINE_HEIGHT,n=e*i,r=a.STYLE_ANCHOR_WIDTH,o=parseInt(t*this.SIZE_SCALE),s=Math.max(Math.ceil(t*this.LINE_SCALE/i)*i,n);return{width:r,height:s,lineHeight:s,baseLine:parseInt((s-o)/2),fontHeight:o,descent:parseInt(t*this.BASELINE_SCALE)}}},{key:"divder",value:function(t,e,i){e=e||1;var n=a.STYLE_LINE_HEIGHT,r=e*n,o=i,s=parseInt(t*this.SIZE_SCALE),l=Math.max(Math.ceil(t*this.LINE_SCALE/n)*n,r);return{width:o,height:l,lineHeight:l,baseLine:parseInt((l-s)/2),fontHeight:s,descent:parseInt(t*this.BASELINE_SCALE)}}},{key:"character",value:function(t,e,i,n){n=n||1;var r=a.STYLE_LINE_HEIGHT,o=n*r,s=parseInt(i);_.isFullWidthChar(t)?e!=a.SCRIPT_SUB&&e!=a.SCRIPT_SUP||(s=parseInt(s/2)):(s=parseInt(s/2),e!=a.SCRIPT_SUB&&e!=a.SCRIPT_SUP||(s=parseInt(2*s/3)));var l=parseInt(i*this.SIZE_SCALE),h=Math.max(Math.ceil(i*this.LINE_SCALE/r)*r,o);return{width:s,height:h,lineHeight:h,baseLine:parseInt((h-l)/2),fontHeight:l,descent:parseInt(i*this.BASELINE_SCALE)}}},{key:"tab",value:function(t,e){e=e||1;var i=a.STYLE_LINE_HEIGHT,n=e*i,r=2*parseInt(t),o=parseInt(t*this.SIZE_SCALE),s=Math.max(Math.ceil(o/i)*i,n);return{width:r,height:s,lineHeight:s,baseLine:parseInt((s-o)/2),fontHeight:o,descent:parseInt(t*this.BASELINE_SCALE)}}},{key:"block",value:function(t,e,i){i=i||1;var n=a.STYLE_LINE_HEIGHT,r=i*n,o=e,s=Math.max(Math.ceil(o/n)*n,r);return{width:t,height:s,lineHeight:s,baseLine:0,fontHeight:o,descent:0}}},{key:"fieldBorder",value:function(t,e){e=e||1;var i=a.STYLE_LINE_HEIGHT,n=e*i,r=a.STYLE_FIELD_BORDER_WIDTH,o=parseInt(t*this.SIZE_SCALE),s=Math.max(Math.ceil(o/i)*i,n);return{width:r,height:s,lineHeight:s,baseLine:parseInt((s-o)/2),fontHeight:o,descent:parseInt(t*this.BASELINE_SCALE)}}}]),e}();r(Ho,"SIZE_SCALE",.9),r(Ho,"LINE_SCALE",1.3),r(Ho,"BASELINE_SCALE",.15);var Fo=n((function e(){t(this,e)}));function Yo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Z(t);if(e){var r=Z(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return V(this,i)}}function jo(t,e){Go(t,e),e.add(t)}function zo(t,e,i){Go(t,e),e.set(t,i)}function Go(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Uo(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}r(Fo,"NOT_APPEAR_LINE_BEGIN",[65292,44,12290,46,12289,65307,59,65306,58,65311,63,65281,33,8221,8217,12318,41,12305,12299,65310,62,41,93,187,8250,12309,12297,125,65341,12301,65373,12311,12303,65374,126,173,183,65372,124,65295,47,65340,92]),r(Fo,"NOT_APPEAR_LINE_END",[8220,8216,12317,40,12304,12298,65308,65117,60,40,91,171,8249,12308,12296,123,65339,12300,65371,12310,12302,124,65372,65295,47,65340,92]);var Xo=new WeakMap,Ko=new WeakMap,Vo=new WeakMap,Zo=new WeakMap,Jo=new WeakMap,$o=new WeakMap,qo=new WeakSet,Qo=new WeakSet,ts=new WeakSet,es=new WeakSet,is=new WeakSet,ns=function(){function e(){t(this,e),jo(this,is),jo(this,es),jo(this,ts),jo(this,Qo),jo(this,qo),zo(this,Xo,{writable:!0,value:void 0}),zo(this,Ko,{writable:!0,value:void 0}),zo(this,Vo,{writable:!0,value:void 0}),zo(this,Zo,{writable:!0,value:void 0}),zo(this,Jo,{writable:!0,value:void 0}),zo(this,$o,{writable:!0,value:void 0}),q(this,Xo,new hs)}return n(e,[{key:"getModelSize",value:function(){return $(this,Jo)}},{key:"getPageSize",value:function(){return $(this,Xo)}},{key:"getBodyModel",value:function(){return $(this,Zo)}},{key:"getHeaderModel",value:function(){return $(this,Ko)}},{key:"getFooterModel",value:function(){return $(this,Vo)}},{key:"getPageInfo",value:function(){return $(this,$o)}},{key:"struct",value:function(t){$(this,Xo).calc(t),Uo(this,qo,rs).call(this,t),Uo(this,Qo,as).call(this,t),Uo(this,ts,os).call(this,t),Uo(this,es,ss).call(this,t),Uo(this,is,ls).call(this)}}]),e}();function rs(t){q(this,$o,{watermark:t.page.watermark,above:t.objects.above,below:t.objects.below})}function as(t){t.header.forEach((function(t,e){t._count=e})),q(this,Ko,new Ms(t.header)),$(this,Ko).struct(1),$(this,Ko).setLineSize($(this,Xo).pxWidth,$(this,Xo).pxLeft,$(this,Xo).pxRight),$(this,Ko).setPadding(0,0,0,0),$(this,Ko).setMargin(0,0,0,0),$(this,Ko).typeset(),$(this,Ko).locate(0,$(this,Xo).pxHeaderTop),$(this,Xo).calcHeaderSize($(this,Ko).getHeight())}function os(t){t.footer.forEach((function(t,e){t._count=e})),q(this,Vo,new Ms(t.footer)),$(this,Vo).struct(1),$(this,Vo).setLineSize($(this,Xo).pxWidth,$(this,Xo).pxLeft,$(this,Xo).pxRight),$(this,Vo).setPadding(0,0,0,0),$(this,Vo).setMargin(0,0,0,0),$(this,Vo).typeset(),$(this,Vo).locate(0,$(this,Xo).pxHeight-$(this,Xo).pxFooterBottom-$(this,Vo).getHeight()),$(this,Xo).calcFooterSize($(this,Vo).getHeight())}function ss(t){$(this,Xo).calcBodySize(),t.body.forEach((function(t,e){t._count=e})),q(this,Zo,new Ms(t.body)),$(this,Zo).struct(1),$(this,Zo).setLineSize($(this,Xo).pxWidth,$(this,Xo).pxLeft,$(this,Xo).pxRight),$(this,Zo).setPadding(0,0,0,0),$(this,Zo).setMargin(0,0,0,0),$(this,Zo).typeset(),$(this,Zo).setSegment($(this,Xo).pxBodyHeight,$(this,Xo).pxHeaderHeight,$(this,Xo).pxFooterHeight,0),$(this,Zo).paging(),$(this,Zo).locate(0,$(this,Xo).pxHeaderHeight)}function ls(){var t=$(this,Zo).getHeight(),e=parseInt(t/$(this,Xo).pxHeight);t%$(this,Xo).pxHeight>0&&(e+=1),q(this,Jo,{width:$(this,Xo).pxWidth,height:$(this,Xo).pxHeight*e,pageCount:e})}r(ns,"TYPE_MODEL_PARAG",1),r(ns,"TYPE_MODEL_TABLE",2);var hs=function(){function e(){t(this,e),r(this,"actWidth",0),r(this,"actHeight",0),r(this,"actTop",0),r(this,"actBottom",0),r(this,"actLeft",0),r(this,"actRight",0),r(this,"actHeaderTop",0),r(this,"actFooterBottom",0),r(this,"pxWidth",0),r(this,"pxHeight",0),r(this,"pxTop",0),r(this,"pxBottom",0),r(this,"pxLeft",0),r(this,"pxRight",0),r(this,"pxHeaderTop",0),r(this,"pxFooterBottom",0),r(this,"pxBodyWidth",0),r(this,"pxBodyHeight",0),r(this,"pxHeaderHeight",0),r(this,"pxFooterHeight",0)}return n(e,[{key:"calc",value:function(t){var e=a.PaperTypes.find((function(e){return e.value==t.paper.type}));e?(this.actWidth=e.width,this.actHeight=e.height):(this.actWidth=t.paper.width,this.actHeight=t.paper.height),this.actTop=t.paper.top,this.actBottom=t.paper.bottom,this.actLeft=t.paper.left,this.actRight=t.paper.right,this.actHeaderTop=t.paper.headerTop,this.actFooterBottom=t.paper.footerBottom,t.paper.direction==a.PAPER_ROTATION_PORTRAIT?(this.pxWidth=g.mmConversionPx(this.actWidth),this.pxHeight=g.mmConversionPx(this.actHeight)):(this.pxWidth=g.mmConversionPx(this.actHeight),this.pxHeight=g.mmConversionPx(this.actWidth)),this.pxLeft=g.mmConversionPx(this.actLeft),this.pxRight=g.mmConversionPx(this.actRight),this.pxTop=g.mmConversionPx(this.actTop),this.pxBottom=g.mmConversionPx(this.actBottom),this.pxHeaderTop=g.mmConversionPx(this.actHeaderTop),this.pxFooterBottom=g.mmConversionPx(this.actFooterBottom),this.pxHeaderHeight=this.pxTop,this.pxFooterHeight=this.pxBottom,this.pxBodyWidth=this.pxWidth-this.pxLeft-this.pxRight}},{key:"calcHeaderSize",value:function(t){this.pxHeaderHeight+=Math.max(t-(this.pxTop-this.pxHeaderTop),0)}},{key:"calcFooterSize",value:function(t){this.pxFooterHeight+=Math.max(t-(this.pxBottom-this.pxFooterBottom),0)}},{key:"calcBodySize",value:function(){this.pxBodyHeight=this.pxHeight-this.pxHeaderHeight-this.pxFooterHeight}}]),e}(),cs=new WeakMap,us=new WeakMap,fs=new WeakMap,ds=new WeakMap,ps=new WeakMap,gs=new WeakMap,vs=new WeakMap,_s=new WeakMap,ys=new WeakMap,Es=new WeakMap,ws=new WeakMap,ms=new WeakMap,bs=new WeakMap,Ts=new WeakMap,ks=new WeakMap,Ss=new WeakMap,xs=new WeakMap,Ls=new WeakMap,Cs=new WeakMap,Rs=function(){function e(i){t(this,e),zo(this,cs,{writable:!0,value:void 0}),zo(this,us,{writable:!0,value:void 0}),zo(this,fs,{writable:!0,value:void 0}),zo(this,ds,{writable:!0,value:void 0}),zo(this,ps,{writable:!0,value:void 0}),zo(this,gs,{writable:!0,value:void 0}),zo(this,vs,{writable:!0,value:void 0}),zo(this,_s,{writable:!0,value:void 0}),zo(this,ys,{writable:!0,value:void 0}),zo(this,Es,{writable:!0,value:void 0}),zo(this,ws,{writable:!0,value:void 0}),zo(this,ms,{writable:!0,value:void 0}),zo(this,bs,{writable:!0,value:void 0}),zo(this,Ts,{writable:!0,value:void 0}),zo(this,ks,{writable:!0,value:void 0}),zo(this,Ss,{writable:!0,value:void 0}),zo(this,xs,{writable:!0,value:void 0}),zo(this,Ls,{writable:!0,value:void 0}),zo(this,Cs,{writable:!0,value:void 0}),q(this,cs,i)}return n(e,[{key:"getType",value:function(){return null}},{key:"setLineSize",value:function(t,e,i){q(this,us,t),q(this,fs,e),q(this,ds,i)}},{key:"getLineSize",value:function(){return{lineWidth:$(this,us),lineLeft:$(this,fs),lineRight:$(this,ds)}}},{key:"setPadding",value:function(t,e,i,n){q(this,ps,t),q(this,gs,e),q(this,vs,i),q(this,_s,n)}},{key:"getPadding",value:function(){return{paddingTop:$(this,ps),paddingRight:$(this,gs),paddingBot:$(this,vs),paddingLeft:$(this,_s)}}},{key:"setMargin",value:function(t,e,i,n){q(this,ys,t),q(this,Es,i),q(this,ms,e),q(this,ws,n)}},{key:"getMargin",value:function(){return{marginTop:$(this,ys),marginBot:$(this,Es),marginRight:$(this,ms),marginLeft:$(this,ws)}}},{key:"setMarginTop",value:function(t){q(this,ys,t)}},{key:"setMarginBot",value:function(t){q(this,Es,t)}},{key:"setSegment",value:function(t,e,i,n){q(this,bs,t),q(this,Ts,e),q(this,ks,i),q(this,Ss,n)}},{key:"getSegment",value:function(){return{segHeight:$(this,bs),segTop:$(this,Ts),segBottom:$(this,ks),segOffset:$(this,Ss)}}},{key:"setSegOffset",value:function(t){q(this,Ss,t)}},{key:"getElements",value:function(){return $(this,cs)}},{key:"setHeight",value:function(t){q(this,xs,t)}},{key:"getHeight",value:function(){return $(this,xs)}},{key:"getOffset",value:function(){return{offsetX:$(this,Ls),offsetY:$(this,Cs)}}},{key:"setOffset",value:function(t,e){q(this,Ls,t),q(this,Cs,e)}},{key:"debug",value:function(){return Object.assign({},this.getLineSize(),this.getPadding(),this.getMargin(),this.getOffset())}},{key:"findIndex",value:function(t){return this.getElements().findIndex((function(e){return e===t}))}},{key:"findArrayIndex",value:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(i.length>1){var r=[];return i.forEach((function(e){r.push(t.findIndex((function(t){return t.findIndex(e)>=0})))})),r}return t.findIndex((function(t){return t.findIndex(i[0])>=0}))}},{key:"localeElement",value:function(t,e,i){}},{key:"localeUpElement",value:function(t,e,i){return!1}},{key:"localeDownElement",value:function(t,e,i){return!1}},{key:"localeLastLineElement",value:function(t,e){}},{key:"localeFristLineElement",value:function(t,e){}},{key:"findTableFieldInfo",value:function(t){}},{key:"selectElement",value:function(t,e){}},{key:"selectElement2",value:function(t,e,i){return!0}},{key:"selectStepElement",value:function(t,e,i,n){}},{key:"selectHalfElement",value:function(t,e){return[]}},{key:"selectFirstElement",value:function(t,e,i){return!0}},{key:"selectLastElement",value:function(t,e,i){return!0}},{key:"findTableMergeInfo",value:function(t){return{rect:!1,arow:!1,acol:!1,cell:!1,table:!1,fields:[],maxcol:void 0,maxrow:void 0,mincol:void 0,minrow:void 0}}}]),e}(),Os=new WeakMap,Is=new WeakSet,As=new WeakSet,Ps=new WeakSet,Ms=function(e){K(r,e);var i=Yo(r);function r(e){var n;return t(this,r),jo(U(n=i.call(this,e)),Ps),jo(U(n),As),jo(U(n),Is),zo(U(n),Os,{writable:!0,value:void 0}),n}return n(r,[{key:"getType",value:function(){return null}},{key:"getChapters",value:function(){return $(this,Os)}},{key:"getChapterSize",value:function(t){for(var e=0;e<$(this,Os).length;e++){var i=$(this,Os)[e];if(i.findIndex(t)>=0)return i.getChapterSize(t)}}},{key:"getLineHeight",value:function(){return $(this,Os)[0].getLineHeight()}},{key:"struct",value:function(t){var e=this;q(this,Os,[]);for(var i=this.getElements(),n=[[]],r=0;r<i.length;r++){var a=i[r];n.at(-1).push(a),r<i.length-1&&a.dimension.depth==t&&a.property.type==D.TYPE_STRUCT&&n.push([])}var o=void 0;n.forEach((function(i){if(i.length>0)if(i.at(-1).dimension.depth==t&&i.at(-1).property.classify==D.CLS_CELL){var n=new Kl(i);o||(o=new Cl([]),$(e,Os).push(o)),o.addField(n)}else{var r=new Vs(i);$(e,Os).push(r),o&&(o=void 0)}})),$(this,Os).forEach((function(e){e.struct(t+1)}))}},{key:"typeset",value:function(){var t=this.getLineSize(),e=this.getPadding();$(this,Os).forEach((function(i){if(i.getType()==ns.TYPE_MODEL_TABLE){var n=a.TABLE_FIELD_BORDER_SPAC;i.setLineSize(0,0,0),i.setPadding(n,n,n,n),i.setMargin(0,t.lineRight,0,t.lineLeft)}else i.getType()==ns.TYPE_MODEL_PARAG&&(i.setLineSize(t.lineWidth-e.paddingLeft-e.paddingRight,t.lineLeft,t.lineRight),i.setPadding(0,0,0,0),i.setMargin(0,0,0,0));i.typeset()})),this.resize()}},{key:"paging",value:function(){var t=this.getSegment();if(this.getHeight()>t.segHeight-t.segOffset)for(var e=0;e<$(this,Os).length;e++){var i=$(this,Os)[e];i.getHeight()<=t.segHeight-t.segOffset?t.segOffset+=i.getHeight():i.getLineHeight()>=t.segHeight-t.segOffset?(e>0&&$(this,Os)[e-1].setMarginBot(t.segHeight-t.segOffset+t.segBottom),i.setMarginTop(t.segTop),t.segOffset=i.getHeight()):(i.setSegment(t.segHeight,t.segTop,t.segBottom,t.segOffset),i.paging(),t.segOffset=(i.getHeight()+t.segOffset)%(t.segHeight+t.segTop+t.segBottom))}$(this,Os).forEach((function(t){t.resize()})),this.resize(),this.setSegOffset(t.segOffset)}},{key:"locate",value:function(t,e){this.setOffset(t,e);var i=this.getMargin(),n=this.getPadding();e+=i.marginTop,e+=n.paddingTop,t+=n.paddingLeft,$(this,Os).forEach((function(n){n.locate(t,e),e+=n.getHeight(),e+=i.marginTop}))}},{key:"resize",value:function(){var t=this.getPadding(),e=this.getMargin(),i=t.paddingBot+t.paddingTop+e.marginBot+e.marginTop;$(this,Os).forEach((function(t){i+=t.getHeight()})),this.setHeight(i)}},{key:"debug",value:function(){var t=Ji(Z(r.prototype),"debug",this).call(this);return t.children=[],$(this,Os).forEach((function(e){return t.children.push(e.debug())})),t}},{key:"selectElement",value:function(t,e){var i=this.findArrayIndex($(this,Os),t,e),n=i[0],r=i[1];if(n==r)return $(this,Os)[n].selectElement(t,e);for(var o=$(this,Os)[n].selectHalfElement(t,a.SELECT_POINT_END),s=n+1;s<r;s++)o=[].concat(d(o),d($(this,Os)[s].getElements()));return[].concat(d(o),d($(this,Os)[r].selectHalfElement(e,a.SELECT_POINT_BEG)))}},{key:"selectElement2",value:function(t,e,i){var n=this.findArrayIndex($(this,Os),t.at(0),t.at(-1)),r=n[0],o=n[1];return r==o?!!$(this,Os)[r].selectElement2(t,e,i)||Uo(this,Is,Ds).call(this,t,e,i,r):e==a.SELECT_POINT_END?Uo(this,As,Ns).call(this,t,e,i,o):e==a.SELECT_POINT_BEG?Uo(this,Ps,Bs).call(this,t,e,i,r):void 0}},{key:"localeElement",value:function(t,e,i){var n=this.getMargin(),r=this.getPadding();e-=n.marginTop,e-=r.paddingTop;for(var a=void 0,o=0;o<$(this,Os).length;o++)if(a=$(this,Os)[o],o<$(this,Os).length-1){if(e<=a.getHeight())break;e-=a.getHeight()}return a.localeElement(t,e,i)}},{key:"localeUpElement",value:function(t,e,i){for(var n=0;n<$(this,Os).length;n++){var r=$(this,Os)[n];if(r.findIndex(t)>=0)return!!r.localeUpElement(t,e,i)||n>0&&($(this,Os)[n-1].localeLastLineElement(e,i),!0)}}},{key:"localeDownElement",value:function(t,e,i){for(var n=0;n<$(this,Os).length;n++){var r=$(this,Os)[n];if(r.findIndex(t)>=0)return!!r.localeDownElement(t,e,i)||n<$(this,Os).length-1&&($(this,Os)[n+1].localeFristLineElement(e,i),!0)}}},{key:"localeLastLineElement",value:function(t,e){$(this,Os).at(-1).localeLastLineElement(t,e)}},{key:"localeFristLineElement",value:function(t,e){$(this,Os)[0].localeFristLineElement(t,e)}},{key:"findTableFieldInfo",value:function(t,e){if(0==e.length){var i=this.findArrayIndex($(this,Os),t);if($(this,Os)[i].getType()==ns.TYPE_MODEL_TABLE)return $(this,Os)[i].findTableFieldInfo(t,e)}else{var n=this.findArrayIndex($(this,Os),e.at(0),e.at(-1));if(n[0]==n[1]&&$(this,Os)[n[0]].getType()==ns.TYPE_MODEL_TABLE)return $(this,Os)[n[0]].findTableFieldInfo(t,e)}}},{key:"findTableMergeInfo",value:function(t){if(0==t.length)return Ji(Z(r.prototype),"findTableMergeInfo",this).call(this);var e=this.findArrayIndex($(this,Os),t.at(0),t.at(-1));return e[0]!=e[1]||$(this,Os)[e[0]].getType()!=ns.TYPE_MODEL_TABLE?Ji(Z(r.prototype),"findTableMergeInfo",this).call(this):$(this,Os)[e[0]].findTableMergeInfo(t)}},{key:"isTableElement",value:function(t,e){if(0!=e.length){var i=this.findArrayIndex($(this,Os),e.at(0),e.at(-1));return i[0]==i[1]&&$(this,Os)[i[0]].getType()==ns.TYPE_MODEL_TABLE}for(var n=0;n<$(this,Os).length;n++){var r=$(this,Os)[n];if(r.findIndex(t)>=0)return r.getType()==ns.TYPE_MODEL_TABLE}}}]),r}(Rs);function Ds(t,e,i,n){if(e==a.SELECT_POINT_END){if(n<$(this,Os).length-1){var r=$(this,Os)[n].selectHalfElement(t.at(0),a.SELECT_POINT_END);return E.splice(t,0,r),$(this,Os)[n+1].selectFirstElement(t,e,i)}return!1}if(e==a.SELECT_POINT_BEG){if(n>0){var o=$(this,Os)[n].selectHalfElement(t.at(-1),a.SELECT_POINT_BEG);return E.splice(t,0,o),$(this,Os)[n-1].selectLastElement(t,e,i)}return!1}}function Ns(t,e,i,n){return i!=a.SELECT_EXT_TYPE_R&&i!=a.SELECT_EXT_TYPE_D?$(this,Os)[n].selectStepElement(t,t.at(-1),i,!1):$(this,Os)[n].selectStepElement(t,t.at(-1),i,!0)?void 0:n<$(this,Os).length-1&&$(this,Os)[n+1].selectFirstElement(t,e,i)}function Bs(t,e,i,n){return i!=a.SELECT_EXT_TYPE_L&&i!=a.SELECT_EXT_TYPE_U?$(this,Os)[n].selectStepElement(t,t.at(0),i,!1):$(this,Os)[n].selectStepElement(t,t.at(0),i,!0)?void 0:n>0&&$(this,Os)[n-1].selectLastElement(t,e,i)}var Ws=new WeakMap,Hs=new WeakSet,Fs=new WeakSet,Ys=new WeakSet,js=new WeakSet,zs=new WeakSet,Gs=new WeakSet,Us=new WeakSet,Xs=new WeakSet,Ks=new WeakSet,Vs=function(e){K(r,e);var i=Yo(r);function r(e){var n;return t(this,r),jo(U(n=i.call(this,e)),Ks),jo(U(n),Xs),jo(U(n),Us),jo(U(n),Gs),jo(U(n),zs),jo(U(n),js),jo(U(n),Ys),jo(U(n),Fs),jo(U(n),Hs),zo(U(n),Ws,{writable:!0,value:void 0}),n}return n(r,[{key:"getType",value:function(){return ns.TYPE_MODEL_PARAG}},{key:"getLines",value:function(){return $(this,Ws)}},{key:"getLineHeight",value:function(){return $(this,Ws)[0].height}},{key:"getChapterSize",value:function(){return this.getLineSize()}},{key:"struct",value:function(){}},{key:"typeset",value:function(){var t=this,e=this.getLineSize(),i=this.getPadding();q(this,Ws,[]),this.getElements().forEach((function(e){e.property.type==D.TYPE_STRUCT?e.property.classify==D.CLS_DIVDER?Uo(t,Fs,Js).call(t,e):Uo(t,Hs,Zs).call(t,e):e.property.classify==D.CLS_TEXT_CHAR?Uo(t,Ys,$s).call(t,e):e.property.classify==D.CLS_TEXT_TAB?Uo(t,js,qs).call(t,e):D.isImageBlock(e)?Uo(t,zs,Qs).call(t,e):D.isFieldBorder(e)&&Uo(t,Gs,tl).call(t,e)}));var n=this.getElements().at(-1).paragStyle,r=a.getDefaultFontSize(),o=parseInt(n.indentLeft*r.value),s=parseInt(n.indentRight*r.value),l=null;this.getElements().forEach((function(h,c){var u=h._size;if(!l||Uo(t,Us,el).call(t,l.surplus,c)){var f=0;(n.indentSpecialType==a.INDENT_TYPE_TEXT&&0==$(t,Ws).length||n.indentSpecialType==a.INDENT_TYPE_HANG&&$(t,Ws).length>0)&&(f=parseInt(n.indentSpecialvalue*r.value)),l=j.createParagLine(e.lineWidth,e.lineLeft+i.paddingLeft,e.lineRight+i.paddingRight,o,s,f),$(t,Ws).push(l)}l.elements.push(h),l.surplus=l.surplus-u.width,l.height=Math.max(u.lineHeight,l.height),u.baseLine&&(l.baseLine=Math.max(u.baseLine,l.baseLine)),u.descent&&(l.descent=Math.max(u.descent,l.descent)),h.property.type==D.TYPE_STRUCT&&(l=null)}));var h=i.paddingTop+i.paddingBot;$(this,Ws).forEach((function(t){h+=t.height})),this.setHeight(h)}},{key:"paging",value:function(){var t=this.getSegment();if(this.getHeight()>t.segHeight-t.segOffset){for(var e=0;e<$(this,Ws).length;e++){var i=$(this,Ws)[e];i.height<=t.segHeight-t.segOffset?t.segOffset+=i.height:($(this,Ws)[e-1].marginBot=t.segHeight-t.segOffset+t.segBottom,i.marginTop=t.segTop,t.segOffset=i.height)}this.resize(),this.setSegOffset(t.segOffset)}}},{key:"locate",value:function(t,e){var i=this;this.setOffset(t,e);var n=this.getMargin(),r=this.getPadding();e+=n.marginTop,e+=r.paddingTop,t+=r.paddingLeft,$(this,Ws).forEach((function(n){e+=n.marginTop,Uo(i,Xs,il).call(i,n,t,e),e+=n.height+n.marginBot}))}},{key:"localeElement",value:function(t,e,i){var n=this.getMargin(),r=this.getPadding();e-=n.marginTop,e-=r.paddingTop;for(var a=void 0,o=0;o<$(this,Ws).length;o++){var s=(a=$(this,Ws)[o]).height+a.marginBot+a.marginTop;if(e<=s)break;e-=s}return Uo(this,Ks,nl).call(this,a,t,i)}},{key:"localeUpElement",value:function(t,e,i){for(var n=0;n<$(this,Ws).length;n++)if($(this,Ws)[n].elements.findIndex((function(e){return e===t}))>=0)return n>0&&(Object.assign(i,Uo(this,Ks,nl).call(this,$(this,Ws)[n-1],e,!0)),!0)}},{key:"localeDownElement",value:function(t,e,i){for(var n=0;n<$(this,Ws).length;n++)if($(this,Ws)[n].elements.findIndex((function(e){return e===t}))>=0)return n<$(this,Ws).length-1&&(Object.assign(i,Uo(this,Ks,nl).call(this,$(this,Ws)[n+1],e,!0)),!0)}},{key:"localeLastLineElement",value:function(t,e){Object.assign(e,Uo(this,Ks,nl).call(this,$(this,Ws).at(-1),t))}},{key:"localeFristLineElement",value:function(t,e){Object.assign(e,Uo(this,Ks,nl).call(this,$(this,Ws)[0],t))}},{key:"selectElement",value:function(t,e){return E.capture(this.getElements(),t,e,!1)}},{key:"selectElement2",value:function(t,e,i){for(var n=this.getElements(),r=void 0,o=void 0,s=$(this,Ws).findIndex((function(e){return e.elements.indexOf(t.at(0))>=0})),l=$(this,Ws).findIndex((function(e){return e.elements.indexOf(t.at(-1))>=0})),h=0;h<n.length;h++){var c=n[h];if(c===t.at(0)&&(r=h),c===t.at(-1)){o=h;break}}if(e==a.SELECT_POINT_BEG){if(i==a.SELECT_EXT_TYPE_L)return r>0&&(t.push(n.at(r-1)),!0);if(i==a.SELECT_EXT_TYPE_R)return t.splice(0,1),!0;if(i==a.SELECT_EXT_TYPE_U){if(s>0){var u=Uo(this,Ks,nl).call(this,$(this,Ws)[s-1],t.at(0)._offset.offsetX,!0),f=E.capture(this.getElements(),u.element,t.at(0),!0);return E.splice(t,0,f),!0}return!1}if(i==a.SELECT_EXT_TYPE_D){if(s<$(this,Ws).length-1){var d=Uo(this,Ks,nl).call(this,$(this,Ws)[s+1],t.at(0)._offset.offsetX,!0),p=E.capture(t.at(0),d);return E.remove(t,p),!0}return t.splice(0,t.length),!0}}else if(e==a.SELECT_POINT_END){if(i==a.SELECT_EXT_TYPE_R)return o<n.length-1&&(t.push(n.at(o+1)),!0);if(i==a.SELECT_EXT_TYPE_L)return t.splice(t.length-1,1),!0;if(i==a.SELECT_EXT_TYPE_D){if(l<$(this,Ws).length-1){var g=Uo(this,Ks,nl).call(this,$(this,Ws)[l+1],t.at(-1)._offset.offsetX,!0),v=E.capture(this.getElements(),g.element,t.at(-1),!1);return E.splice(t,0,v),!0}return!1}if(i==a.SELECT_EXT_TYPE_U){if(l>0){var _=Uo(this,Ks,nl).call(this,$(this,Ws)[l-1],t.at(-1)._offset.offsetX,!0),y=E.capture(_,t.at(-1));return E.remove(t,y),!0}return t.splice(0,t.length),!0}}return!0}},{key:"selectStepElement",value:function(t,e,i,n){var r=this.findIndex(e),o=$(this,Ws).findIndex((function(t){return t.elements.indexOf(e)>=0}));if(n){if(i==a.SELECT_EXT_TYPE_L){if(!(r>0))return!1;t.push(this.getElements().at(r-1))}else if(i==a.SELECT_EXT_TYPE_U){if(!(r>0))return!1;if(o>0){var s=Uo(this,Ks,nl).call(this,$(this,Ws)[o-1],e._offset.offsetX,!0),l=E.capture(this.getElements(),s.element,e,!0);E.splice(t,0,l)}else{var h=E.capture(this.getElements(),this.getElements().at(0),e,!1);E.splice(t,0,h)}}else if(i==a.SELECT_EXT_TYPE_R){if(!(r<this.getElements().length-1))return!1;t.push(this.getElements().at(r+1))}else if(i==a.SELECT_EXT_TYPE_D){if(!(r<this.getElements().length-1))return!1;if(o<$(this,Ws).length-1){var c=Uo(this,Ks,nl).call(this,$(this,Ws)[o+1],e._offset.offsetX,!0),u=E.capture(this.getElements(),c.element,e,!1);E.splice(t,0,u)}else{var f=E.capture(this.getElements(),e,this.getElements().at(-1),!0);E.splice(t,0,f)}}}else if(i==a.SELECT_EXT_TYPE_L||i==a.SELECT_EXT_TYPE_R)E.remove(t,[e]);else if(i==a.SELECT_EXT_TYPE_U)if(o>0){var d=Uo(this,Ks,nl).call(this,$(this,Ws)[o-1],e._offset.offsetX,!0),p=E.capture(this.getElements(),d,e,!0);E.remove(t,p)}else E.remove(t,$(this,Ws)[o].elements);else if(i==a.SELECT_EXT_TYPE_D)if(o<$(this,Ws).length-1){var g=Uo(this,Ks,nl).call(this,$(this,Ws)[o+1],e._offset.offsetX,!0),v=E.capture(this.getElements(),e,g,!0);E.remove(t,v)}else E.capture(this.getElements(),e,this.getElements().at(-1),!0),E.remove(t,$(this,Ws)[o].elements);return!0}},{key:"selectHalfElement",value:function(t,e){var i=this.getElements(),n=[];if(e==a.SELECT_POINT_BEG)for(var r=0;r<i.length&&i[r]!==t;r++)n.push(i[r]);else for(var o=i.length-1;o>=0&&(n.push(i[o]),i[o]!==t);o--);return n}},{key:"selectFirstElement",value:function(t,e,i){if(i==a.SELECT_EXT_TYPE_R)return t.push(this.getElements().at(0)),!0;var n=$(this,Ws).at(0).elements,r=Uo(this,Ks,nl).call(this,$(this,Ws).at(0),t.at(0)._offset.offsetX,!0),o=E.capture(n,n.at(0),r.element,!1);return E.splice(t,0,o),!0}},{key:"selectLastElement",value:function(t,e,i){if(i==a.SELECT_EXT_TYPE_L)return t.push(this.getElements().at(-1)),!0;var n=$(this,Ws).at(-1).elements,r=Uo(this,Ks,nl).call(this,$(this,Ws).at(-1),t.at(-1)._offset.offsetX,!0),o=E.capture(n,r.element,n.at(-1),!0);return E.splice(t,0,o),!0}},{key:"resize",value:function(){var t=this.getMargin(),e=this.getPadding(),i=t.marginBot+t.marginTop+e.paddingBot+e.paddingTop;$(this,Ws).forEach((function(t){i+=t.height+t.marginBot+t.marginTop})),this.setHeight(i)}},{key:"debug",value:function(){var t=Ji(Z(r.prototype),"debug",this).call(this);return t.children=[],$(this,Ws).forEach((function(e){return t.children.push({lineWidth:e.width,lineSurplus:e.surplus,lineLeft:e.left,lineRight:e.right})})),t}}]),r}(Rs);function Zs(t){var e=this.getElements();t._size=Ho.lineFeel(t.textStyle.size,e.at(-1).paragStyle.rowspac)}function Js(t){var e=this.getLineSize(),i=this.getPadding(),n=this.getElements(),r=e.lineWidth-(e.lineLeft+i.paddingLeft)-(e.lineRight+i.paddingRight);t._size=Ho.divder(t.textStyle.size,n.at(-1).paragStyle.rowspac,r)}function $s(t){var e=this.getElements();t._size=Ho.character(t.property.code,t.textStyle.script,t.textStyle.size,e.at(-1).paragStyle.rowspac)}function qs(t){var e=this.getElements();t._size=Ho.tab(t.textStyle.size,e.at(-1).paragStyle.rowspac)}function Qs(t){var e=this.getElements();t._size=Ho.block(t.image.width,t.image.height,e.at(-1).paragStyle.rowspac),t._drag_size=Object.assign({},t._size)}function tl(t){var e=this.getElements();t._size=Ho.fieldBorder(t.textStyle.size,e.at(-1).paragStyle.rowspac)}function el(t,e){var i=this.getElements(),n=i[e],r=n._size;if(e<i.length-1){if(t<r.width)return!0;var a=i[e+1],o=a._size;return a.property.classify==D.CLS_TEXT_CHAR&&o.width+r.width>t&&(Fo.NOT_APPEAR_LINE_END.includes(n.property.code.charCodeAt(0))||Fo.NOT_APPEAR_LINE_BEGIN.includes(a.property.code.charCodeAt(0)))}return t<r.width}function il(t,e,i){e+=t.left,e+=t.indentLeft,e+=t.indentSpecia;var n=this.getElements().at(-1).paragStyle.align,r=t.elements[t.elements.length-1],o=0,s=0,l=0;n==a.ALIGN_RIGHT?(e+=Math.max(t.surplus,0),t.alignLeft=Math.max(t.surplus,0)):n==a.ALIGN_CENTER?(e+=Math.max(t.surplus/2,0),t.alignLeft=Math.max(t.surplus/2,0),l=Math.max(t.surplus/2,0)):n==a.ALIGN_BOTH||n==a.ALIGN_DISPERSED?r.property.type==D.TYPE_STRUCT?n==a.ALIGN_DISPERSED?t.elements.length>2?s=t.surplus/(t.elements.length-2):(e+=Math.max(t.surplus/2,0),t.alignLeft=Math.max(t.surplus/2,0),l=Math.max(t.surplus/2,0)):l=t.surplus:t.elements.length>1?o=t.surplus/(t.elements.length-1):(e+=Math.max(t.surplus/2,0),t.alignLeft=Math.max(t.surplus/2,0)):l=t.surplus,t.elements.forEach((function(e,i){var n=e._size;i<t.elements.length-1?n.justifyspac=o:n.justifyspac=0,i<t.elements.length-2?n.dispersedspac=s:n.dispersedspac=0,e.property.classify==D.CLS_CELL?n.surplus=l:n.surplus=0})),t.elements.forEach((function(n){var r=n._size;n._offset={offsetX:e,offsetY:i,height:t.height,baseLine:t.baseLine,descent:t.descent},n._drag_offset=Object.assign({},n._offset),e+=r.width+r.dispersedspac+r.justifyspac}))}function nl(t,e,i){var n={element:void 0,next:!0};e-=t.alignLeft,e-=this.getLineSize().lineLeft;for(var r=0;r<t.elements.length;r++){n.element=t.elements[r];var o=n.element._size;if(!i&&D.isImageBlock(n.element)){if(n.type=a.CLICK_TYPE_IMAGE_BLOCK,e<=o.width){n.next=!1;break}}else{var s=o.width/2;if(n.type=a.CLICK_TYPE_ELEMENT,e<=s||n.element.property.type==D.TYPE_STRUCT){n.next=!1;break}}e-=o.width+o.dispersedspac+o.justifyspac}return n}var rl=new WeakMap,al=new WeakMap,ol=new WeakMap,sl=new WeakMap,ll=new WeakMap,hl=new WeakSet,cl=new WeakSet,ul=new WeakSet,fl=new WeakSet,dl=new WeakSet,pl=new WeakSet,gl=new WeakSet,vl=new WeakSet,_l=new WeakSet,yl=new WeakSet,El=new WeakSet,wl=new WeakSet,ml=new WeakSet,bl=new WeakSet,Tl=new WeakSet,kl=new WeakSet,Sl=new WeakSet,xl=new WeakSet,Ll=new WeakSet,Cl=function(e){K(r,e);var i=Yo(r);function r(e){var n;return t(this,r),jo(U(n=i.call(this,e)),Ll),jo(U(n),xl),jo(U(n),Sl),jo(U(n),kl),jo(U(n),Tl),jo(U(n),bl),jo(U(n),ml),jo(U(n),wl),jo(U(n),El),jo(U(n),yl),jo(U(n),_l),jo(U(n),vl),jo(U(n),gl),jo(U(n),pl),jo(U(n),dl),jo(U(n),fl),jo(U(n),ul),jo(U(n),cl),jo(U(n),hl),zo(U(n),rl,{writable:!0,value:void 0}),zo(U(n),al,{writable:!0,value:void 0}),zo(U(n),ol,{writable:!0,value:void 0}),zo(U(n),sl,{writable:!0,value:void 0}),zo(U(n),ll,{writable:!0,value:void 0}),q(U(n),rl,[]),n}return n(r,[{key:"getType",value:function(){return ns.TYPE_MODEL_TABLE}},{key:"getElements",value:function(){for(var t=[],e=this.getVisibleField(),i=0;i<e.length;i++){var n=e[i];t=[].concat(d(t),d(n.getElements()))}return t}},{key:"getLineHeight",value:function(){return Uo(this,El,Wl).call(this,0)}},{key:"getChapterSize",value:function(t){for(var e=this.getVisibleField(),i=0;i<e.length;i++){var n=e[i];if(n.findIndex(t)>=0)return n.getChapterSize(t)}}},{key:"getTableSize",value:function(){return{colWidths:$(this,al),rowHeights:$(this,ol),rowPagings:$(this,sl)}}},{key:"getVisibleField",value:function(){return $(this,rl).filter((function(t){return t.getFieldIndex().visible}))}},{key:"getMaxColIndex",value:function(){return $(this,al).length-1}},{key:"getMaxRowIndex",value:function(){return $(this,ol).length-1}},{key:"addField",value:function(t){$(this,rl).push(t)}},{key:"struct",value:function(t){Uo(this,hl,Rl).call(this),Uo(this,cl,Ol).call(this,t)}},{key:"typeset",value:function(){Uo(this,ul,Il).call(this),Uo(this,fl,Al).call(this),this.resize()}},{key:"paging",value:function(){var t=this.getSegment();q(this,sl,[]),q(this,ll,[]);for(var e=0;e<$(this,ol).length;e++){$(this,ll).push(t.segOffset),Uo(this,El,Wl).call(this,e)>t.segHeight-t.segOffset?($(this,sl).push(t.segHeight-t.segOffset+t.segBottom+t.segTop),t.segOffset=0):$(this,sl).push(0);var i=Uo(this,gl,Ml).call(this,e);i<t.segHeight-t.segOffset?t.segOffset+=i:t.segOffset=Uo(this,pl,Pl).call(this,e,t.segOffset)}this.resize(),this.setSegOffset(t.segOffset)}},{key:"locate",value:function(t,e){var i=this;this.setOffset(t,e);var n=Uo(this,wl,Hl).call(this),r=this.getMargin(),a=this.getPadding();e+=r.marginTop,e+=a.paddingTop,t+=a.paddingLeft,t+=r.marginLeft,t+=n,this.getVisibleField().forEach((function(n){var r=n.getFieldIndex();if(r.visible){for(var a=0,o=0,s=0;s<r.row-r.rowspan+1;s++)a+=$(i,ol)[s],a+=$(i,sl)[s+1];for(var l=0;l<r.col-r.colspan+1;l++)o+=$(i,al)[l];n.locate(t+o,e+a)}}))}},{key:"resize",value:function(){var t=this.getMargin(),e=this.getPadding(),i=t.marginBot+t.marginTop+e.paddingBot+e.paddingTop;$(this,ol).forEach((function(t){i+=t})),$(this,sl).forEach((function(t){i+=t})),this.setHeight(i)}},{key:"debug",value:function(){var t=Ji(Z(r.prototype),"debug",this).call(this);return t.children=[],$(this,rl).forEach((function(e){return t.children.push(e.debug())})),t}},{key:"localeElement",value:function(t,e,i){var n=this,r=this.getMargin(),o=this.getPadding(),s=this.getSegment(),l=Uo(this,wl,Hl).call(this);e-=r.marginTop,e-=o.paddingTop,t-=o.paddingLeft,t-=r.marginLeft,t-=l;for(var h=0,u=0,f=!1;h<$(this,ol).length;h++){var d=$(this,ol)[h],p=$(this,sl)[h];if(h>0&&(e-=$(this,sl)[h-1]),e<p){f=!0,e<p-s.segTop&&(h-=1);break}if(h>0&&(e-=$(this,ol)[h-1]),e<d)break}for(h=Math.min(h,this.getMaxRowIndex());u<$(this,al).length;u++){var g=$(this,al)[u];if(u>0&&(t-=$(this,al)[u-1]),t<g)break}u=Math.min(u,this.getMaxColIndex());for(var v=this.getVisibleField(),_=0;_<v.length;_++){var E=v[_],w=E.getFieldIndex();if(y.isFieldIndex(w,h,u)){var m=Uo(this,vl,Dl).call(this,E),b=Uo(this,_l,Nl).call(this,E),T=t+y.getListLenValue($(this,al),w.col-w.colspan+1,u-1),k=e+y.getListLenValue($(this,ol),w.row-w.rowspan+1,h-1)+y.getListLenValue($(this,sl),w.row-w.rowspan+2,h);if(i||f)return E.localeElement(T,k,i);var S=y.isFieldInside(T,k,m,b);if(S==a.TABLE_BORDER_INSIDE)return E.localeElement(T,k,i);var x=function(){var t=[];return $(n,rl).forEach((function(e){t.push(e.getElements().at(-1))})),{v:{type:a.CLICK_TYPE_TABLE_BORDER,border:S,cell:E.getElements().at(-1),all:t}}}();if("object"===c(x))return x.v}}}},{key:"localeUpElement",value:function(t,e,i){for(var n=this.getVisibleField(),r=0;r<n.length;r++){var a=n[r];if(a.findIndex(t)>=0){var o=Uo(this,yl,Bl).call(this,a);if(a.localeUpElement(t,e-o,i))return!0;var s=a.getFieldIndex();return s.row-s.rowspan+1>0&&(Uo(this,bl,Yl).call(this,s.row-s.rowspan,e,i),!0)}}}},{key:"localeDownElement",value:function(t,e,i){for(var n=this.getVisibleField(),r=0;r<n.length;r++){var a=n[r];if(a.findIndex(t)>=0){var o=Uo(this,yl,Bl).call(this,a);if(a.localeDownElement(t,e-o,i))return!0;var s=a.getFieldIndex();return s.row<this.getMaxRowIndex()&&(Uo(this,bl,Yl).call(this,s.row+1,e,i),!0)}}}},{key:"localeLastLineElement",value:function(t,e){Uo(this,bl,Yl).call(this,this.getMaxRowIndex(),t,e)}},{key:"localeFristLineElement",value:function(t,e){Uo(this,bl,Yl).call(this,0,t,e)}},{key:"selectElement",value:function(t,e){var i=this.getVisibleField(),n=this.findArrayIndex(i,t,e),r=n[0],a=n[1];if(r==a)return i[r].selectElement(t,e);var o=Uo(this,ml,Fl).call(this,[i[r],i[a]]);return Uo(this,Sl,Gl).call(this,o.minrow,o.mincol,o.maxrow,o.maxcol)}},{key:"selectElement2",value:function(t,e,i){var n=this.getVisibleField(),r=this.findArrayIndex(n,t.at(0),t.at(-1)),o=r[0];if(o!=r[1]){var s=0,l=0,h=999999,c=999999;n.forEach((function(e){if(t.indexOf(e.getElements().at(-1))>=0){var i=e.getFieldIndex();s=Math.max(i.row,s),l=Math.max(i.col,l),h=Math.min(i.row,h),c=Math.min(i.col,c)}}));var u=void 0;if(e==a.SELECT_POINT_END)if(i==a.SELECT_EXT_TYPE_R){if(l<this.getMaxColIndex())u=Uo(this,Sl,Gl).call(this,h,l+1,s,l+1);else{if(!(s<this.getMaxRowIndex()))return!1;u=Uo(this,Sl,Gl).call(this,s+1,c,s+1,l)}E.splice(t,0,u)}else if(i==a.SELECT_EXT_TYPE_D){if(!(s<this.getMaxRowIndex()))return!1;u=Uo(this,Sl,Gl).call(this,s+1,c,s+1,l),E.splice(t,0,u)}else i==a.SELECT_EXT_TYPE_L?(u=Uo(this,Sl,Gl).call(this,h,l,s,l),E.remove(t,u)):i==a.SELECT_EXT_TYPE_U&&(u=Uo(this,Sl,Gl).call(this,s,c,s,l),E.remove(t,u));else if(e==a.SELECT_POINT_BEG)if(i==a.SELECT_EXT_TYPE_L){if(c>0)u=Uo(this,Sl,Gl).call(this,h,c-1,s,c-1);else{if(!(h>0))return!1;u=Uo(this,Sl,Gl).call(this,h-1,c,h-1,l)}E.splice(t,0,u)}else if(i==a.SELECT_EXT_TYPE_U){if(!(h>0))return!1;u=Uo(this,Sl,Gl).call(this,h-1,c,h-1,l),E.splice(t,0,u)}else i==a.SELECT_EXT_TYPE_R?(u=Uo(this,Sl,Gl).call(this,h,c,s,c),E.remove(t,u)):i==a.SELECT_EXT_TYPE_D&&(u=Uo(this,Sl,Gl).call(this,h,c,h,l),E.remove(t,u));return!0}return!!n[o].selectElement2(t,e,i)||(e==a.SELECT_POINT_END?Uo(this,kl,zl).call(this,t,e,i,o):e==a.SELECT_POINT_BEG?Uo(this,Tl,jl).call(this,t,e,i,o):void 0)}},{key:"selectStepElement",value:function(t,e,i,n){var r=this.getVisibleField().find((function(t){return t.findIndex(e)>=0})).getFieldIndex();if(n){if(i==a.SELECT_EXT_TYPE_L||i==a.SELECT_EXT_TYPE_U){if(!(r.row>0))return!1;var o=Uo(this,Sl,Gl).call(this,r.row-1,0,r.row-1,this.getMaxColIndex());E.splice(t,0,o)}else if(i==a.SELECT_EXT_TYPE_R||i==a.SELECT_EXT_TYPE_D){if(!(r.row<this.getMaxRowIndex()))return!1;var s=Uo(this,Sl,Gl).call(this,r.row+1,0,r.row+1,this.getMaxColIndex());E.splice(t,0,s)}}else{var l=Uo(this,Sl,Gl).call(this,r.row,0,r.row,this.getMaxColIndex());E.remove(t,l)}return!0}},{key:"selectHalfElement",value:function(t,e){for(var i=0,n=this.getVisibleField();i<n.length&&!(n[i].findIndex(t)>=0);i++);var r=n[i].getFieldIndex();return e==a.SELECT_POINT_END?Uo(this,Sl,Gl).call(this,r.row-r.rowspan+1,0,this.getMaxRowIndex(),this.getMaxColIndex()):Uo(this,Sl,Gl).call(this,0,0,r.row,this.getMaxColIndex())}},{key:"selectLastElement",value:function(t,e,i){for(var n=[],r=this.getVisibleField(),a=0;a<r.length;a++){var o=r[a];o.getFieldIndex().row==this.getMaxRowIndex()&&(n=[].concat(d(n),d(o.getElements())))}return E.splice(t,0,n),!0}},{key:"selectFirstElement",value:function(t,e,i){for(var n=[],r=this.getVisibleField(),a=0;a<r.length;a++){var o=r[a];0==o.getFieldIndex().row&&(n=[].concat(d(n),d(o.getElements())))}return E.splice(t,0,n),!0}},{key:"findTableFieldInfo",value:function(t,e){var i=this.getVisibleField();if(0==e.length){var n=i.findIndex((function(e){return e.findIndex(t)>=0})),r=i[n].findTableFieldInfo(t,e);if(r)return r;var a=Uo(this,ml,Fl).call(this,[i[n]]);return Object.assign({field:i[n].getElements(),fields:$(this,rl).map((function(t){return t.getElements()}))},a)}var o=this.findArrayIndex(i,e.at(0),e.at(-1)),s=o[0];if(s==o[1]){var l=i[s].findTableFieldInfo(t,e);if(l)return l}var h=[];i.forEach((function(t){e.findIndex((function(e){return e===t.getElements().at(-1)}))>=0&&h.push(t)}));var c=Uo(this,ml,Fl).call(this,h);return Object.assign({fields:$(this,rl).map((function(t){return t.getElements()}))},c)}},{key:"findTableMergeInfo",value:function(t){var e=this.getVisibleField(),i=this.findArrayIndex(e,t.at(0),t.at(-1)),n=i[0];if(n==i[1])return e[n].findTableMergeInfo(t);var r=[];return e.forEach((function(e){t.findIndex((function(t){return t===e.getElements().at(-1)}))>=0&&r.push(e)})),Uo(this,Ll,Xl).call(this,r)}}]),r}(Rs);function Rl(){var t=this,e=0,i=0,n=this.getVisibleField();n.forEach((function(t){var n=t.getFieldIndex();e=Math.max(n.row,e),i=Math.max(n.col,i)})),q(this,al,[]),q(this,ol,[]),q(this,sl,[]);for(var r=0;r<=i;r++)$(this,al).push(0);for(var a=0;a<=e;a++)$(this,ol).push(0),$(this,sl).push(0);n.forEach((function(e){var i=e.getFieldSize(),n=e.getFieldIndex();$(t,ol)[n.row]=i.preHeight,$(t,al)[n.col]=i.preWidth}))}function Ol(t){this.getVisibleField().forEach((function(e){e.struct(t)}))}function Il(){var t=this;this.getVisibleField().forEach((function(e){var i=e.getFieldPadding(),n=Uo(t,vl,Dl).call(t,e),r=a.TABLE_FIELD_BORDER_SPAC;e.setLineSize(n,0,0),e.setPadding(i[0]+r,i[1]+r,i[2]+r,i[3]+r),e.setMargin(0,0,0,0),e.typeset()}))}function Al(){var t=this;this.getVisibleField().forEach((function(e){var i=e.getFieldIndex(),n=0;i.rowspan>1&&$(t,ol).forEach((function(t,e){e>i.row-i.rowspan&&e<i.row&&(n+=t)})),$(t,ol)[i.row]=Math.max($(t,ol)[i.row],e.getHeight()-n)}))}function Pl(t,e){var i=this.getSegment(),n=this.getVisibleField(),r=0;return n.forEach((function(n){var a=n.getFieldIndex();if(a.row==t&&1==a.rowspan){var o=n.getMargin(),s=n.getPadding(),l=o.marginBot+o.marginTop+s.paddingBot+s.paddingTop+e;n.setSegment(i.segHeight,i.segTop,i.segBottom,l),n.paging(),r=Math.max(n.getHeight(),r)}})),$(this,ol)[t]=Math.max(r,$(this,ol)[t]),($(this,ol)[t]+e)%(i.segHeight+i.segTop+i.segBottom)}function Ml(t){var e=this,i=this.getSegment(),n=this.getVisibleField(),r=0;return n.forEach((function(n){var a=n.getFieldIndex();if(a.row==t&&a.rowspan>1){var o=$(e,ll)[a.row-a.rowspan+1];n.setSegment(i.segHeight,i.segTop,i.segBottom,o),n.paging();for(var s=n.getHeight(),l=a.row-a.rowspan+1;l<a.row;l++)$(e,ol)[l],$(e,sl)[l],Wo("temp");r=Math.max(r,s)}})),$(this,ol)[t]=Math.max(r,$(this,ol)[t]),$(this,ol)[t]}function Dl(t){var e=t.getFieldIndex();return y.getListLenValue($(this,al),e.col-e.colspan+1,e.col)}function Nl(t){var e=t.getFieldIndex();return y.getListLenValue($(this,ol),e.row-e.rowspan+1,e.row)+y.getListLenValue($(this,sl),e.row-e.rowspan+2,e.row)}function Bl(t){for(var e=this.getMargin(),i=this.getPadding(),n=Uo(this,wl,Hl).call(this),r=t.getFieldIndex(),a=e.marginLeft+i.paddingLeft+n,o=0;o<r.col-r.colspan+1;o++)a+=$(this,al)[o];return a}function Wl(t){var e=0;return this.getVisibleField().forEach((function(i){i.getFieldIndex().row==t&&(e=Math.max(i.getLineHeight(),e))})),e}function Hl(){return $(this,rl).at(-1).getFieldIndex().indentLeft}function Fl(t){var e={};return t.forEach((function(t){var i=t.getFieldIndex();w.isNotUndefined(e.minrow)?e.minrow=Math.min(e.minrow,i.row-i.rowspan+1):e.minrow=i.row-i.rowspan+1,w.isNotUndefined(e.mincol)?e.mincol=Math.min(e.mincol,i.col-i.colspan+1):e.mincol=i.col-i.colspan+1,w.isNotUndefined(e.maxrow)?e.maxrow=Math.max(e.maxrow,i.row):e.maxrow=i.row,w.isNotUndefined(e.maxcol)?e.maxcol=Math.max(e.maxcol,i.col):e.maxcol=i.col})),e}function Yl(t,e,i){for(var n=void 0,r=this.getVisibleField(),a=0;a<r.length&&!(r[a].getFieldIndex().row==t&&(n=r[a]).getOffset().offsetX+Uo(this,vl,Dl).call(this,n)>e);a++);var o=Uo(this,yl,Bl).call(this,n);n.localeLastLineElement(e-o,i)}function jl(t,e,i,n){var r=this.getVisibleField();if(i==a.SELECT_EXT_TYPE_L){if(n>0){var o=Uo(this,xl,Ul).call(this,r[n-1].getFieldIndex(),r[n].getFieldIndex());return E.splice(t,0,o),!0}return!1}if(i==a.SELECT_EXT_TYPE_U){var s=r[n].getFieldIndex();if(s.row>0){var l=Uo(this,Sl,Gl).call(this,s.row-1,s.col-s.colspan+1,s.row-1,s.col);return E.splice(t,0,l),!0}return!1}}function zl(t,e,i,n){var r=this.getVisibleField();if(i==a.SELECT_EXT_TYPE_R){if(n<r.length-1){var o=Uo(this,xl,Ul).call(this,r[n+1].getFieldIndex(),r[n].getFieldIndex());return E.splice(t,0,o),!0}return!1}if(i==a.SELECT_EXT_TYPE_D){var s=r[n].getFieldIndex();if(s.row<this.getMaxRowIndex()){var l=Uo(this,Sl,Gl).call(this,s.row+1,s.col-s.colspan+1,s.row+1,s.col);return E.splice(t,0,l),!0}return!1}}function Gl(t,e,i,n){for(var r=[],a=this.getVisibleField(),o=0;o<a.length;o++){var s=a[o];y.isFieldInsideIndex(s.getFieldIndex(),t,e,i,n)&&r.push(s)}var l=[];return r.forEach((function(t){l=[].concat(d(l),d(t.getElements()))})),l}function Ul(t,e){var i=Math.min(t.row,e.row),n=Math.max(t.row,e.row),r=Math.min(t.col,e.col),a=Math.max(t.col,e.col);return Uo(this,Sl,Gl).call(this,i,r,n,a)}function Xl(t){for(var e=this,i=Ji(Z(Cl.prototype),"findTableMergeInfo",this).call(this),n=Uo(this,ml,Fl).call(this,t),r=function(n){for(var r=function(i){if(t.findIndex((function(t){return y.isFieldIndex(t.getFieldIndex(),n,i)}))<0)return{v:{v:Ji(Z(Cl.prototype),"findTableMergeInfo",e).call(e)}}},a=i.mincol;a<=i.maxcol;a++){var o=r(a);if("object"===c(o))return o.v}},a=(i=Object.assign(i,n)).minrow;a<=i.maxrow;a++){var o=r(a);if("object"===c(o))return o.v}var s=0==i.mincol&&i.maxcol==this.getMaxColIndex(),l=0==i.minrow&&i.maxrow==this.getMaxRowIndex();return $(this,rl).forEach((function(t){i.fields.push(t.getElements())})),i.rect=!0,i.arow=s&&!l,i.acol=!s&&l,i.cell=s||l,i.table=s&&l,i}var Kl=function(e){K(r,e);var i=Yo(r);function r(e){return t(this,r),i.call(this,e)}return n(r,[{key:"getFieldIndex",value:function(){var t=this.getElements().at(-1);return{row:t.property.row,col:t.property.col,rowspan:t.property.rowspan,colspan:t.property.colspan,indentLeft:t.property.indentLeft,indentRight:t.property.indentRight,visible:t.property.visible}}},{key:"getHeight",value:function(){return Ji(Z(r.prototype),"getHeight",this).call(this)}},{key:"getFieldSize",value:function(){var t=this.getElements().at(-1);return{preWidth:t.property.preWidth,preHeight:t.property.preHeight}}},{key:"getFieldPadding",value:function(){return this.getElements().at(-1).property.padding}},{key:"getFieldBorder",value:function(){return this.getElements().at(-1).property.border}},{key:"getLineHeight",value:function(){var t=this.getElements().at(-1),e=a.TABLE_FIELD_PADDING_V+a.TABLE_FIELD_BORDER_SPAC;return Math.max(t.property.preHeight,Ji(Z(r.prototype),"getLineHeight",this).call(this)+e)}}]),r}(Ms);function Vl(t,e,i){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),function(t,e){if(void 0===t)throw new TypeError("attempted to get private static field before its declaration")}(i),function(t,e){return e.get?e.get.call(t):e.value}(t,i)}var Zl=function(){function e(){t(this,e)}return n(e,null,[{key:"draw",value:function(t,i){var n=Object.assign({text:"",style:"0",transparency:30,fontfamily:"",fontsize:3e4},i),r=g.mmConversionPx(Vl(this,e,Jl)),a=g.mmConversionPx(Vl(this,e,$l)),o=(Vl(this,e,ql)/r).toFixed(10);t.width=Vl(this,e,ql),t.height=Vl(this,e,Ql),t.getContext("2d").scale(o,o),this.drawCanvas(t,n,r/2,a/2)}},{key:"drawCanvas",value:function(t,e,i,n){var r=t.getContext("2d");r.save(),r.fillStyle="rgba(0,0,0,".concat(e.transparency/100,")"),r.font="".concat(e.fontsize,"px ").concat(e.fontfamily),"1"==e.style&&(r.translate(i,n),r.rotate(-45*Math.PI/180),r.translate(-i,-n)),r.textAlign="center",r.textBaseline="middle",r.fillText(e.text,i,n),r.restore()}}]),e}(),Jl={writable:!0,value:2100},$l={writable:!0,value:2970},ql={writable:!0,value:140},Ql={writable:!0,value:210};function th(t,e){ih(t,e),e.add(t)}function eh(t,e,i){ih(t,e),e.set(t,i)}function ih(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nh(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var rh=function(e){K(o,e);var i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(i);if(r){var n=Z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function o(){return t(this,o),a.apply(this,arguments)}return n(o,[{key:"resetCanvas",value:function(t){if(t){t.height=t.height,t.width=t.width;var e=t.getContext("2d"),i=this.getCurrentRatio();e.scale(i,i)}}}]),o}(it),ah=new WeakMap,oh=new WeakMap,sh=new WeakMap,lh=new WeakMap,hh=new WeakMap,ch=new WeakMap,uh=new WeakMap,fh=new WeakMap,dh=new WeakMap,ph=new WeakSet,gh=new WeakSet,vh=new WeakSet,_h=new WeakSet,yh=new WeakSet,Eh=new WeakSet,wh=new WeakSet,mh=new WeakSet,bh=new WeakSet,Th=new WeakSet,kh=new WeakSet,Sh=new WeakSet,xh=new WeakSet,Lh=new WeakSet,Ch=function(){function e(){t(this,e),th(this,Lh),th(this,xh),th(this,Sh),th(this,kh),th(this,Th),th(this,bh),th(this,mh),th(this,wh),th(this,Eh),th(this,yh),th(this,_h),th(this,vh),th(this,gh),th(this,ph),eh(this,ah,{writable:!0,value:void 0}),eh(this,oh,{writable:!0,value:void 0}),eh(this,sh,{writable:!0,value:void 0}),eh(this,lh,{writable:!0,value:void 0}),eh(this,hh,{writable:!0,value:void 0}),eh(this,ch,{writable:!0,value:void 0}),eh(this,uh,{writable:!0,value:void 0}),eh(this,fh,{writable:!0,value:void 0}),eh(this,dh,{writable:!0,value:void 0})}return n(e,[{key:"init",value:function(t,e){q(this,ch,[]),q(this,hh,t),q(this,fh,0),q(this,dh,0),nh(this,ph,Rh).call(this,e)}},{key:"setPart",value:function(t){q(this,uh,t)}},{key:"getExprees",value:function(){return $(this,ch)}},{key:"translate",value:function(t,e){q(this,fh,t),q(this,dh,e)}},{key:"addLine",value:function(t,e,i,n,r,o){t+=$(this,fh),i+=$(this,fh);var s=t,l=e+=$(this,dh),h=i,c=n+=$(this,dh);n<e&&(s=i,l=n,h=t,c=e);var u=parseInt(l/$(this,ah)),f=l%$(this,ah),d=s,p=c-l+f,g=h-s+s;if($(this,uh)==a.CONTENT_PART_BODY)for(var v=$(this,ah)-$(this,lh),_=$(this,sh);p>0;){var y=$(this,ah)*u;nh(this,gh,Oh).call(this,d,y+Math.max(_,f),g,y+Math.min(v,p),r,o),nh(this,mh,Nh).call(this,u,d,Math.max(_,f),g,Math.min(v,p),r,o),p-=$(this,ah),f=0,u++}else($(this,uh)==a.CONTENT_PART_HEADER||$(this,uh)==a.CONTENT_PART_FOOTER)&&(nh(this,gh,Oh).call(this,s,l,h,c,r,o),nh(this,mh,Nh).call(this,u,d,f,g,p,r,o))}},{key:"addLine2",value:function(t,e,i,n,r,a){t+=$(this,fh),i+=$(this,fh);var o=t,s=e+=$(this,dh),l=i,h=n+=$(this,dh);n<e&&(o=i,s=n,l=t,h=e);var c=parseInt(s/$(this,ah)),u=s%$(this,ah),f=o,d=h-s+u,p=l-o+o;nh(this,gh,Oh).call(this,o,s,l,h,r,a),nh(this,mh,Nh).call(this,c,f,u,p,d,r,a)}},{key:"addText",value:function(t,e,i,n,r,a,o,s,l){e+=$(this,fh),i+=$(this,dh);var h=parseInt(i/$(this,ah)),c=i%$(this,ah),u=e;nh(this,vh,Ih).call(this,e,i,t,a,n,r,o,s,l),nh(this,bh,Bh).call(this,h,u,c,t,a,n,r,o,s,l)}},{key:"addText2",value:function(t,e,i,n,r,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0,h=arguments.length>9?arguments[9]:void 0;e+=$(this,fh),i+=$(this,dh),parseInt(i/$(this,ah)),$(this,ah),nh(this,vh,Ih).call(this,e,i,t,a,n,r,o,s,"",l,h)}},{key:"addImage",value:function(t,e,i,n,r){e+=$(this,fh),i+=$(this,dh);var a=parseInt(i/$(this,ah)),o=i%$(this,ah),s=e;nh(this,_h,Ah).call(this,t,e,i,n,r),nh(this,Th,Wh).call(this,a,s,o,t,n,r)}},{key:"addFullRect",value:function(t,e,i,n,r){var a=$(this,fh),o=$(this,dh),s=$(this,hh).getContext("2d");s.save(),s.fillStyle=t,s.fillRect(e+a,i+o,n,r),s.restore()}},{key:"addStrokeRect",value:function(t,e,i,n,r,a){t+=$(this,fh),e+=$(this,dh);var o=parseInt(e/$(this,ah)),s=e%$(this,ah),l=t;nh(this,yh,Ph).call(this,t,e,i,n,r,a),nh(this,kh,Hh).call(this,o,l,s,i,n,r,a)}},{key:"addStrokeEllipse",value:function(t,e,i,n,r,a){t+=$(this,fh),e+=$(this,dh);var o=parseInt(e/$(this,ah)),s=e%$(this,ah),l=t;nh(this,Eh,Mh).call(this,t,e,i,n,r,a),nh(this,Sh,Fh).call(this,o,l,s,i,n,r,a)}},{key:"addStrokeTriangle",value:function(t,e,i,n,r,a,o,s){t+=$(this,fh),e+=$(this,dh),i+=$(this,fh),n+=$(this,dh),r+=$(this,fh),a+=$(this,dh);var l=parseInt(Math.min(e,n,a)/$(this,ah)),h=e%$(this,ah),c=t,u=e%$(this,ah),f=t,d=e%$(this,ah),p=t;nh(this,wh,Dh).call(this,t,e,i,n,r,a,o,s),nh(this,xh,Yh).call(this,l,c,h,f,u,p,d,o,s)}},{key:"addWaterMark",value:function(t,e,i){var n=$(this,fh),r=$(this,dh);Zl.drawCanvas($(this,hh),t,e+n,i+r)}},{key:"clearRect",value:function(t,e,i,n){var r=$(this,fh),a=$(this,dh),o=$(this,hh).getContext("2d");o.save(),o.clearRect(t+r,e+a,i,n),o.restore()}},{key:"drawAnchor",value:function(t,e,i,n,r){var a=$(this,fh),o=$(this,dh),s=$(this,hh).getContext("2d");s.save(),s.strokeStyle=t,s.fillStyle=t,s.lineWidth=e,s.beginPath(),s.moveTo(i+a,n+o),s.lineTo(i+a+r,n+o),s.lineTo(i+a+r,n+o-r),s.stroke(),s.beginPath(),s.moveTo(i+a,n),s.lineTo(i+a+r/3,n+o+r/3),s.lineTo(i+a+r/3,n+o-r/3),s.fill(),s.restore()}}]),e}();function Rh(t){var e=t.getPageSize();q(this,ah,e.pxHeight),q(this,oh,e.pxWidth),q(this,sh,e.pxHeaderHeight),q(this,lh,e.pxFooterHeight)}function Oh(t,e,i,n,r,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s=$(this,hh).getContext("2d");s.save(),s.strokeStyle=r,s.lineWidth=a,s.setLineDash(o),s.beginPath(),s.moveTo(t,e),s.lineTo(i,n),s.stroke(),s.restore()}function Ih(t,e,i,n,r,a,o,s,l){var h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"left",c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"alphabetic",u=$(this,hh).getContext("2d");u.save(),u.fillStyle=n,u.textAlign=h,u.textBaseline=c,u.font=nh(this,Lh,jh).call(this,i,r,a,o,s,l),u.fillText(i,t,e),u.restore()}function Ah(t,e,i,n,r){var a=$(this,hh).getContext("2d");a.save(),a.drawImage(t.view,e,i,n,r),a.restore()}function Ph(t,e,i,n,r,a){$(this,fh),$(this,dh);var o=$(this,hh).getContext("2d");o.save(),o.lineWidth=a,o.strokeStyle=r,o.lineCap="round",o.lineJoin="round",o.rect(t,e,i,n),o.stroke(),o.restore()}function Mh(t,e,i,n,r,a){var o=$(this,hh).getContext("2d");o.save(),o.lineWidth=a,o.strokeStyle=r,o.beginPath(),o.ellipse(t,e,i,n,0,0,2*Math.PI),o.stroke(),o.restore()}function Dh(t,e,i,n,r,a,o,s){var l=$(this,hh).getContext("2d");l.save(),l.lineWidth=s,l.strokeStyle=o,l.beginPath(),l.moveTo(t,e),l.lineTo(i,n),l.lineTo(r,a),l.closePath(),l.stroke(),l.restore()}function Nh(t,e,i,n,r,a,o,s){$(this,ch).push({cls:"line",pageNum:t,pageX1:e,pageY1:i,pageX2:n,pageY2:r,color:a,weight:o,dash:s})}function Bh(t,e,i,n,r,a,o,s,l,h){$(this,ch).push({cls:"text",pageNum:t,pageX:e,pageY:i,code:n,color:r,font:a,size:o,bold:s,italic:l,script:h})}function Wh(t,e,i,n,r,a){$(this,ch).push({cls:"image",pageNum:t,pageX:e,pageY:i,code:n.base64,width:r,height:a})}function Hh(t,e,i,n,r,a,o){$(this,ch).push({cls:"strokerect",pageNum:t,pageX:e,pageY:i,width:n,height:r,style:a,linewidth:o})}function Fh(t,e,i,n,r,a,o){$(this,ch).push({cls:"strokeellipse",pageNum:t,pageX:e,pageY:i,width:n,height:r,style:a,linewidth:o})}function Yh(t,e,i,n,r,a,o,s,l){$(this,ch).push({cls:"stroketriangle",pageNum:t,pageX1:e,pageY1:i,pageX2:n,pageY2:r,pageX3:a,pageY3:o,style:s,linewidth:l})}function jh(t,e,i,n,r,o){var s=[];return n&&s.push("bold"),r&&s.push("italic"),o==a.SCRIPT_SUB||o==a.SCRIPT_SUP?_.isChineseWord(t)||_.isChineseSymbol(t)?s.push("".concat(i/2,"px")):s.push("".concat(2*i/3,"px")):s.push("".concat(i,"px")),s.push("".concat(e)),s.join(" ")}function zh(t,e){Gh(t,e),e.add(t)}function Gh(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Uh(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}r(Ch,"FILTER_FILL_STYLE","rgba(255, 255, 255, 0.59)");var Xh=new WeakMap,Kh=new WeakSet,Vh=new WeakSet,Zh=function(e){K(o,e);var i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(i);if(r){var n=Z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function o(){var e,i,n,r;t(this,o);for(var s=arguments.length,l=new Array(s),h=0;h<s;h++)l[h]=arguments[h];return zh(U(e=a.call.apply(a,[this].concat(l))),Vh),zh(U(e),Kh),r={writable:!0,value:void 0},Gh(i=U(e),n=Xh),n.set(i,r),e}return n(o,[{key:"draw",value:function(t,e,i,n){this.resetCanvas(t),q(this,Xh,[]),Uh(this,Kh,Jh).call(this,t,i)}},{key:"isSelectRegion",value:function(t){var e=this.getCanvasOffset(t);return e.x=e.offsetX,e.y=e.offsetY,$(this,Xh).findIndex((function(t){return v.pointInRect(e,t)}))>=0}}]),o}(rh);function Jh(t,e){var i=this;e.forEach((function(e){var n=e._offset,r=e._size;if(e.property.type==D.TYPE_STRUCT){var o=a.STYLE_ANCHOR_WIDTH;Uh(i,Vh,$h).call(i,t,n.offsetX,n.offsetY,o+r.surplus,n.height)}else(e.property.classify==D.CLS_TEXT_CHAR||D.isImageBlock(e))&&Uh(i,Vh,$h).call(i,t,n.offsetX,n.offsetY,r.width+r.dispersedspac+r.justifyspac,n.height)}))}function $h(t,e,i,n,r){var o=t.getContext("2d");o.fillStyle=a.COLOR_SELECT_BG,o.fillRect(e,i,n,r),$(this,Xh).push({x:e,y:i,w:n,h:r})}function qh(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function Qh(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var tc=new WeakSet,ec=new WeakSet,ic=new WeakSet,nc=new WeakSet,rc=new WeakSet,ac=new WeakSet,oc=new WeakSet,sc=new WeakSet,lc=new WeakSet,hc=new WeakSet,cc=function(e){K(o,e);var i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(i);if(r){var n=Z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function o(){var e;t(this,o);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return qh(U(e=a.call.apply(a,[this].concat(n))),hc),qh(U(e),lc),qh(U(e),sc),qh(U(e),oc),qh(U(e),ac),qh(U(e),rc),qh(U(e),nc),qh(U(e),ic),qh(U(e),ec),qh(U(e),tc),e}return n(o,[{key:"draw",value:function(t,e,i,n,r,a,o,s,l){this.resetCanvas(t),Qh(this,tc,uc).call(this,t,n,r,i,l),Qh(this,ec,fc).call(this,t,s),Qh(this,ic,dc).call(this,t,a),Qh(this,nc,pc).call(this,t,o)}}]),o}(rh);function uc(t,e,i,n,r){if(0==n.length&&r){var o=t.getContext("2d"),s=e._offset,l=e._size;e===i?(o.beginPath(),o.moveTo(s.offsetX,s.offsetY),o.lineTo(s.offsetX,s.offsetY+s.height),o.strokeStyle=a.COLOR_CURSOR,o.lineWidth=a.WIDTH_CURSOR,o.setLineDash(a.LINE_SOLID),o.stroke()):(o.beginPath(),o.moveTo(s.offsetX+l.width,s.offsetY),o.lineTo(s.offsetX+l.width,s.offsetY+s.height),o.strokeStyle=a.COLOR_CURSOR,o.lineWidth=a.WIDTH_CURSOR,o.setLineDash(a.LINE_SOLID),o.stroke())}}function fc(t,e){var i=t.getContext("2d"),n=e.getObject();if(e.getType()==a.DRAG_VIEW_LINE_H)e.isActive()&&(i.beginPath(),i.moveTo(cc.LINE_MIN_LEN,n.offsetY),i.lineTo(cc.LINE_MAX_LEN,n.offsetY),i.strokeStyle=a.COLOR_CURSOR,i.lineWidth=a.WIDTH_CURSOR,i.setLineDash(a.LINE_DASHED_1),i.stroke());else if(e.getType()==a.DRAG_VIEW_LINE_V)e.isActive()&&(i.beginPath(),i.moveTo(n.offsetX,cc.LINE_MIN_LEN),i.lineTo(n.offsetX,cc.LINE_MAX_LEN),i.strokeStyle=a.COLOR_CURSOR,i.lineWidth=a.WIDTH_CURSOR,i.setLineDash(a.LINE_DASHED_1),i.stroke());else if(e.getType()==a.DRAG_VIEW_IMAGE&&e.isActive()){var r=n._drag_size,o=n._drag_offset;i.save(),i.globalAlpha=.5,i.drawImage(n.image.view,o.offsetX,o.offsetY,r.width,r.height),i.restore()}}function dc(t,e){if(D.isImageBlock(e))Qh(this,rc,gc).call(this,t,e);else if(D.isLineObject(e)){var i=e.property,n=e._drag_offset;Qh(this,ac,vc).call(this,t,n.x1,n.y1,n.x2,n.y2,i.lineWidth,i.lineColor)}else if(D.isRectObject(e)){var r=e.property,a=e._drag_offset;Qh(this,oc,_c).call(this,t,a.x1,a.y1,a.x2,a.y2,r.lineWidth,r.lineColor),r.classify==D.OBJECT_SHAPE_RECT?Qh(this,sc,yc).call(this,t,a.x1,a.y1,a.x2,a.y2,r.lineWidth,r.lineColor):r.classify==D.OBJECT_SHAPE_ELLIPSE?Qh(this,lc,Ec).call(this,t,a.x1,a.y1,a.x2,a.y2,r.lineWidth,r.lineColor):r.classify==D.OBJECT_SHAPE_TRIANGLE&&Qh(this,hc,wc).call(this,t,a.x1,a.y1,a.x2,a.y2,r.lineWidth,r.lineColor)}}function pc(t,e){if(D.isLineObject(e)){var i=e.property,n=e._drag_offset;Qh(this,ac,vc).call(this,t,n.x1,n.y1,n.x2,n.y2,i.lineWidth,i.lineColor)}else if(D.isRectObject(e)){var r=e.property,a=e._drag_offset;Qh(this,oc,_c).call(this,t,a.x1,a.y1,a.x2,a.y2,r.lineWidth,r.lineColor),r.classify==D.OBJECT_SHAPE_RECT?Qh(this,sc,yc).call(this,t,a.x1,a.y1,a.x2,a.y2,r.lineWidth,r.lineColor):r.classify==D.OBJECT_SHAPE_ELLIPSE?Qh(this,lc,Ec).call(this,t,a.x1,a.y1,a.x2,a.y2,r.lineWidth,r.lineColor):r.classify==D.OBJECT_SHAPE_TRIANGLE&&Qh(this,hc,wc).call(this,t,a.x1,a.y1,a.x2,a.y2,r.lineWidth,r.lineColor)}}function gc(t,e){var i=e._drag_size,n=e._drag_offset,r=t.getContext("2d");r.save(),r.fillStyle=a.COLOR_BLOCK_DRAG,v.getBlockDragRect(n,i,a.LEN_BLOCK_DRAG).forEach((function(t){r.fillRect(t.x,t.y,t.w,t.h)})),r.setLineDash(a.LINE_DASHED_1),r.strokeStyle=a.COLOR_BLOCK_BORDER,r.rect(n.offsetX,n.offsetY,i.width,i.height),r.stroke(),r.restore()}function vc(t,e,i,n,r,o,s){var l=t.getContext("2d");l.save();var h=v.getLineObjectDrag(e,i,n,r,a.LEN_BLOCK_DRAG);l.fillStyle=a.COLOR_BLOCK_DRAG,h.forEach((function(t){l.fillRect(t.x,t.y,t.w,t.h)})),l.globalAlpha=.5,l.moveTo(e,i),l.lineTo(n,r),l.lineWidth=o,l.strokeStyle=s,l.lineJoin="round",l.lineCap="round",l.stroke(),l.restore()}function _c(t,e,i,n,r,o,s){var l=t.getContext("2d");l.save(),l.globalAlpha=.5,v.getRectObjectDrag(e,i,n,r,a.LEN_BLOCK_DRAG).forEach((function(t){l.fillRect(t.x,t.y,t.w,t.h)})),l.lineWidth=o,l.strokeStyle=s,l.stroke(),l.restore()}function yc(t,e,i,n,r,a,o){var s=t.getContext("2d");s.save(),s.globalAlpha=.5,s.lineWidth=a,s.strokeStyle=o,s.rect(e,i,n-e,r-i),s.stroke(),s.restore()}function Ec(t,e,i,n,r,a,o){var s=t.getContext("2d"),l=(n-e)/2,h=(r-i)/2;s.save(),s.globalAlpha=.5,s.lineWidth=a,s.strokeStyle=o,s.beginPath(),s.ellipse(e+l,i+h,Math.abs(l),Math.abs(h),0,0,2*Math.PI),s.stroke(),s.restore()}function wc(t,e,i,n,r,a,o){var s=t.getContext("2d"),l=(n-e)/2;s.save(),s.globalAlpha=.5,s.lineWidth=a,s.strokeStyle=o,s.beginPath(),s.moveTo(e+l,i),s.lineTo(n,r),s.lineTo(e,r),s.closePath(),s.stroke(),s.restore()}function mc(t,e){kc(t,e),e.add(t)}function bc(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}function Tc(t,e,i){kc(t,e),e.set(t,i)}function kc(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}r(cc,"LINE_MIN_LEN",0),r(cc,"LINE_MAX_LEN",9999999999);var Sc=new WeakMap,xc=new WeakMap,Lc=new WeakMap,Cc=new WeakMap,Rc=new WeakMap,Oc=new WeakMap,Ic=function(e){K(o,e);var i,r,a=(i=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(i);if(r){var n=Z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function o(){var e;return t(this,o),Tc(U(e=a.call(this)),Sc,{writable:!0,value:void 0}),Tc(U(e),xc,{writable:!0,value:void 0}),Tc(U(e),Lc,{writable:!0,value:void 0}),Tc(U(e),Cc,{writable:!0,value:void 0}),Tc(U(e),Rc,{writable:!0,value:void 0}),Tc(U(e),Oc,{writable:!0,value:void 0}),q(U(e),Sc,new _u),q(U(e),Lc,new ku),q(U(e),Cc,new Uc),q(U(e),xc,new lu),q(U(e),Rc,new Ch),q(U(e),Oc,new Ch),e}return n(o,[{key:"draw",value:function(t,e,i,n,r){this.resetCanvas(t),this.resetCanvas(e),this.drawCanvas(t,e,i,n,r)}},{key:"drawCanvas",value:function(t,e,i,n,r){$(this,Rc).init(t,n),$(this,Oc).init(e,n),$(this,Sc).init($(this,Rc),$(this,Oc)),$(this,Lc).init($(this,Rc),$(this,Oc)),$(this,Cc).init($(this,Rc),$(this,Oc)),$(this,xc).init($(this,Rc),$(this,Oc)),$(this,Sc).draw(n),$(this,Lc).drawBelow(n),$(this,Cc).drawBody(n),$(this,Lc).drawAbove(n),$(this,Cc).clearContent(n),$(this,Cc).drawNumber(n,i.page),$(this,Cc).drawHeaderFooter(n),$(this,xc).drawFilter(n,r),i.info.canvasdpi=g.getHtmlDpi()[0],i.info.pagecount=n.getModelSize().pageCount,i.view=$(this,Rc).getExprees()}}]),o}(rh),Ac=new WeakMap,Pc=new WeakMap,Mc=new WeakSet,Dc=new WeakSet,Nc=new WeakSet,Bc=new WeakSet,Wc=new WeakSet,Hc=new WeakSet,Fc=new WeakSet,Yc=new WeakSet,jc=new WeakSet,zc=new WeakSet,Gc=new WeakSet,Uc=function(){function e(){t(this,e),mc(this,Gc),mc(this,zc),mc(this,jc),mc(this,Yc),mc(this,Fc),mc(this,Hc),mc(this,Wc),mc(this,Bc),mc(this,Nc),mc(this,Dc),mc(this,Mc),Tc(this,Ac,{writable:!0,value:void 0}),Tc(this,Pc,{writable:!0,value:void 0})}return n(e,[{key:"init",value:function(t,e){q(this,Ac,t),q(this,Pc,e)}},{key:"drawBody",value:function(t){$(this,Ac).setPart(a.CONTENT_PART_BODY),$(this,Pc).setPart(a.CONTENT_PART_BODY),bc(this,Mc,Xc).call(this,t.getBodyModel())}},{key:"drawHeaderFooter",value:function(t){for(var e=t.getModelSize(),i=t.getPageSize(),n=0;n<e.pageCount;n++){var r=n*i.pxHeight;$(this,Ac).translate(0,r),$(this,Ac).setPart(a.CONTENT_PART_HEADER),$(this,Pc).setPart(a.CONTENT_PART_HEADER),bc(this,Mc,Xc).call(this,t.getHeaderModel()),$(this,Ac).setPart(a.CONTENT_PART_FOOTER),$(this,Pc).setPart(a.CONTENT_PART_FOOTER),bc(this,Mc,Xc).call(this,t.getFooterModel()),bc(this,Gc,iu).call(this,t,n),$(this,Ac).translate(0,0)}}},{key:"drawNumber",value:function(t,e){if("0"!=e.number)for(var i=t.getModelSize(),n=t.getPageSize(),r=0;r<i.pageCount;r++){var o={c:i.pageCount,n:r+1},s=r*n.pxHeight+n.pxHeight-n.pxFooterBottom,l=b.replaceVariables(e.format,o),h=l.length*e.size,c=parseInt(e.size),u=n.pxLeft;e.align==a.ALIGN_CENTER?u=(n.pxWidth-h)/2:e.align==a.ALIGN_RIGHT&&(u=n.pxWidth-n.pxRight-h),$(this,Ac).addText(l,u,s+c,e.family,e.size,"#000000",!1,!1,a.SCRIPT_NOR)}}},{key:"clearContent",value:function(t){for(var e=t.getModelSize(),i=t.getPageSize(),n=0;n<e.pageCount;n++){var r=n*i.pxHeight;$(this,Ac).clearRect(0,r,i.pxWidth,i.pxHeaderHeight),$(this,Ac).clearRect(0,r+i.pxHeight-i.pxFooterHeight,i.pxWidth,i.pxFooterHeight)}}}]),e}();function Xc(t){var e=this;t.getChapters().forEach((function(t){t.getType()==ns.TYPE_MODEL_PARAG?bc(e,Dc,Kc).call(e,t):t.getType()==ns.TYPE_MODEL_TABLE&&bc(e,Nc,Vc).call(e,t)}))}function Kc(t){var e=this;t.getLines().forEach((function(t){bc(e,Bc,Zc).call(e,t)}))}function Vc(t){var e=this,i=t.getVisibleField(),n=t.getTableSize();i.forEach((function(t){bc(e,Wc,Jc).call(e,t,n,i),bc(e,Mc,Xc).call(e,t)}))}function Zc(t){var e=this;t.elements.forEach((function(t){t.property.type==D.TYPE_STRUCT?t.property.classify==D.CLS_DIVDER?bc(e,Yc,Qc).call(e,t):bc(e,Hc,$c).call(e,t):t.property.classify==D.CLS_TEXT_CHAR?bc(e,jc,tu).call(e,t):D.isImageBlock(t)?bc(e,zc,eu).call(e,t):D.isFieldBorder(t)&&bc(e,Fc,qc).call(e,t)}))}function Jc(t,e,i){var n=t.getFieldIndex();if(n.visible){var r=t.getOffset(),a=t.getFieldBorder(),o=y.getListLenValue(e.colWidths,n.col-n.colspan+1,n.col),s=y.getListLenValue(e.rowHeights,n.row-n.rowspan+1,n.row)+y.getListLenValue(e.rowPagings,n.row-n.rowspan+2,n.row);if(a[0].visible)for(var l=r.offsetX,h=r.offsetY-a[0].width/2,c=r.offsetY-a[0].width/2,u=0;u<n.colspan;u++){var f=e.colWidths[n.col-n.colspan+1+u],d=y.getAdjoinCellBorder(i,n.row-n.rowspan,n.col-n.colspan+1+u);if(d){var p=d.getFieldBorder();(!p[2].visible||p[2].width<a[0].width)&&$(this,Ac).addLine(l,h,l+f,c,a[0].color,a[0].width)}else $(this,Ac).addLine(l,h,l+f,c,a[0].color,a[0].width);l+=f}if(a[1].visible)for(var g=r.offsetY,v=r.offsetX+o-a[1].width/2,_=r.offsetX+o-a[1].width/2,E=0;E<n.rowspan;E++){var w=e.rowHeights[n.row-n.rowspan+1+E],m=isNaN(e.rowPagings[n.row-n.rowspan+2+E])?0:e.rowPagings[n.row-n.rowspan+2+E],b=y.getAdjoinCellBorder(i,n.row-n.rowspan+1+E,n.col+1);if(b){var T=b.getFieldBorder();(!T[3].visible||T[3].width<=a[1].width)&&$(this,Ac).addLine(v,g,_,g+w+m,a[1].color,a[1].width)}else $(this,Ac).addLine(v,g,_,g+w+m,a[1].color,a[1].width);g+=w+m}if(a[2].visible)for(var k=r.offsetX,S=r.offsetY-a[2].width/2+s,x=r.offsetY-a[2].width/2+s,L=0;L<n.colspan;L++){var C=e.colWidths[n.col-n.colspan+1+L],R=y.getAdjoinCellBorder(i,n.row+1,n.col-n.colspan+1+L);if(R){var O=R.getFieldBorder();(!O[0].visible||O[0].width<=a[2].width)&&$(this,Ac).addLine(k,S,k+C,x,a[2].color,a[2].width)}else $(this,Ac).addLine(k,S,k+C,x,a[2].color,a[2].width);k+=C}if(a[3].visible)for(var I=r.offsetY,A=r.offsetX-a[3].width/2,P=r.offsetX-a[3].width/2,M=0;M<n.rowspan;M++){var D=e.rowHeights[n.row-n.rowspan+1+M],N=isNaN(e.rowPagings[n.row-n.rowspan+2+M])?0:e.rowPagings[n.row-n.rowspan+2+M],B=y.getAdjoinCellBorder(i,n.row-n.rowspan+1+M,n.col-n.colspan);if(B){var W=B.getFieldBorder();(!W[1].visible||W[1].width<a[3].width)&&$(this,Ac).addLine(A,I,P,I+D+N,a[3].color,a[3].width)}else $(this,Ac).addLine(A,I,P,I+D+N,a[3].color,a[3].width);I+=D+N}}}function $c(t){var e=t._offset,i=a.LEN_ANCHOR,n=e.offsetX,r=e.offsetY+e.height-e.baseLine-e.descent;$(this,Pc).drawAnchor(a.COLOR_LINEEEL,a.WIDTH_LINEEEL,n,r,i)}function qc(t){var e=t._offset,i=a.LEN_ANCHOR;$(this,Pc).addLine2(e.offsetX,e.offsetY,e.offsetX,e.offsetY+e.height,a.COLOR_FIELD,a.WIDTH_FIELD),t.property.classify==D.CLS_TEXT_FIELD_BEG?($(this,Pc).addLine2(e.offsetX,e.offsetY,e.offsetX+i,e.offsetY,a.COLOR_FIELD,a.WIDTH_FIELD),$(this,Pc).addLine2(e.offsetX,e.offsetY+e.height,e.offsetX+i,e.offsetY+e.height,a.COLOR_FIELD,a.WIDTH_FIELD)):($(this,Pc).addLine2(e.offsetX,e.offsetY,e.offsetX-i,e.offsetY,a.COLOR_FIELD,a.WIDTH_FIELD),$(this,Pc).addLine2(e.offsetX,e.offsetY+e.height,e.offsetX-i,e.offsetY+e.height,a.COLOR_FIELD,a.WIDTH_FIELD))}function Qc(t){var e=t._offset,i=t._size,n=a.COLOR_DIVDER,r=a.WIDTH_DIVDER_1;if(t.property.divderType.toString().startsWith("1")){var o=[];"11"==t.property.divderType||("12"==t.property.divderType?o=a.LINE_DASHED_1:"13"==t.property.divderType?o=a.LINE_DASHED_2:"14"==t.property.divderType&&(o=a.LINE_DASHED_3));var s=e.offsetX,l=e.offsetY+e.height/2,h=e.offsetX+i.width,c=e.offsetY+e.height/2;$(this,Ac).addLine2(s,l,h,c,n,r,o)}else if(t.property.divderType.toString().startsWith("2")){var u=[];"21"==t.property.divderType||"22"==t.property.divderType&&(u=[20,20]);var f=e.offsetY+(e.height-3*a.WIDTH_DIVDER_1)/2,d=f+2*a.WIDTH_DIVDER_1,p=e.offsetX,g=f,v=e.offsetX+i.width,_=f;$(this,Ac).addLine2(p,g,v,_,n,r,u),p=e.offsetX,g=d,v=e.offsetX+i.width,_=d,$(this,Ac).addLine2(p,g,v,_,n,r,u)}}function tu(t){var e=t._size,i=t._offset,n=t.property.code,r=t.textStyle.color,o=t.textStyle.font,s=t.textStyle.size,l=t.textStyle.bold,h=t.textStyle.italic,c=t.textStyle.script;if(t.textStyle.script==a.SCRIPT_SUP){var u=i.offsetX,f=i.offsetY+i.height-i.baseLine-i.descent-e.fontHeight/2;$(this,Ac).addText(n,u,f,o,s,r,l,h,c)}else{var d=i.offsetX,p=i.offsetY+i.height-i.baseLine-i.descent;$(this,Ac).addText(n,d,p,o,s,r,l,h,c)}if(t.textStyle.underline){var g=a.WIDTH_UNDERLINE,v=t.textStyle.color,_=i.offsetX,y=i.offsetY+i.height-i.baseLine,E=i.offsetX+e.width+e.dispersedspac+e.justifyspac,w=i.offsetY+i.height-i.baseLine;$(this,Ac).addLine2(_,y,E,w,v,g)}if(t.textStyle.strikethrough){var m=a.WIDTH_STRIKETHROUGH,b=t.textStyle.color,T=i.offsetX,k=i.offsetY+i.height-i.baseLine-i.descent-e.fontHeight/3,S=i.offsetX+e.width+e.dispersedspac+e.justifyspac,x=i.offsetY+i.height-i.baseLine-i.descent-e.fontHeight/3;$(this,Ac).addLine2(T,k,S,x,b,m)}}function eu(t){var e=t._size,i=t._offset;$(this,Ac).addImage(t.image,i.offsetX,i.offsetY,e.width,e.height)}function iu(t,e){var i=t.getHeaderModel(),n=t.getPageSize();if(i.getElements().length>1){var r=n.pxHeaderTop+i.getHeight();$(this,Ac).addLine2(n.pxLeft,r,n.pxWidth-n.pxRight,r,a.COLOR_HEADER_LINE,a.WIDTH_HEADER_LINE)}}var nu=new WeakMap,ru=new WeakMap,au=new WeakSet,ou=new WeakSet,su=new WeakSet,lu=function(){function e(){t(this,e),mc(this,su),mc(this,ou),mc(this,au),Tc(this,nu,{writable:!0,value:void 0}),Tc(this,ru,{writable:!0,value:void 0})}return n(e,[{key:"init",value:function(t,e){q(this,nu,t),q(this,ru,e)}},{key:"drawFilter",value:function(t,e){for(var i=t.getModelSize(),n=t.getPageSize(),r=0;r<i.pageCount;r++){var o=r*n.pxHeight;e==a.CONTENT_PART_HEADER?bc(this,au,hu).call(this,o,n):e==a.CONTENT_PART_FOOTER?bc(this,ou,cu).call(this,o,n):bc(this,su,uu).call(this,o,n)}}}]),e}();function hu(t,e){var i=t+e.pxHeaderHeight;$(this,ru).addFullRect(Ch.FILTER_FILL_STYLE,0,i,e.pxWidth,e.pxHeight-e.pxHeaderHeight),$(this,ru).addLine2(0,i,e.pxWidth,i,a.COLOR_PAGE_SEG,a.WIDTH_PAGE_SEG,[4,4,4,4]),$(this,ru).addText2("页眉",30,i+a.STYLE_LINE_HEIGHT,"SimSun",180,"#363636")}function cu(t,e){var i=t+e.pxHeight-e.pxFooterHeight;$(this,ru).addFullRect(Ch.FILTER_FILL_STYLE,0,t,e.pxWidth,e.pxHeight-e.pxFooterHeight),$(this,ru).addLine2(0,i,e.pxWidth,i,a.COLOR_PAGE_SEG,a.WIDTH_PAGE_SEG,[4,4,4,4]),$(this,ru).addText2("页脚",30,i-30,"SimSun",180,"#363636")}function uu(t,e){$(this,ru).addFullRect(Ch.FILTER_FILL_STYLE,0,t,e.pxWidth,e.pxHeaderHeight),$(this,ru).addFullRect(Ch.FILTER_FILL_STYLE,0,t+e.pxHeight-e.pxFooterHeight,e.pxWidth,e.pxFooterHeight)}var fu=new WeakMap,du=new WeakMap,pu=new WeakSet,gu=new WeakSet,vu=new WeakSet,_u=function(){function e(){t(this,e),mc(this,vu),mc(this,gu),mc(this,pu),Tc(this,fu,{writable:!0,value:void 0}),Tc(this,du,{writable:!0,value:void 0})}return n(e,[{key:"init",value:function(t,e){q(this,fu,t),q(this,du,e)}},{key:"draw",value:function(t){bc(this,pu,yu).call(this,t)}}]),e}();function yu(t){for(var e=t.getModelSize(),i=0;i<e.pageCount;i++)bc(this,gu,Eu).call(this,t,i),bc(this,vu,wu).call(this,t.getPageInfo(),t.getPageSize(),i)}function Eu(t,e){var i=t.getHeaderModel(),n=t.getFooterModel(),r=t.getPageSize(),o=r.pxTop-r.pxHeaderTop-a.STYLE_LINE_HEIGHT,s=r.pxHeight*(e+1),l=r.pxHeight*e,h=r.pxWidth,c=r.pxLeft,u=r.pxRight,f=r.pxHeaderHeight,d=r.pxFooterHeight;$(this,du).addLine2(0,s,h,s,a.COLOR_PAGEBORDER,a.WIDTH_PAGEBORDER),1==i.getElements().length&&($(this,du).addLine2(c-o,l+f,c,l+f,a.COLOR_BINDLINE,a.WIDTH_BINDLINE),$(this,du).addLine2(c,l+f,c,l+f-o,a.COLOR_BINDLINE,a.WIDTH_BINDLINE),$(this,du).addLine2(h-u+o,l+f,h-u,l+f,a.COLOR_BINDLINE,a.WIDTH_BINDLINE),$(this,du).addLine2(h-u,l+f,h-u,l+f-o,a.COLOR_BINDLINE,a.WIDTH_BINDLINE)),1==n.getElements().length&&($(this,du).addLine2(c-o,s-d,c,s-d,a.COLOR_BINDLINE,a.WIDTH_BINDLINE),$(this,du).addLine2(c,s-d,c,s-d+o,a.COLOR_BINDLINE,a.WIDTH_BINDLINE),$(this,du).addLine2(h-u+o,s-d,h-u,s-d,a.COLOR_BINDLINE,a.WIDTH_BINDLINE),$(this,du).addLine2(h-u,s-d,h-u,s-d+o,a.COLOR_BINDLINE,a.WIDTH_BINDLINE))}function wu(t,e,i){var n=t.watermark;if(n){var r=e.pxHeight*(i+.5),a=e.pxWidth/2;$(this,fu).addWaterMark(n,a,r)}}var mu=new WeakMap,bu=new WeakMap,Tu=new WeakSet,ku=function(){function e(){t(this,e),mc(this,Tu),Tc(this,mu,{writable:!0,value:void 0}),Tc(this,bu,{writable:!0,value:void 0})}return n(e,[{key:"init",value:function(t,e){q(this,mu,t),q(this,bu,e)}},{key:"drawBelow",value:function(t){bc(this,Tu,Su).call(this,t.getPageInfo().below)}},{key:"drawAbove",value:function(t){bc(this,Tu,Su).call(this,t.getPageInfo().above)}}]),e}();function Su(t){var e=this;t.forEach((function(t){var i=t.property,n=t.offset;if(D.isLineObject(t))$(e,mu).addLine2(n.x1,n.y1,n.x2,n.y2,i.lineColor,i.lineWidth);else if(D.isRectObject(t))if(i.classify==D.OBJECT_SHAPE_RECT)$(e,mu).addStrokeRect(n.x1,n.y1,n.x2-n.x1,n.y2-n.y1,i.lineColor,i.lineWidth);else if(i.classify==D.OBJECT_SHAPE_ELLIPSE){var r=(n.x2-n.x1)/2,a=(n.y2-n.y1)/2;$(e,mu).addStrokeEllipse(n.x1+r,n.y1+a,Math.abs(r),Math.abs(a),i.lineColor,i.lineWidth)}else if(i.classify==D.OBJECT_SHAPE_TRIANGLE){var o=(n.x2-n.x1)/2;$(e,mu).addStrokeTriangle(n.x1+o,n.y1,n.x2,n.y2,n.x1,n.y2,i.lineColor,i.lineWidth)}}))}function xu(t,e){Cu(t,e),e.add(t)}function Lu(t,e,i){Cu(t,e),e.set(t,i)}function Cu(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ru(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var Ou=new WeakMap,Iu=new WeakMap,Au=new WeakMap,Pu=new WeakMap,Mu=new WeakMap,Du=new WeakMap,Nu=new WeakMap,Bu=new WeakMap,Wu=new WeakMap,Hu=new WeakMap,Fu=new WeakMap,Yu=new WeakMap,ju=new WeakMap,zu=new WeakMap,Gu=new WeakMap,Uu=new WeakMap,Xu=new WeakMap,Ku=new WeakMap,Vu=new WeakMap,Zu=new WeakMap,Ju=new WeakMap,$u=new WeakMap,qu=new WeakMap,Qu=new WeakMap,tf=new WeakMap,ef=new WeakMap,nf=new WeakMap,rf=new WeakMap,af=new WeakMap,of=new WeakSet,sf=new WeakSet,lf=new WeakSet,hf=new WeakSet,cf=new WeakSet,uf=new WeakSet,ff=new WeakSet,df=new WeakSet,pf=new WeakSet,gf=new WeakSet,vf=new WeakSet,_f=new WeakSet,yf=new WeakSet,Ef=new WeakSet,wf=new WeakSet,mf=new WeakSet,bf=new WeakSet,Tf=new WeakSet,kf=new WeakSet,Sf=new WeakSet,xf=new WeakSet,Lf=new WeakSet,Cf=new WeakSet,Rf=new WeakSet,Of=new WeakSet,If=new WeakSet,Af=new WeakSet,Pf=new WeakSet,Mf=new WeakSet,Df=new WeakSet,Nf=new WeakSet,Bf=function(e){K(s,e);var i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(i);if(r){var n=Z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function s(){var e;return t(this,s),xu(U(e=o.call(this)),Nf),xu(U(e),Df),xu(U(e),Mf),xu(U(e),Pf),xu(U(e),Af),xu(U(e),If),xu(U(e),Of),xu(U(e),Rf),xu(U(e),Cf),xu(U(e),Lf),xu(U(e),xf),xu(U(e),Sf),xu(U(e),kf),xu(U(e),Tf),xu(U(e),bf),xu(U(e),mf),xu(U(e),wf),xu(U(e),Ef),xu(U(e),yf),xu(U(e),_f),xu(U(e),vf),xu(U(e),gf),xu(U(e),pf),xu(U(e),df),xu(U(e),ff),xu(U(e),uf),xu(U(e),cf),xu(U(e),hf),xu(U(e),lf),xu(U(e),sf),xu(U(e),of),Lu(U(e),Ou,{writable:!0,value:void 0}),Lu(U(e),Iu,{writable:!0,value:void 0}),Lu(U(e),Au,{writable:!0,value:void 0}),Lu(U(e),Pu,{writable:!0,value:void 0}),Lu(U(e),Mu,{writable:!0,value:void 0}),Lu(U(e),Du,{writable:!0,value:void 0}),Lu(U(e),Nu,{writable:!0,value:void 0}),Lu(U(e),Bu,{writable:!0,value:void 0}),Lu(U(e),Wu,{writable:!0,value:void 0}),Lu(U(e),Hu,{writable:!0,value:void 0}),Lu(U(e),Fu,{writable:!0,value:void 0}),Lu(U(e),Yu,{writable:!0,value:void 0}),Lu(U(e),ju,{writable:!0,value:void 0}),Lu(U(e),zu,{writable:!0,value:void 0}),Lu(U(e),Gu,{writable:!0,value:void 0}),Lu(U(e),Uu,{writable:!0,value:void 0}),Lu(U(e),Xu,{writable:!0,value:void 0}),Lu(U(e),Ku,{writable:!0,value:void 0}),Lu(U(e),Vu,{writable:!0,value:void 0}),Lu(U(e),Zu,{writable:!0,value:void 0}),Lu(U(e),Ju,{writable:!0,value:void 0}),Lu(U(e),$u,{writable:!0,value:void 0}),Lu(U(e),qu,{writable:!0,value:void 0}),Lu(U(e),Qu,{writable:!0,value:void 0}),Lu(U(e),tf,{writable:!0,value:void 0}),Lu(U(e),ef,{writable:!0,value:void 0}),Lu(U(e),nf,{writable:!0,value:void 0}),Lu(U(e),rf,{writable:!0,value:void 0}),Lu(U(e),af,{writable:!0,value:void 0}),q(U(e),tf,new Array),q(U(e),Xu,new ns),q(U(e),Fu,new Je),q(U(e),Yu,new ee),q(U(e),ju,new It),q(U(e),Gu,new Pi),q(U(e),zu,new Gi),q(U(e),Bu,new Ic),q(U(e),Hu,new cc),q(U(e),Wu,new Zh),q(U(e),rf,new hn),q(U(e),af,new Zi),q(U(e),Ku,new Do),e}return n(s,[{key:"load",value:function(t){var e=this;A.debug("load"),$(this,Ou).showMask(!0,"加载中..."),mo.loadData(t,(function(t){$(e,Ou).showMask(!0,t)}),(function(t){q(e,Uu,t),q(e,nf,a.CONTENT_PART_BODY),Ru(e,lf,Ff).call(e,$(e,Uu).body[0],$(e,Uu).body[0]),Ru(e,pf,Xf).call(e),Ru(e,hf,Yf).call(e),Ru(e,df,Uf).call(e,!0),$(e,Ou).synchroData(),$(e,Ou).showMask(!1)}))}},{key:"create",value:function(t){q(this,Ou,t),Ru(this,of,Wf).call(this),Ru(this,sf,Hf).call(this)}},{key:"refresh",value:function(){Ru(this,df,Uf).call(this,!0)}},{key:"getTextStyle",value:function(){return A.debug("getTextStyle"),Object.assign({},$(this,Vu))}},{key:"getParagStyle",value:function(){return A.debug("getParagStyle"),Ru(this,Df,dd).call(this),Object.assign({},$(this,Gu).getParagStyle())}},{key:"getPaperInfo",value:function(){return Object.assign({},$(this,Uu).paper)}},{key:"getUsedColors",value:function(){return $(this,Gu).getUsedColors()}},{key:"getViewSize",value:function(){var t=$(this,Xu).getModelSize();return{width:t.width*a.SYS_STANDARD_RATIO,height:t.height*a.SYS_STANDARD_RATIO}}},{key:"getPageNumInfo",value:function(){return{number:$(this,Uu).page.number,format:$(this,Uu).page.format,align:$(this,Uu).page.align,size:$(this,Uu).page.size,family:$(this,Uu).page.family}}},{key:"fileDownload",value:function(){mo.fileDownload($(this,Uu))}},{key:"fileImport",value:function(t){this.load(mo.importData(t))}},{key:"fileExport",value:function(){return mo.compressData($(this,Uu))}},{key:"filePreview",value:function(){var t=this;mo.filePreview($(this,Uu),(function(){}),(function(){Ru(t,yf,Jf).call(t,et.CALL_BACKEND_PROMPT)}))}},{key:"filePrint",value:function(){var t=this;mo.filePrint($(this,Uu),(function(){}),(function(){Ru(t,yf,Jf).call(t,et.CALL_BACKEND_PROMPT)}))}},{key:"fileExpImage",value:function(){mo.fileExpImage($(this,Iu),$(this,Uu),(function(){}),(function(){}))}},{key:"prevStack",value:function(){Ru(this,vf,Vf).call(this,$(this,Ku).prev())}},{key:"nextStack",value:function(){Ru(this,vf,Vf).call(this,$(this,Ku).next())}},{key:"setPaperInfo",value:function(t){Object.assign($(this,Uu).paper,t),Ru(this,hf,Yf).call(this),Ru(this,df,Uf).call(this,!0)}},{key:"changeTextStyle",value:function(t){A.debug("changeTextStyle"),Ru(this,Df,dd).call(this),$(this,Gu).changeTextStyle(t),Object.assign($(this,Vu),t)}},{key:"changeParagStyle",value:function(t){A.debug("changeParagStyle"),Ru(this,Df,dd).call(this),$(this,Gu).changeParagStyle(t),Object.assign($(this,Zu),t)}},{key:"changeFontColor",value:function(t){A.debug("setTextStyle"),Ru(this,Df,dd).call(this),$(this,Gu).changeFontColor(t),Object.assign($(this,Vu),{color:t})}},{key:"changePageNum",value:function(t){A.debug("changePageNum"),$(this,Uu).page.number=t.number,$(this,Uu).page.format=t.format,$(this,Uu).page.align=t.align,$(this,Uu).page.size=t.size,$(this,Uu).page.family=t.family,Ru(this,hf,Yf).call(this),Ru(this,df,Uf).call(this,!0)}},{key:"setZoom",value:function(t){a.SYS_ZOOM=t,Ru(this,hf,Yf).call(this),Ru(this,df,Uf).call(this,!0)}},{key:"insertWord",value:function(t){Ru(this,Af,cd).call(this),$(this,Yu).insertWord(t)}},{key:"insertLinefeel",value:function(){Ru(this,Af,cd).call(this),$(this,Yu).insertLinefeel()}},{key:"inserTab",value:function(){Ru(this,Af,cd).call(this),$(this,Yu).inserTab()}},{key:"insertTable",value:function(t){Ru(this,Af,cd).call(this),$(this,Yu).insertTable(t)}},{key:"insertImage",value:function(t){Ru(this,Af,cd).call(this),$(this,Yu).insertImage(t)}},{key:"insertDate",value:function(t,e){Ru(this,Af,cd).call(this),$(this,Yu).insertDate(t,e)}},{key:"insertSignature",value:function(t){Ru(this,Af,cd).call(this),$(this,Yu).insertSignature(t)}},{key:"insertDivder",value:function(t){Ru(this,Af,cd).call(this),$(this,Yu).insertDivder(t)}},{key:"insertGraphicCode",value:function(t,e){Ru(this,Af,cd).call(this),$(this,Yu).insertGraphicCode(t,e)}},{key:"insertWatermark",value:function(t,e){Ru(this,Af,cd).call(this),$(this,Yu).insertWatermark(t,e)}},{key:"insertPageNumber",value:function(t){Ru(this,Af,cd).call(this),$(this,Yu).insertPageNumber(t)}},{key:"insertShape",value:function(t){q(this,Qu,D.createShape(t)),Ru(this,df,Uf).call(this,!0)}},{key:"insertTextFieldWidget",value:function(){Ru(this,Af,cd).call(this),$(this,Yu).insertTextFieldWidget()}},{key:"backspaceText",value:function(){Ru(this,Af,cd).call(this),$(this,Yu).backspaceText()}},{key:"deleteText",value:function(){Ru(this,Af,cd).call(this),$(this,Yu).deleteText()}},{key:"deleteWatermark",value:function(){Ru(this,Af,cd).call(this),$(this,Yu).deleteWatermark()}},{key:"editorHeader",value:function(){$(this,nf)!=a.CONTENT_PART_HEADER&&(Ru(this,uf,zf).call(this,a.CONTENT_PART_HEADER),$(this,tf).splice(0,$(this,tf).length),Ru(this,lf,Ff).call(this,$(this,Uu).header[0],$(this,Uu).header[0]),Ru(this,hf,Yf).call(this),Ru(this,df,Uf).call(this,!0))}},{key:"editorFooter",value:function(){$(this,nf)!=a.CONTENT_PART_FOOTER&&(Ru(this,uf,zf).call(this,a.CONTENT_PART_FOOTER),$(this,tf).splice(0,$(this,tf).length),Ru(this,lf,Ff).call(this,$(this,Uu).footer[0],$(this,Uu).footer[0]),Ru(this,hf,Yf).call(this),Ru(this,df,Uf).call(this,!0))}},{key:"editorBody",value:function(){$(this,nf)!=a.CONTENT_PART_BODY&&(Ru(this,uf,zf).call(this,a.CONTENT_PART_BODY),$(this,tf).splice(0,$(this,tf).length),Ru(this,lf,Ff).call(this,$(this,Uu).body[0],$(this,Uu).body[0]),Ru(this,hf,Yf).call(this),Ru(this,df,Uf).call(this,!0))}},{key:"copyText",value:function(){var t=this;if($(this,tf).length>0){var e=$(this,tf).map((function(t){return t.property.code})).join("");ko.copy(e).then((function(){Ru(t,yf,Jf).call(t,et.PASTE_SUCCESSFULLY)}))}}},{key:"pasteText",value:function(){var t=this;ko.paste().then((function(e){t.insertWord(e)}))}},{key:"cutText",value:function(){var t=this;if($(this,tf).length>0){A.debug("cutText"),Ru(this,Af,cd).call(this);var e=$(this,tf).map((function(t){return t.property.code})).join("");$(this,Yu).cutText(),ko.copy(e).then((function(){Ru(t,yf,Jf).call(t,et.CUT_SUCCESSFULLY)}))}}},{key:"arrow",value:function(t,e){A.debug("arrow:key=".concat(t,",shiftKey=").concat(e)),Ru(this,Pf,ud).call(this),$(this,ju).action(t,e)}},{key:"tableMerge",value:function(){Ru(this,Mf,fd).call(this),$(this,zu).tableMerge()}},{key:"tableDeleteRow",value:function(){Ru(this,Mf,fd).call(this),$(this,zu).tableDeleteRow()}},{key:"tableDeleteCol",value:function(){Ru(this,Mf,fd).call(this),$(this,zu).tableDeleteCol()}},{key:"tableDelete",value:function(){Ru(this,Mf,fd).call(this),$(this,zu).tableDelete()}},{key:"tableInsertRowAbove",value:function(){Ru(this,Mf,fd).call(this),$(this,zu).tableInsertCell(a.TABLE_INSERT_ABOVE)}},{key:"tableInsertRowBelow",value:function(){Ru(this,Mf,fd).call(this),$(this,zu).tableInsertCell(a.TABLE_INSERT_BELOW)}},{key:"tableInsertColLeft",value:function(){Ru(this,Mf,fd).call(this),$(this,zu).tableInsertCell(a.TABLE_INSERT_LEFT)}},{key:"tableInsertColRight",value:function(){Ru(this,Mf,fd).call(this),$(this,zu).tableInsertCell(a.TABLE_INSERT_RIGHT)}},{key:"tableSplit",value:function(t){Ru(this,Mf,fd).call(this),$(this,zu).tableSplit(t)}},{key:"tableDeleteCell",value:function(t){Ru(this,Mf,fd).call(this),$(this,zu).tableDeleteCell(t)}},{key:"tableCellInfo",value:function(){return Ru(this,Mf,fd).call(this),$(this,zu).tableCellInfo()}}]),s}(it);function Wf(){$(this,Ou).domid.innerHTML="",q(this,Du,document.createElement("input")),$(this,Du).classList.add("editor-input"),q(this,Nu,document.createElement("div")),$(this,Nu).classList.add("editor-popup"),q(this,Pu,document.createElement("canvas")),$(this,Pu).classList.add("editor-background-canvas"),q(this,Iu,document.createElement("canvas")),$(this,Iu).classList.add("editor-textground-canvas"),q(this,Au,document.createElement("canvas")),$(this,Au).classList.add("editor-maskground-canvas"),q(this,Mu,document.createElement("canvas")),$(this,Mu).classList.add("editor-foreground-canvas"),$(this,Mu).id="editor-canvas",$(this,Ou).domid.append($(this,Du)),$(this,Ou).domid.append($(this,Pu)),$(this,Ou).domid.append($(this,Iu)),$(this,Ou).domid.append($(this,Au)),$(this,Ou).domid.append($(this,Mu)),$(this,Ou).domid.append($(this,Nu))}function Hf(){var t=this;$(this,rf).setRefresh((function(e){Ru(t,Tf,ed).call(t,e)})),window.addEventListener("mouseup",(function(){$(t,af).isActive()&&Ru(t,Lf,ad).call(t)})),$(this,Mu).addEventListener("dblclick",(function(e){Ru(t,Of,ld).call(t,e)})),$(this,Mu).addEventListener("mousedown",(function(e){0==e.button?(Ru(t,kf,id).call(t,e),e.preventDefault()):(Ru(t,Sf,nd).call(t,e),e.preventDefault())})),$(this,Mu).addEventListener("mousemove",(function(e){e.preventDefault(),$(t,af).isActive()?Ru(t,xf,rd).call(t,e):Ru(t,Rf,sd).call(t,e)})),$(this,Mu).addEventListener("mouseup",(function(e){Ru(t,Lf,ad).call(t,e)})),$(this,Mu).addEventListener("contextmenu",(function(e){e.preventDefault(),Ru(t,Cf,od).call(t,e)})),document.addEventListener("paste",function(){var e=G(tt().mark((function e(i){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.preventDefault(),t.pasteText();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.addEventListener("copy",function(){var e=G(tt().mark((function e(i){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.preventDefault(),t.copyText();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),document.addEventListener("cut",function(){var e=G(tt().mark((function e(i){return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.preventDefault(),t.cutText();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),$(this,Du).addEventListener("blur",(function(){$(t,rf).pause(),Ru(t,df,Uf).call(t,!1)})),$(this,Du).addEventListener("input",(function(e){if(!e.isComposing){var i=e.data;e.target.value="",t.insertWord(i)}})),$(this,Du).addEventListener("compositionend",(function(e){var i=e.data;e.target.value="",t.insertWord(i)})),$(this,Du).addEventListener("keydown",(function(e){var i=[a.KEY_ARROWDOWN,a.KEY_ARROWUP,a.KEY_ARROWLEFT,a.KEY_ARROWRIGHT];e.ctrlKey?e.key==a.KEY_B&&Ru(t,wf,qf).call(t):e.shiftKey?i.includes(e.key)&&(e.preventDefault(),t.arrow(e.key,e.shiftKey)):e.key==a.KEY_ENTER?t.insertLinefeel():e.key==a.KEY_TAB?(e.preventDefault(),t.inserTab()):e.key==a.KEY_BACKSPACE?t.backspaceText():e.key==a.KEY_DELETE?t.deleteText():e.key==a.KEY_ESC?t.editorBody():i.includes(e.key)&&(e.preventDefault(),t.arrow(e.key,e.shiftKey))}))}function Ff(t,e,i,n){var r=this;q(this,Ju,t),q(this,$u,e),q(this,qu,i),$(this,Ju)._cursor=n;var a=this.getCurrentPartData($(this,Uu),$(this,nf)),o=a.findIndex((function(t){return t===$(r,$u)}));if(0==o||a[o-1].property.type==D.TYPE_STRUCT){var s=D.findElementStyle(a,$(this,$u));q(this,Vu,s.textStyle),q(this,Zu,s.paragStyle)}else{var l=D.findElementStyle(a,a[o-1]);q(this,Vu,l.textStyle),q(this,Zu,l.paragStyle)}$(this,Ou).synchroStyle($(this,Vu),$(this,Zu))}function Yf(){q(this,ef,!0)}function jf(t){$(this,Mu).style.cursor=t}function zf(t){q(this,nf,t)}function Gf(){q(this,qu,$(this,Qu)),$(this,Uu).objects.above.push($(this,Qu)),$(this,tf).splice(0,$(this,tf).length),q(this,Qu,void 0),Ru(this,hf,Yf).call(this),Ru(this,df,Uf).call(this,!0)}function Uf(t){Ru(this,mf,Qf).call(this),Ru(this,Ef,$f).call(this,t),Ru(this,bf,td).call(this)}function Xf(){$(this,Ku).reset(),Ru(this,gf,Kf).call(this)}function Kf(t,e){$(this,Ku).save(t,e,$(this,Uu),$(this,nf),$(this,tf),$(this,$u),$(this,Ju)),$(this,Ou).synchroStack($(this,Ku).stackSize(),$(this,Ku).recycleSize())}function Vf(t){$(this,Ou).synchroStack($(this,Ku).stackSize(),$(this,Ku).recycleSize()),t&&(q(this,Uu,t.data),q(this,tf,t.selects),Ru(this,lf,Ff).call(this,t.cursor,t.insert),Ru(this,hf,Yf).call(this)),Ru(this,df,Uf).call(this,!0)}function Zf(){var t=this.getCurrentPartData($(this,Uu),a.CONTENT_PART_BODY),e=$(this,Xu).getModelSize(),i=$(this,Xu).getPageSize(),n=Math.ceil($(this,Ju)._offset.offsetY/i.pxHeight),r=j.getDocumentCharCount(t);$(this,Ou).synchroDocumentCount(n,e.pageCount,r)}function Jf(t){$(this,Ou).showMessage(t)}function $f(t){if(t&&0==$(this,tf).length&&w.isUndefined($(this,qu))){var e=$(this,Ju)._offset,i=$(this,Ju)._size;$(this,Du).focus();var n=this.getCurrentRatio(),r=(e.offsetY+i.height)*n,o=e.offsetX*n;$(this,Du).style.top="".concat($(this,Iu).offsetTop+r,"px"),$(this,Du).style.left="".concat($(this,Iu).offsetLeft+o,"px"),r>$(this,Ou).scrollid.scrollTop+$(this,Ou).scrollid.clientHeight-a.SYS_SCROLL_RED&&($(this,Ou).scrollid.scrollTop=r+a.SYS_SCROLL_RED-$(this,Ou).scrollid.clientHeight),r<$(this,Ou).scrollid.scrollTop&&($(this,Ou).scrollid.scrollTop=r-2*a.SYS_SCROLL_RED),o>$(this,Ou).scrollid.scrollLeft+$(this,Ou).scrollid.clientWidth-a.SYS_SCROLL_RED&&($(this,Ou).scrollid.scrollLeft=o+a.SYS_SCROLL_RED-$(this,Ou).scrollid.clientWidth),o<$(this,Ou).scrollid.scrollLeft&&($(this,Ou).scrollid.scrollLeft=o+2*a.SYS_SCROLL_RED),$(this,rf).switch(!0),$(this,rf).start(1e3),Ru(this,Tf,ed).call(this,!0)}else $(this,rf).switch(!1),Ru(this,Tf,ed).call(this,!1)}function qf(){console.info($(this,Xu).getBodyModel().debug())}function Qf(){if($(this,ef)){q(this,ef,!1),$(this,Xu).struct($(this,Uu));var t=$(this,Xu).getModelSize(),e=this.getCurrentRatio(),i=t.height*e,n=t.width*e;$(this,Iu).height=i,$(this,Iu).width=n,$(this,Pu).height=i,$(this,Pu).width=n,$(this,Mu).height=i,$(this,Mu).width=n,$(this,Au).height=i,$(this,Au).width=n;var r=Math.max(n+20,$(this,Ou).scrollid.clientWidth),a=Math.max(i+20,$(this,Ou).scrollid.clientHeight);$(this,Ou).domid.style.width="".concat(r,"px"),$(this,Ou).domid.style.height="".concat(a,"px"),$(this,Pu).style.left="".concat((r-n)/2,"px"),$(this,Pu).style.top="".concat((a-i)/2,"px"),$(this,Iu).style.left="".concat((r-n)/2,"px"),$(this,Iu).style.top="".concat((a-i)/2,"px"),$(this,Mu).style.left="".concat((r-n)/2,"px"),$(this,Mu).style.top="".concat((a-i)/2,"px"),$(this,Au).style.left="".concat((r-n)/2,"px"),$(this,Au).style.top="".concat((a-i)/2,"px"),$(this,Bu).draw($(this,Iu),$(this,Au),$(this,Uu),$(this,Xu),$(this,nf))}}function td(){$(this,Wu).draw($(this,Pu),$(this,Xu),$(this,tf),$(this,Uu))}function ed(t){$(this,Hu).draw($(this,Mu),$(this,Xu),$(this,tf),$(this,Ju),$(this,$u),$(this,qu),$(this,Qu),$(this,af),t),Ru(this,_f,Zf).call(this)}function id(t){$(this,af).setState(!0),Ru(this,If,hd).call(this),$(this,Fu).mousedown(t,!0)}function nd(t){$(this,Wu).isSelectRegion(t)}function rd(t){Ru(this,If,hd).call(this),$(this,Fu).mousemove(t)}function ad(t){Ru(this,If,hd).call(this),$(this,Fu).mouseup(t),$(this,af).setState(!1)}function od(t){Ru(this,If,hd).call(this),$(this,Fu).mousemenu(t)}function sd(t){Ru(this,If,hd).call(this),$(this,Fu).mousecursor(t)}function ld(t){Ru(this,If,hd).call(this),$(this,Fu).mousedblclick(t)}function hd(){var t=this;$(this,Fu).init($(this,Uu),$(this,Xu),$(this,tf),$(this,Ju),$(this,$u),$(this,qu),$(this,Qu),$(this,af),$(this,nf)),$(this,Fu).setCursorCallBack((function(e,i,n,r){Ru(t,lf,Ff).call(t,e,i,n,r)})),$(this,Fu).setChangeCallBack((function(){Ru(t,hf,Yf).call(t)})),$(this,Fu).setRefreshCallBack((function(e){Ru(t,df,Uf).call(t,e)})),$(this,Fu).setContextMenuCallBack((function(e){$(t,Ou).showContextMenu(e)})),$(this,Fu).setSaveMirrorCallBack((function(e,i){Ru(t,gf,Kf).call(t,e,i)})),$(this,Fu).setCursorStyleCallBack((function(e){Ru(t,cf,jf).call(t,e)})),$(this,Fu).setPendingCallBack((function(){Ru(t,ff,Gf).call(t)})),$(this,Fu).setChangePartCallBack((function(e){Ru(t,uf,zf).call(t,e)})),$(this,Fu).setLocateInputCallBack((function(){Ru(t,Ef,$f).call(t,!0)}))}function cd(){var t=this;$(this,rf).pause(),$(this,Yu).init($(this,Uu),$(this,Xu),$(this,tf),$(this,$u),$(this,Vu),$(this,Zu),$(this,nf)),$(this,Yu).setCursorCallBack((function(e,i,n,r){Ru(t,lf,Ff).call(t,e,i,n,r)})),$(this,Yu).setChangeCallBack((function(){Ru(t,hf,Yf).call(t)})),$(this,Yu).setRefreshCallBack((function(){Ru(t,df,Uf).call(t,!0)})),$(this,Yu).setSaveMirrorCallBack((function(e,i){Ru(t,gf,Kf).call(t,e,i)}))}function ud(){var t=this;$(this,rf).pause(),$(this,ju).init($(this,Uu),$(this,Xu),$(this,tf),$(this,Ju),$(this,$u),$(this,nf)),$(this,ju).setCursorCallBack((function(e,i,n,r){Ru(t,lf,Ff).call(t,e,i,n,r)})),$(this,ju).setChangeCallBack((function(){Ru(t,hf,Yf).call(t)})),$(this,ju).setRefreshCallBack((function(){Ru(t,df,Uf).call(t,!0)})),$(this,ju).setSaveMirrorCallBack((function(e,i){Ru(t,gf,Kf).call(t,e,i)}))}function fd(){var t=this;$(this,rf).pause(),$(this,zu).init($(this,Uu),$(this,Xu),$(this,tf),$(this,Ju),$(this,$u),$(this,nf)),$(this,zu).setCursorCallBack((function(e,i,n,r){Ru(t,lf,Ff).call(t,e,i,n,r)})),$(this,zu).setChangeCallBack((function(){Ru(t,hf,Yf).call(t)})),$(this,zu).setRefreshCallBack((function(){Ru(t,df,Uf).call(t,!0)})),$(this,zu).setSaveMirrorCallBack((function(e,i){Ru(t,gf,Kf).call(t,e,i)}))}function dd(){var t=this;$(this,Gu).init($(this,Uu),$(this,tf),$(this,$u),$(this,nf)),$(this,Gu).setCursorCallBack((function(e,i,n,r){Ru(t,lf,Ff).call(t,e,i,n,r)})),$(this,Gu).setChangeCallBack((function(){Ru(t,hf,Yf).call(t)})),$(this,Gu).setRefreshCallBack((function(){Ru(t,df,Uf).call(t,!0)})),$(this,Gu).setSaveMirrorCallBack((function(e,i){Ru(t,gf,Kf).call(t,e,i)}))}function pd(t,e){vd(t,e),e.add(t)}function gd(t,e,i){vd(t,e),e.set(t,i)}function vd(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _d(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var yd=new WeakMap,Ed=new WeakMap,wd=new WeakMap,md=new WeakMap,bd=new WeakMap,Td=new WeakMap,kd=new WeakMap,Sd=new WeakMap,xd=new WeakMap,Ld=new WeakMap,Cd=new WeakMap,Rd=new WeakMap,Od=new WeakSet,Id=new WeakSet,Ad=new WeakSet,Pd=new WeakSet,Md=new WeakSet,Dd=new WeakSet,Nd=new WeakSet,Bd=new WeakSet,Wd=new WeakSet,Hd=new WeakSet,Fd=new WeakSet,Yd=new WeakSet,jd=function(){function e(){var i=this;t(this,e),pd(this,Yd),pd(this,Fd),pd(this,Hd),pd(this,Wd),pd(this,Bd),pd(this,Nd),pd(this,Dd),pd(this,Md),pd(this,Pd),pd(this,Ad),pd(this,Id),pd(this,Od),gd(this,yd,{writable:!0,value:void 0}),gd(this,Ed,{writable:!0,value:void 0}),gd(this,wd,{writable:!0,value:void 0}),gd(this,md,{writable:!0,value:void 0}),gd(this,bd,{writable:!0,value:void 0}),gd(this,Td,{writable:!0,value:void 0}),gd(this,kd,{writable:!0,value:void 0}),gd(this,Sd,{writable:!0,value:void 0}),gd(this,xd,{writable:!0,value:!1}),gd(this,Ld,{writable:!0,value:function(t){_d(i,Ad,Ud).call(i,t)}}),gd(this,Cd,{writable:!0,value:function(t){_d(i,Pd,Xd).call(i,t)}}),gd(this,Rd,{writable:!0,value:function(){_d(i,Md,Kd).call(i)}}),q(this,wd,window.devicePixelRatio||1),q(this,Ed,"black"),q(this,xd,!1),q(this,md,2),q(this,bd,6),q(this,Td,1.5),q(this,kd,20),q(this,Sd,[])}return n(e,[{key:"create",value:function(t){q(this,yd,document.getElementById(t.signatureid)),$(this,yd).width=400,$(this,yd).height=200,_d(this,Od,zd).call(this)}},{key:"destroy",value:function(){/Android|iPhone|iPad|Mobile/i.test(navigator.userAgent)&&("ontouchstart"in window||navigator.maxTouchPoints)?(window.removeEventListener("touchcancel",$(this,Rd)),window.removeEventListener("touchend",$(this,Rd))):window.removeEventListener("mouseup",$(this,Rd))}},{key:"getBase64",value:function(){return $(this,yd).toDataURL("image/png",1)}}]),e}();function zd(){$(this,yd).style.touchAction="none",/Android|iPhone|iPad|Mobile/i.test(navigator.userAgent)&&("ontouchstart"in window||navigator.maxTouchPoints)?($(this,yd).addEventListener("touchstart",$(this,Ld)),$(this,yd).addEventListener("touchmove",$(this,Cd)),window.addEventListener("touchcancel",$(this,Rd)),window.addEventListener("touchend",$(this,Rd))):($(this,yd).addEventListener("mousedown",$(this,Ld)),$(this,yd).addEventListener("mousemove",$(this,Cd)),window.addEventListener("mouseup",$(this,Rd)))}function Gd(t){var e=Date.now(),i=$(this,Sd).slice(-1)[0];if(!i||i.t!==e){var n=$(this,yd).getBoundingClientRect(),r=t.touches&&t.touches[0]||t,a=r.clientX-n.left,o=r.clientY-n.top;if(!i||i.x!==a||i.y!==o){var s={x:a,y:o,t:e};if(i){var l=$(this,Sd).slice(-2,-1)[0];if(s.distance=Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2)),s.speed=s.distance/(s.t-i.t||.1),s.lineWidth=_d(this,Nd,Zd).call(this,s.speed),l&&l.lineWidth&&i.lineWidth){var h=(s.lineWidth-i.lineWidth)/i.lineWidth,c=$(this,kd)/100;if(c=c>1?1:c<.01?.01:c,Math.abs(h)>c){var u=h>0?c:-c;s.lineWidth=i.lineWidth*(1+u)}}}$(this,Sd).push(s),q(this,Sd,$(this,Sd).slice(-3))}}}function Ud(t){t.preventDefault(),q(this,xd,!0),$(this,yd).getContext("2d").strokeStyle=$(this,Ed),_d(this,Id,Gd).call(this,t)}function Xd(t){var e=this;if(t.preventDefault(),$(this,xd)&&(_d(this,Id,Gd).call(this,t),!($(this,Sd).length<2))){var i=$(this,Sd).slice(-1)[0],n=$(this,Sd).slice(-2,-1)[0];window.requestAnimationFrame?window.requestAnimationFrame((function(){return _d(e,Dd,Vd).call(e,n,i)})):_d(this,Dd,Vd).call(this,n,i)}}function Kd(){$(this,xd)&&(q(this,xd,!1),q(this,Sd,[]))}function Vd(t,e){_d(this,Hd,qd).call(this,t,e)}function Zd(t){var e=$(this,Td)>10?10:$(this,Td)<1?1:$(this,Td),i=($(this,bd)-$(this,md))*t/e,n=Math.max($(this,bd)-i,$(this,md));return Math.min(n,$(this,bd))}function Jd(t,e,i,n){var r=i-t,a=n-e;if(0===r)return{val:0,pos:-1};if(0===a)return{val:0,pos:1};var o=Math.abs(Math.atan(a/r));return i>t&&n<e||i<t&&n>e?{val:o,pos:1}:{val:o,pos:-1}}function $d(t,e,i,n){if(0===t.val)return 1===t.pos?[{x:e,y:i+n},{x:e,y:i-n}]:[{y:i,x:e+n},{y:i,x:e-n}];var r=Math.sin(t.val)*n,a=Math.cos(t.val)*n;return 1===t.pos?[{x:e+r,y:i+a},{x:e-r,y:i-a}]:[{x:e+r,y:i-a},{x:e-r,y:i+a}]}function qd(t,e){var i=e.x-t.x,n=e.y-t.y;if(Math.abs(i)+Math.abs(n)<=$(this,wd)?(e.lastX1=e.lastX2=t.x+.5*i,e.lastY1=e.lastY2=t.y+.5*n):(e.lastX1=t.x+.3*i,e.lastY1=t.y+.3*n,e.lastX2=t.x+.7*i,e.lastY2=t.y+.7*n),e.perLineWidth=(t.lineWidth+e.lineWidth)/2,"number"==typeof t.lastX1){if(_d(this,Fd,Qd).call(this,t.lastX2,t.lastY2,t.x,t.y,e.lastX1,e.lastY1,e.perLineWidth),t.isFirstPoint)return;if(t.lastX1===t.lastX2&&t.lastY1===t.lastY2)return;var r=_d(this,Bd,Jd).call(this,t.lastX1,t.lastY1,t.lastX2,t.lastY2),a=_d(this,Wd,$d).call(this,r,t.lastX1,t.lastY1,t.perLineWidth/2),o=_d(this,Wd,$d).call(this,r,t.lastX2,t.lastY2,e.perLineWidth/2);_d(this,Yd,tp).call(this,a[0],o[0],o[1],a[1])}else e.isFirstPoint=!0}function Qd(t,e,i,n,r,a,o){var s=$(this,yd).getContext("2d");s.lineWidth=Number(o.toFixed(1)),s.beginPath(),s.moveTo(Number(t.toFixed(1)),Number(e.toFixed(1))),s.quadraticCurveTo(Number(i.toFixed(1)),Number(n.toFixed(1)),Number(r.toFixed(1)),Number(a.toFixed(1))),s.stroke()}function tp(t,e,i,n){var r=$(this,yd).getContext("2d");r.beginPath(),r.moveTo(Number(t.x.toFixed(1)),Number(t.y.toFixed(1))),r.lineTo(Number(e.x.toFixed(1)),Number(e.y.toFixed(1))),r.lineTo(Number(i.x.toFixed(1)),Number(i.y.toFixed(1))),r.lineTo(Number(n.x.toFixed(1)),Number(n.y.toFixed(1))),r.fillStyle=$(this,Ed),r.fill()}function ep(t,e){np(t,e),e.add(t)}function ip(t,e,i){np(t,e),e.set(t,i)}function np(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rp(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}var ap=function(){function e(){t(this,e)}return n(e,null,[{key:"drawMSh",value:function(t,e,i,n){var r=new _p;r.parse(e,i),r.paint(t,n)}}]),e}(),op=function(){function e(){t(this,e)}return n(e,[{key:"parse",value:function(t,e){}},{key:"paint",value:function(t,e){}}]),e}(),sp=new WeakMap,lp=new WeakMap,hp=new WeakMap,cp=new WeakMap,up=new WeakMap,fp=new WeakMap,dp=new WeakMap,pp=new WeakMap,gp=new WeakSet,vp=new WeakSet,_p=function(e){K(s,e);var i,r,o=(i=s,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(i);if(r){var n=Z(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return V(this,t)});function s(){var e;t(this,s);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return ep(U(e=o.call.apply(o,[this].concat(n))),vp),ep(U(e),gp),ip(U(e),sp,{writable:!0,value:void 0}),ip(U(e),lp,{writable:!0,value:void 0}),ip(U(e),hp,{writable:!0,value:void 0}),ip(U(e),cp,{writable:!0,value:void 0}),ip(U(e),up,{writable:!0,value:void 0}),ip(U(e),fp,{writable:!0,value:void 0}),ip(U(e),dp,{writable:!0,value:void 0}),ip(U(e),pp,{writable:!0,value:void 0}),e}return n(s,[{key:"parse",value:function(t,e){q(this,sp,t),q(this,lp,e.ba),q(this,hp,e.st1),q(this,cp,e.st2),q(this,up,e.ce1),q(this,fp,e.ce2),q(this,dp,e.am),q(this,pp,e.la)}},{key:"paint",value:function(t){var e=t.getContext("2d"),i=rp(this,gp,yp).call(this,"".concat($(this,lp),"岁")),n=rp(this,gp,yp).call(this,"".concat($(this,hp),"~").concat($(this,cp))),r=rp(this,gp,yp).call(this,"".concat($(this,up),"~").concat($(this,fp))),o=rp(this,gp,yp).call(this,"".concat($(this,dp)?$(this,pp)+"岁":$(this,pp))),s=(n.height+r.height)/2;e.save(),e.strokeStyle=$(this,sp).color,e.lineWidth=a.WIDTH_UNDERLINE,e.font=rp(this,vp,Ep).call(this),e.fillText(i.str,0,s+i.height/2),e.fillText(n.str,i.width,s),e.fillText(r.str,i.width,s+r.height),e.fillText(o.str,i.width+Math.max(n.width,r.width),s+o.height/4),e.moveTo(i.width,s),e.lineTo(i.width+Math.max(n.width,r.width),s),e.stroke(),e.restore()}}]),s}(op);function yp(t){var e=this,i={width:0,height:0,str:t};return t.forEach((function(t){var n=Ho.character(t,a.SCRIPT_NOR,$(e,sp).size,$(e,sp).rowspac);i.width+=n.width,i.height+=n.height})),i}function Ep(){var t=[];return $(this,sp).bold&&t.push("bold"),$(this,sp).italic&&t.push("italic"),t.push("".concat($(this,sp).size,"px")),t.push("".concat($(this,sp).font)),t.join(" ")}var wp=new WeakMap,mp=function(){function e(){var i,n,r;t(this,e),r={writable:!0,value:void 0},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(i=this,n=wp),n.set(i,r)}return n(e,[{key:"create",value:function(t){var e=this,i=new bp(t.platter);i.draw(),i.triggerclick((function(i){q(e,wp,"#".concat(i.r.toString(16)).concat(i.g.toString(16)).concat(i.b.toString(16))),t.show.style.backgroundColor=$(e,wp)}));var n=new Tp(t.barhelper);n.draw(),n.triggerclick((function(n){i.update(n);var r=i.getPickColor();q(e,wp,"#".concat(r.r.toString(16)).concat(r.g.toString(16)).concat(r.b.toString(16))),t.show.style.backgroundColor=$(e,wp)}))}},{key:"getColor",value:function(){return $(this,wp)}}]),e}(),bp=function(){function e(i){var n=this;t(this,e),r(this,"canvas",void 0),r(this,"ctx",void 0),r(this,"sR",void 0),r(this,"sG",void 0),r(this,"sB",void 0),r(this,"xScale",void 0),r(this,"yScale",void 0),r(this,"scaleWidth",void 0),r(this,"scaleHeight",void 0),r(this,"pickPoint",void 0),r(this,"callback",void 0),this.sR=0,this.sG=255,this.sB=255,this.canvas=i,this.ctx=this.canvas.getContext("2d"),this.xScale=Math.ceil(this.canvas.width/128),this.yScale=Math.ceil(this.canvas.height/128),this.scaleWidth=this.canvas.width/this.xScale,this.scaleHeight=this.canvas.height/this.yScale,this.canvas.onmousedown=function(t){n.setPickPoint(t)}}return n(e,[{key:"triggerclick",value:function(t){this.callback=t}},{key:"draw",value:function(){this.canvas.width,this.canvas.height;for(var t=this.xScale,e=this.yScale,i=this.scaleWidth,n=this.scaleHeight,r=0;r<i;r++)for(var a=0;a<n;a++){var o=this.getScaleColor(r,a),s="rgb("+o.r+","+o.g+","+o.b+")";this.ctx.fillStyle=s,this.ctx.fillRect(r*t,a*e,t,e)}}},{key:"dragGlobal",value:function(){this.ctx.beginPath(),this.ctx.strokeStyle="#000",this.ctx.arc(this.pickPoint.x,this.pickPoint.y,4,0,2*Math.PI),this.ctx.stroke()}},{key:"getScaleColor",value:function(t,e){var i=this.scaleWidth,n=this.scaleHeight,r=this.sR,a=this.sG,o=this.sB,s=r>a?r:a,l=s>o?s:o,h=255-t*((255-(s=s>o?o:s))/i),c=255-t*((255-(r+a+o-s-l))/i),u=255-t*((255-l)/i),f=h/n,d=Math.floor(h-e*f);f=c/n;var p=Math.floor(c-e*f);f=u/n;var g=Math.floor(u-e*f);return{r:r===l?g:r===s?d:p,g:a===l?g:a===s?d:p,b:o===l?g:o===s?d:p}}},{key:"getColor",value:function(t,e){return this.getScaleColor(t/this.xScale,e/this.yScale)}},{key:"update",value:function(t){this.sR=t.r,this.sG=t.g,this.sB=t.b,this.draw(),this.dragGlobal()}},{key:"setPickPoint",value:function(t){this.pickPoint={x:t.offsetX,y:t.offsetY},this.draw(),this.dragGlobal(),this.callback(this.getPickColor())}},{key:"getPickColor",value:function(){if(this.pickPoint)return this.getColor(this.pickPoint.x,this.pickPoint.y)}}]),e}(),Tp=function(){function e(i){var n=this;t(this,e),r(this,"canvas",void 0),r(this,"ctx",void 0),r(this,"pickLineWidth",void 0),r(this,"rainWidth",void 0),r(this,"rainHeight",void 0),r(this,"pickLineY",void 0),r(this,"callback",void 0),this.canvas=i,this.ctx=this.canvas.getContext("2d"),this.pickLineWidth=10,this.rainWidth=this.canvas.width-2*this.pickLineWidth,this.rainHeight=this.canvas.height-this.pickLineWidth,this.canvas.onclick=function(t){n.dragLine(t)}}return n(e,[{key:"triggerclick",value:function(t){this.callback=t}},{key:"draw",value:function(){for(var t=this.rainWidth,e=this.rainHeight,i=this.ctx,n=this.pickLineWidth/2,r=0;r<=e;r++){var a=this.getColor(r),o="rgb("+a.r+","+a.g+","+a.b+")";i.strokeStyle=o,i.beginPath(),i.moveTo(this.pickLineWidth,r+n),i.lineTo(this.pickLineWidth+t,r+n),i.stroke()}}},{key:"getColor",value:function(t){var e=this.rainHeight,i=255/(e/6),n=255,r=0,a=0;return t<=e/3?(t<=e/6?((a=Math.floor(i*t))>255&&(a=255),n=255):((n=255-Math.floor(i*(t-e/6)))<0&&(n=0),a=255),r=0):t<=2*e/3?(t<3*e/6?((r=Math.floor(i*(t-2*e/6)))>255&&(r=255),a=255):((a=255-Math.floor(i*(t-3*e/6)))<0&&(a=0),r=255),n=0):(t<5*e/6?((n=Math.floor(i*(t-4*e/6)))>255&&(n=255),r=255):((r=255-Math.floor(i*(t-5*e/6)))<0&&(r=0),n=255),a=0),{r:n,g:r,b:a}}},{key:"drawPickLine",value:function(t){this.pickLineY=t;var e=this.pickLineWidth,i=(this.canvas.height,this.canvas.height),n=this.canvas.width,r=this.ctx;r.clearRect(0,0,e,i),r.clearRect(n-e,0,e,i),r.fillStyle="#ffaaaa",r.beginPath(),r.moveTo(0,t),r.lineTo(e,t+e/2),r.lineTo(0,t+e),r.fill(),r.beginPath(),r.moveTo(n,t),r.lineTo(n-e,t+e/2),r.lineTo(n,t+e),r.fill()}},{key:"getPickColor",value:function(){return this.getColor(this.pickLineY)}},{key:"updatePickLine",value:function(t){var e=this.pickLineWidth,i=this.canvas.height-e;t<0?t=0:t>i&&(t=i),this.drawPickLine(t)}},{key:"dragLine",value:function(t){var e=t.offsetY;this.updatePickLine(e),this.callback(this.getPickColor())}}]),e}();window.EditorDocs={webuicontorl:{domid:void 0,scrollid:void 0,init:function(){},synchroData:function(){},synchroStyle:function(){},synchroStack:function(){},synchroDocumentCount:function(){},showContextMenu:function(){},showMessage:function(){},showMask:function(){}},control:void 0,signature:void 0,formula:void 0,colorpanel:void 0,init:function(t){this.initEnviron(),Object.assign(this.webuicontorl,t),this.webuicontorl.init(),this.webuicontorl.showMask(!1)},new:function(t){this.load(j.createNewDocument(t))},load:function(t){this.webuicontorl.showMask(!0),this.control=new Bf,this.control.create(this.webuicontorl),this.control.load(t,!1),this.webuicontorl.showMask(!1)},initEnviron:function(){A.setLevel(A.DEBUG),s.compatible()},refresh:function(){this.control&&this.control.refresh()},registerSignature:function(t){this.signature=new jd,this.signature.create(t)},cancelSignature:function(){this.signature.destroy(),this.signature=void 0},createColorPanel:function(t){this.colorpanel=new mp,this.colorpanel.create(t)},previewMedicalExp:function(t,e){"msh"==t&&ap.drawMSh(e.canvas,.1,{},e.content,!0)},fileDownload:function(){this.control&&this.control.fileDownload()},fileImport:function(t){this.control&&this.control.fileImport(t)},fileExport:function(){if(this.control)return this.control.fileExport()},filePreview:function(){this.control&&this.control.filePreview()},filePrint:function(){this.control&&this.control.filePrint()},fileExpImage:function(){this.control&&this.control.fileExpImage()},prevStack:function(){this.control&&this.control.prevStack()},nextStack:function(){this.control&&this.control.nextStack()},setPaperInfo:function(t){this.control&&this.control.setPaperInfo(t)},setZoom:function(t){this.control&&this.control.setZoom(t)},changeTextStyle:function(t){this.control&&this.control.changeTextStyle(t)},changeParagStyle:function(t){this.control&&this.control.changeParagStyle(t)},changeFontColor:function(t){this.control&&this.control.changeFontColor(t)},changePageNum:function(t){this.control&&this.control.changePageNum(t)},copyText:function(){this.control&&this.control.copyText()},pasteText:function(){this.control&&this.control.pasteText()},cutText:function(){this.control&&this.control.cutText()},insertWord:function(t){this.control&&this.control.insertWord(t)},insertTable:function(t){this.control&&this.control.insertTable(t)},insertImage:function(t){this.control&&this.control.insertImage(t)},insertDate:function(t,e){this.control&&this.control.insertDate(t,e)},insertWatermark:function(t,e){this.control&&this.control.insertWatermark(t,e)},insertPageNumber:function(t){this.control&&this.control.insertPageNumber(t)},insertSignature:function(t){this.control&&this.control.insertSignature(t)},insertBarcode:function(t){this.control&&this.control.insertGraphicCode(D.IAMGE_TYPE_BARCODE,t)},insertQrcode:function(t){this.control&&this.control.insertGraphicCode(D.IAMGE_TYPE_QRCODE,t)},insertDivder:function(t){this.control&&this.control.insertDivder(t)},insertShape:function(t){this.control&&this.control.insertShape(t)},insertTextFieldWidget:function(){this.control&&this.control.insertTextFieldWidget()},insertComboboxWidget:function(){},insertCheckboxWidget:function(){},insertRadioboxWidget:function(){},deleteWatermark:function(){this.control&&this.control.deleteWatermark()},tableMerge:function(){this.control&&this.control.tableMerge()},tableDeleteRow:function(){this.control&&this.control.tableDeleteRow()},tableDeleteCol:function(){this.control&&this.control.tableDeleteCol()},tableDelete:function(){this.control&&this.control.tableDelete()},tableInsertRowAbove:function(){this.control&&this.control.tableInsertRowAbove()},tableInsertRowBelow:function(){this.control&&this.control.tableInsertRowBelow()},tableInsertColLeft:function(){this.control&&this.control.tableInsertColLeft()},tableInsertColRight:function(){this.control&&this.control.tableInsertColRight()},tableSplit:function(t){this.control&&this.control.tableSplit(t)},tableDeleteCell:function(t){this.control&&this.control.tableDeleteCell(t)},tableCellInfo:function(){if(this.control){var t=this.control.tableCellInfo();return{rows:t.maxrow-t.minrow,cols:t.maxcol-t.mincol}}},editorBody:function(){this.control&&this.control.editorBody()},editorHeader:function(){this.control&&this.control.editorHeader()},editorFooter:function(){this.control&&this.control.editorFooter()},getParagStyle:function(){if(this.control)return this.control.getParagStyle()},getTextStyle:function(){if(this.control)return this.control.getTextStyle()},getPaperInfo:function(){if(this.control)return this.control.getPaperInfo()},getUsedColors:function(){if(this.control)return this.control.getUsedColors()},getSignature:function(){if(this.signature)return this.signature.getBase64()},getSeletedColor:function(){if(this.colorpanel)return this.colorpanel.getColor()},getZoomRatio:function(){return a.SYS_ZOOM},getViewSize:function(){if(this.control)return this.control.getViewSize()},getPageNumInfo:function(){if(this.control)return this.control.getPageNumInfo()},getFontFamilyList:function(){var t=[];return a.FontFamilys.forEach((function(e){t.push(Object.assign({},e))})),t},getFontSizeList:function(){var t=[];return a.FontSizes.forEach((function(e){t.push(Object.assign({},e))})),t},getParagAlignList:function(){return[{label:"左对齐",value:a.ALIGN_LEFT},{label:"右对齐",value:a.ALIGN_RIGHT},{label:"居中对齐",value:a.ALIGN_CENTER},{label:"两段对齐",value:a.ALIGN_BOTH},{label:"分散对齐",value:a.ALIGN_DISPERSED}]},getParagIndentList:function(){return[{label:"无",value:a.INDENT_TYPE_NULL},{label:"首行缩进",value:a.INDENT_TYPE_TEXT},{label:"悬挂缩进",value:a.INDENT_TYPE_HANG}]},getParagSpaceList:function(){return[{label:"1",value:1},{label:"1.15",value:1.15},{label:"1.5",value:1.5},{label:"2",value:2},{label:"2.5",value:2.5},{label:"3",value:3}]},getSymbolList:function(){for(var t=[],e={name:"常用",list:[]},i=0;i<16;i++)e.list.push("≠¥①②③№√×↓→↑←‰¾¼½"[i]);t.push(e);for(var n={name:"符号",list:[]},r=0;r<44;r++)n.list.push("＋－×±÷㎏㎎㎜㎝㎡㏄ml㏕ɑɡαβθ℃〖〗｛｝©®＠＆＊＃％‰＄￥§¦※◎≈…≤≥≦≧"[r]);return t.push(n),t},getPageNumShowList:function(){return[{label:"是",value:"1"},{label:"否",value:"0"}]},getPageNumPatternList:function(){var t=[];return a.PageNumPatterns.forEach((function(e){t.push(Object.assign({},e))})),t},getPageNumAlignList:function(){return[{label:"左对齐",value:a.ALIGN_LEFT},{label:"右对齐",value:a.ALIGN_RIGHT},{label:"居中对齐",value:a.ALIGN_CENTER}]},getDataPatternList:function(){var t=[];return a.DatePatterns.forEach((function(e){t.push(Object.assign({},e))})),t},getPaperTypeList:function(){var t=[];return a.PaperTypes.forEach((function(e){t.push(Object.assign({standard:!0},e))})),t.push({standard:!1,name:"自定义",value:"custom"}),t},getPaperDirecList:function(){return a.PaperDirections},getPaperMarginList:function(){return a.PaperMargins},getWaterMarkFontSizeList:function(){return[{value:1e3,name:"100"},{value:1500,name:"150"},{value:2e3,name:"200"},{value:2500,name:"250"},{value:3e3,name:"300"},{value:3500,name:"350"},{value:4e3,name:"400"},{value:4500,name:"450"}]},getZoomScaleList:function(){return[.1,.2,.3,.4,.5,.6,.7,.8,.9,.95,1,1.1,1.2,1.25,1.5,1.75,2,2.5,3,4,5]},getMenstrualTypeList:function(){return[{id:0,text:"末次日期"},{id:1,text:"闭经年龄"}]},colorTool:function(t,e){return"h16ToInt"==t?m.h16ToInt(e):"intToH16"==t?m.intToH16(e):void 0},stringTool:function(t,e){return"isNotBlank"==t?b.isNotBlank(e):"uuid"==t?b.getUUID():void 0},canvasTool:function(t,e,i){"drawWaterMark"==e&&Zl.draw(t,i)},devicesTool:function(t,e){"fullscreen"==t&&g.fullscreen()}}})()})();
//# sourceMappingURL=peach-editor-min.js.map